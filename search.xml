<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[BERTå‘å±•å²ï¼ˆä¸‰ï¼‰å…¨æ–¹ä½å¤šè§’åº¦ç†è§£Word2Vec]]></title>
    <url>%2F2019%2F02%2F25%2FBERT3%2F</url>
    <content type="text"><![CDATA[å»ºè®®å…ˆé˜…è¯»ä¹‹å‰ä¸¤ç¯‡æ–‡ç« ï¼š BERTå‘å±•å²ï¼ˆä¸€ï¼‰ä»Žè¯åµŒå…¥è®²èµ· BERTå‘å±•å²ï¼ˆäºŒï¼‰è¯­è¨€æ¨¡åž‹ 0. å†™åœ¨å‰é¢åœ¨ä¸Šä¸€ç¯‡ä»‹ç»çš„ç¥žç»ç½‘ç»œè¯­è¨€æ¨¡åž‹ä¸­ï¼Œæˆ‘ä»¬è®­ç»ƒæ¨¡åž‹çš„ç›®æ ‡æ˜¯å¾—åˆ°ä¸€ä¸ªæ³›åŒ–èƒ½åŠ›å¼ºã€æ— éœ€å¹³æ»‘çš„è¯­è¨€æ¨¡åž‹ï¼Œè€Œè¯å‘é‡åªæ˜¯æˆ‘ä»¬åœ¨è®­ç»ƒè¯­è¨€æ¨¡åž‹è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªå‰¯äº§ç‰©ï¼Œè¿™ä¸ªå‰¯äº§ç‰©å¯ä»¥èµ·åˆ°è¯åµŒå…¥çš„ä½œç”¨ï¼Œå°†è¯­æ–™åº“ä¸­çš„è¯è¯­æ˜ å°„ä¸ºä¸€ä¸ªä¸ªçš„å‘é‡ï¼Œä¸”å‘é‡èƒ½å¤Ÿè¡¨å¾ä¸€å®šçš„è¯­ä¹‰ä¿¡æ¯ã€‚é‚£ä¹ˆï¼Œä»Žè¯åµŒå…¥çš„è§’åº¦å‡ºå‘ï¼Œæˆ‘ä»¬æ˜¯å¦å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¨¡åž‹ä¸“é—¨ç”¨äºŽå°†è¯è¯­è½¬æ¢ä¸ºå‘é‡å‘¢ï¼Ÿå¯ä»¥å½“ç„¶æ˜¯å¯ä»¥ï¼Œä¸è¿‡æœ‰ä»¥ä¸‹é—®é¢˜éœ€è¦è€ƒè™‘ï¼š è¯­è¨€æ¨¡åž‹ç”±äºŽå…¶ä»»åŠ¡é™åˆ¶ï¼Œåªèƒ½ä½¿ç”¨å‰é¢çš„è¯è¯­æ¥é¢„æµ‹å½“å‰è¯ï¼Œç¼ºå°‘åŽé¢è¯è¯­çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚ æ¨¡åž‹çš„æœ€åŽä¸€å±‚softmaxå±‚è®¡ç®—éžå¸¸è€—æ—¶ã€‚ å› æ­¤ï¼Œå¦‚æžœè¦ä½¿ç”¨ç¥žç»ç½‘ç»œæ¥å®žçŽ°è¯åµŒå…¥ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ç¥žç»ç½‘ç»œè¯­è¨€æ¨¡åž‹è¿›è¡Œä¸€å®šçš„æ”¹è¿›ã€‚æŽ¥ä¸‹æ¥ï¼Œå°±è®©æˆ‘ä»¬çœ‹çœ‹Word2Vecæ˜¯å¦‚ä½•è§£å†³ä»¥ä¸Šé—®é¢˜çš„ã€‚ PS. å…³äºŽWord2Vecçš„ä»£ç å’Œæ•°å­¦æŽ¨å¯¼ï¼Œç½‘ä¸Šä»¥åŠæ–‡æœ«çš„å‚è€ƒèµ„æ–™ä¸­éƒ½è¦éžå¸¸å¥½ä¸”è¯¦ç»†çš„ä»‹ç»ï¼Œè¿™ç¯‡æ–‡ç« å¹¶ä¸æƒ³é‡å¤å‰äººå·¥ä½œï¼Œå› æ­¤ï¼Œæœ¬æ–‡åœ¨åŸºæœ¬æ¦‚å¿µä¹‹å¤–ï¼Œä¹ŸåŠ å…¥äº†è®¸å¤šç†è§£æ€§çš„ä¸œè¥¿ï¼ˆå¦‚å¯¹è¯­ä¹‰å¦‚ä½•å»ºæ¨¡åˆ°å‘é‡ä¸­çš„ç†è§£ï¼Œè¯å‘é‡ç»´åº¦çš„ç†è§£ç­‰ï¼‰ï¼Œå¸Œæœ›èƒ½å¤Ÿèµ·åˆ°å‚è€ƒä»·å€¼ã€‚ 1. Word2Vecæ¦‚è§ˆWord2Vecå¹¶éžæŒ‡ä¸€ä¸ªæ¨¡åž‹ï¼Œè€Œæ˜¯2013å¹´Googleå¼€æºçš„ä¸€ä¸ªèŽ·å–è¯å‘é‡çš„å·¥å…·åŒ…ï¼Œç”±äºŽç®€å•é«˜æ•ˆï¼Œå¤§å¤§é™ä½Žäº†è¯å‘é‡åœ¨å·¥ä¸šç•Œçš„åº”ç”¨é—¨æ§›ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹Word2Vecèƒ½å¤Ÿå–å¾—çš„æ•ˆæžœï¼š ç›¸ä¼¼è¯ï¼šé€šè¿‡å‘é‡é—´è·ç¦»çš„è¿œè¿‘æ¥å¯»æ‰¾ç›¸ä¼¼è¯ï¼Œå¦‚mançš„ç›¸ä¼¼è¯womanï¼› è¯è¯­çº¿æ€§è¿ç®—ï¼šV(King) - V(man) + V(woman) = V(Queen) ç”±æ­¤å¯è§ï¼ŒWord2Vecå¯ä»¥é€šè¿‡ä¸Šä¸‹æ–‡å°†è¯­ä¹‰è¾ƒå¥½çš„åµŒå…¥åˆ°å‘é‡ç©ºé—´ä¸­ã€‚ç”±äºŽWord2Vecç”Ÿæˆçš„è¯å‘é‡å°†è‡ªç„¶è¯­è¨€çš„ç‰¹å¾è¾ƒå¥½åœ°èžåˆè¿›äº†ä½Žç»´åº¦ç¨ å¯†è¯å‘é‡ä¸­ï¼Œä½¿ç”¨è¯å‘é‡è¿›è¡ŒåŽç»­çš„å„ç§NLPä»»åŠ¡ä¾¿å¯ä»¥å–å¾—è¾ƒå¥½çš„ç»“æžœã€‚ Word2Vecæœ¬èº«çš„æ¨¡åž‹ç»“æž„æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä½†æ¨¡åž‹ç»“æž„ä»¥å¤–æœ‰è®¸å¤šéœ€è¦ç†è§£çš„å†…å®¹ï¼Œå¯¹Word2Vecçš„ç†è§£å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°è°ƒèŠ‚æ·±åº¦å­¦ä¹ æ¨¡åž‹å‚æ•°ï¼Œæ›´å¥½åœ°ç†è§£åŒ…æ‹¬BERTåœ¨å†…çš„åŽç»­å„ä¸ªæ¨¡åž‹ã€‚è¦ç†è§£Word2Vecï¼Œæˆ‘ä»¬ä¸»è¦éœ€è¦äº†è§£å…¶ä¸­çš„å››ä¸ªæ¦‚å¿µï¼š CBOW Skip-gram Hierarchical softmax Negative Sampling å…¶ä¸­ï¼Œå‰ä¸¤ä¸ªä»£è¡¨Word2Vecä¸­ä¸¤ç§ä¸åŒçš„èŽ·å–è¯å‘é‡çš„ç­–ç•¥ï¼Œæˆ–è€…è¯´æ¨¡åž‹ç»“æž„ï¼›åŽä¸¤ä¸ªåˆ™æ˜¯ä¸¤ç§æ”¹è¿›softmaxè®¡ç®—å¤æ‚åº¦è¿‡é«˜é—®é¢˜çš„æ–¹æ³•ã€‚ è¿™ç¯‡æ–‡ç« å°†å¯¹ä»¥ä¸Šå››ä¸ªæ¦‚å¿µè¿›è¡Œæ·±å…¥å‰–æžï¼Œä¹‹åŽå°†ç»™å‡ºå¯¹Word2Vecå¦‚ä½•å»ºæ¨¡è¯­ä¹‰ä¿¡æ¯çš„ç†è§£å’Œå¯¹è¯å‘é‡ç»´åº¦çš„ç†è§£ã€‚ 2. CBOW &amp; Skip-gramé¦–å…ˆï¼Œä¸Žè¯­è¨€æ¨¡åž‹åªä½¿ç”¨å½“å‰è¯å‰é¢çš„è¯è¯­ä¸åŒï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å½“å‰è¯å‘¨å›´çš„è¯æ¥å»ºæ¨¡è¯å‘é‡ã€‚å…¶æ¬¡ï¼Œè¦æ˜Žç¡®çš„æ˜¯ï¼ŒCBOWå’ŒSkip-graméƒ½æ˜¯ä½¿ç”¨æµ…å±‚çš„ç¥žç»ç½‘ç»œï¼Œä»–ä»¬çš„åŒºåˆ«åœ¨äºŽè¾“å…¥å’Œè¾“å‡ºçš„ä¸åŒã€‚ CBOWï¼šä»¥å½“å‰è¯çš„å‘¨å›´è¯è¯­ä½œä¸ºè¾“å…¥ï¼Œå½“å‰è¯ä½œä¸ºè¾“å‡ºã€‚å³ä¸Šä¸‹æ–‡é¢„æµ‹å½“å‰è¯ã€‚ Skip-gramï¼šä»¥å½“å‰è¯ä½œä¸ºè¾“å…¥ï¼Œå½“å‰è¯çš„å‘¨å›´è¯ä½œä¸ºè¾“å‡ºã€‚å³å½“å‰è¯é¢„æµ‹ä¸Šä¸‹æ–‡ã€‚ 2.1 CBOWCBOWä½¿ç”¨å½“å‰è¯å‘¨å›´çš„è¯è¯­æ¥é¢„æµ‹å½“å‰è¯ï¼Œæ‰€è°“å‘¨å›´è¯ï¼Œæ—¢åŒ…æ‹¬å‰é¢çš„è¯è¯­ï¼Œä¹ŸåŒ…æ‹¬åŽé¢çš„è¯è¯­ã€‚è‡³äºŽå–å‰åŽå‡ ä¸ªè¯è¯­ï¼Œç”±Context windowæŒ‡å®šã€‚ è¿˜æ˜¯ä¸¾ä¾‹å­ðŸŒ°æ¥è¯´æ˜Žï¼š æˆ‘ä»¬æœ‰ä¸€ä¸ªå¥å­ï¼šâ€œçŸ¥è¯†æ”¹å˜å‘½è¿â€ã€‚åˆ†è¯ä¸º[â€œçŸ¥è¯†â€, â€œæ”¹å˜â€, â€œå‘½è¿â€]ã€‚æž„é€ è¯è¡¨ä¸º{0: , 1: çŸ¥è¯†, 2: æ”¹å˜, 3: å‘½è¿}ã€‚å…¶ä¸­ï¼Œæ˜¯è‡ªå·±æž„é€ çš„ä¸€ä¸ªã€Œå¡«å……è¯ã€ã€‚ ä½¿ç”¨CBOWçš„æ–¹æ³•ï¼Œå–Context window=1ï¼Œæž„é€ æ ·æœ¬ä¸ºï¼š , æ”¹å˜ â€”&gt; çŸ¥è¯† çŸ¥è¯†ï¼Œå‘½è¿ â€”&gt; æ”¹å˜ æ”¹å˜ï¼Œ â€”&gt; å‘½è¿ æŽ¥ä¸‹æ¥ï¼Œå’Œç¥žç»ç½‘ç»œè¯­è¨€æ¨¡åž‹ä¸€æ ·ï¼Œæˆ‘ä»¬ä¸ºè¯è¡¨ä¸­çš„æ¯ä¸ªè¯è¯­åˆ†é…ä¸€ä¸ªéšæœºåˆå§‹åŒ–çš„è¯å‘é‡ï¼ˆçžŽç¼–çš„æ•°å­—ðŸ˜ï¼‰ï¼š \left[ \begin{matrix} 0.02 & 0.32 & -0.15 \\ 0.51 & -0.75 & 0.64 \\ 0.08 & 0.68 & -0.9 \\ 0.21 & 0.05 & 0.84 \\ \end{matrix} \right]\tag{1}å…¶ä¸­ï¼ŒçŸ©é˜µçš„ç¬¬ä¸€è¡Œä¸ºè¯è¡¨ä¸­åºå·ä¸º0çš„è¯è¯­çš„è¯å‘é‡ï¼Œä»¥æ­¤ç±»æŽ¨ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬æœ€ç»ˆçš„ç›®æ ‡å¹¶ä¸æ˜¯å¾—åˆ°ä¸€ä¸ªç¥žç»ç½‘ç»œæ¨¡åž‹ï¼Œè€Œæ˜¯å¾—åˆ°æ›´æ–°åŽçš„è¯å‘é‡çŸ©é˜µã€‚ ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬å…ˆä»Žä¸€ä¸ªä¸Šä¸‹æ–‡è¯è¯­é¢„æµ‹å½“å‰è¯å¼€å§‹ï¼Œæ¯”å¦‚ä½¿ç”¨ã€ŒçŸ¥è¯†ã€è¿™ä¸ªè¯åŽ»é¢„æµ‹ã€Œæ”¹å˜ã€ã€‚ç¥žç»ç½‘ç»œçš„è¾“å…¥ä¸ºçŸ¥è¯†è¿™ä¸ªè¯çš„è¯å‘é‡ï¼Œè¾“å‡ºä¸ºé¢„æµ‹è¯è¡¨ä¸­çš„æ‰€æœ‰è¯å‡ºçŽ°çš„æ¦‚çŽ‡ã€‚ç›®æ ‡æ˜¯æœ€å¤§åŒ–ã€Œæ”¹å˜ã€è¿™ä¸ªè¯å‡ºçŽ°çš„æ¦‚çŽ‡ï¼Œå³P(æ”¹å˜|çŸ¥è¯†)ã€‚å…¶ç»“æž„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆç”»åŠŸæ‹™åŠ£ï¼Œå‡‘æ´»ç€çœ‹å§ï½žðŸ‘€ï¼‰ï¼š å›¾ä¸€ è¿™é‡Œå…¶å®žå°±æ˜¯ä¸€ä¸ªå•å±‚çš„å…¨è¿žæŽ¥å±‚ç¥žç»ç½‘ç»œï¼Œä¸è¿‡æˆ‘æ²¡æœ‰æŒ‰æ™®é€šçš„ç¥žç»ç½‘ç»œé‚£æ ·ç”»ï¼ˆç”»æˆè¿™æ ·æ˜¯ç”±äºŽåŽé¢éœ€è¦ï½žï¼‰ã€‚ç”±äºŽä¸€å±‚å…¨è¿žæŽ¥ç¥žç»ç½‘ç»œå…¶å®žå°±æ˜¯ä¸€æ¬¡çŸ©é˜µè¿ç®—ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œç”»æˆäº†å‘é‡ä¸ŽçŸ©é˜µçš„è¿ç®—å½¢å¼ã€‚Wå°±æ˜¯å‰é¢åˆå§‹åŒ–çš„è¯å‘é‡çŸ©é˜µï¼ŒWåˆ°$w_1$è¿™é‡Œï¼Œæ˜¯ã€Œå–ã€çŸ¥è¯†è¿™ä¸ªè¯çš„è¯å‘é‡çš„è¿‡ç¨‹ï¼›Wâ€™æ˜¯ç¥žç»ç½‘ç»œçš„æƒé‡çŸ©é˜µï¼Œæˆ‘è¿™é‡Œç”»æˆäº†å››ä¸ªåˆ—å‘é‡(å…¶å®žè¿™å››ä¸ªåˆ—å‘é‡ä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯å››ä¸ªè¯è¯­çš„è¯å‘é‡ï¼ŒWå«è¾“å…¥è¯å‘é‡ï¼ŒWâ€™å«åšè¾“å‡ºè¯å‘é‡ã€‚ä¸€èˆ¬ä½¿ç”¨è¾“å…¥è¯å‘é‡ã€‚)ï¼›æœ€åŽçš„ç»“æžœæ˜¯$w_1â€‹$ä¸Žå››ä¸ªåˆ—å‘é‡åšå†…ç§¯å¾—åˆ°çš„å€¼ç»„æˆçš„è¾“å‡ºå‘é‡ã€‚ æœ€åŽçš„è¾“å‡ºå‘é‡åšä¸€æ¬¡softmaxè¿ç®—ï¼Œå°±å¯ä»¥å¾—åˆ°è¯è¡¨ä¸­å››ä¸ªè¯è¯­çš„æ¦‚çŽ‡äº†ã€‚ç„¶åŽé’ˆå¯¹æŸå¤±å‡½æ•°ä½¿ç”¨åå‘ä¼ æ’­è¿›è¡Œä¼˜åŒ–å°±è¡Œäº†ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨è¿™ä¸ªç¥žç»ç½‘ç»œçš„è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ›´æ–°çš„å‚æ•°ä¸åªæ˜¯å…¶æƒé‡çŸ©é˜µWâ€™ï¼Œè¿˜æœ‰å…¶è¾“å…¥$w_1$ã€‚ å†æ¥çœ‹ã€ŒçŸ¥è¯†ã€å’Œã€Œå‘½è¿ã€é¢„æµ‹ã€Œæ”¹å˜ã€çš„æƒ…å†µï¼Œç»“æž„å›¾å¦‚ä¸‹ï¼š å›¾äºŒ å’Œä¸Šé¢é‚£å¼ å›¾çš„å·®å¼‚åœ¨äºŽè¾“å…¥ã€‚å½“ä¸¤ä¸ªä¸Šä¸‹æ–‡è¯è¯­é¢„æµ‹å½“å‰è¯æ—¶ï¼Œç¥žç»ç½‘ç»œçš„è¾“å…¥ä¸ºã€ŒçŸ¥è¯†ã€å’Œã€Œå‘½è¿ã€è¿™ä¸¤ä¸ªè¯è¯­çš„è¯å‘é‡çš„å¹³å‡ã€‚ä¹‹åŽçš„è¿‡ç¨‹å°±ä¸€æ ·äº†ã€‚æ³¨æ„ï¼Œä½¿ç”¨è¿™ä¸ªæ ·æœ¬è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ›´æ–°çš„å‚æ•°ä¸ºç¥žç»ç½‘ç»œçš„æƒé‡çŸ©é˜µWâ€™å’Œä¸¤ä¸ªè¯å‘é‡$w_1$å’Œ$w_3$ã€‚ ä»¥ä¸Šå°±æ˜¯CBOWå¾—åˆ°è¯å‘é‡çš„ç­–ç•¥äº†ï¼Œä¸»è¦å°±æ˜¯åˆ©ç”¨å•å±‚ç¥žç»ç½‘ç»œä½¿ç”¨ä¸Šä¸‹æ–‡é¢„æµ‹å½“å‰è¯ã€‚ æœ‰äº†ä»¥ä¸ŠåŸºç¡€ï¼Œå†çœ‹Skip-gramå°±ç®€å•æ˜Žäº†äº†ã€‚ 2.2 Skip-gramskip-gramä»¥å½“å‰è¯ä½œä¸ºè¾“å…¥ï¼Œå½“å‰è¯çš„ä¸Šä¸‹æ–‡è¯è¯­ä½œä¸ºè¾“å‡ºã€‚è¿™ä¸ªç­–ç•¥åœ¨æž„é€ æ ·æœ¬æ—¶æœ‰ä¸¤ä¸ªæ¦‚å¿µéœ€è¦æ¸…æ¥šï¼Œä¸€ä¸ªæ˜¯skip_windowï¼Œç±»ä¼¼äºŽCBOWçš„context_windowï¼Œç”¨äºŽæŒ‡å®šé€‰å–ä¸Šä¸‹æ–‡æ—¶çš„å•ä¾§çª—å£å¤§å°ï¼›å¦ä¸€ä¸ªæ˜¯num_skipsï¼Œè¡¨ç¤ºæˆ‘ä»¬å°†ä»Žä¸Šä¸‹æ–‡çª—å£ä¸­é€‰å–å‡ ä¸ªè¯ä½œä¸ºlabelã€‚ åŒæ ·è¿˜æ˜¯ã€ŒçŸ¥è¯†æ”¹å˜å‘½è¿ã€è¿™ä¸ªä¾‹å­ï¼Œä»¥skip_window=1, num_skips=2æž„é€ ä»¥ä¸‹æ ·æœ¬(è¿™é‡Œæˆ‘æ²¡æœ‰æž„é€ å¡«å……è¯)ï¼š æ”¹å˜â€”&gt; çŸ¥è¯† æ”¹å˜â€”&gt;å‘½è¿ æœ‰äº†è¾“å…¥å’Œè¾“å‡ºï¼ŒæŽ¥ä¸‹æ¥çš„è®­ç»ƒæ–¹å¼å°±æ˜¯æ­£å¸¸çš„ç¥žç»ç½‘ç»œçš„è®­ç»ƒäº†ã€‚ å®žé™…å®žçŽ°è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„ç‚¹ã€‚ ä»¥ä¸Šé¢ä¾‹å­ä¸ºä¾‹ï¼Œæž„é€ æ ·æœ¬æ—¶ï¼Œè‹¥num_skips=1ï¼Œæˆ‘ä»¬éœ€è¦åœ¨çª—å£çš„ä¸¤ä¸ªè¯ä¸­å–ä¸€ä¸ªä½œä¸ºlabelï¼›å–è¯çš„æ–¹å¼ä¸ºéšæœºå–ä¸€ä¸ªï¼Œè¿™é‡Œçš„éšæœºå¹¶ä¸æ˜¯ç­‰æ¦‚çŽ‡éšæœºï¼Œè€Œæ˜¯è¯é¢‘è¶Šé«˜æ¦‚çŽ‡è¶Šé«˜ã€‚ ä¸Šé¢çš„ä¾‹å­çœ‹èµ·æ¥æ˜¯æž„é€ äº†ä¸¤ä¸ªæ ·æœ¬ï¼Œä½†åœ¨å®žé™…è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œè¿™ä¸¤ä¸ªæ ·æœ¬å…±åŒç»„æˆä¸€ä¸ªæ ·æœ¬ç”¨äºŽè®¡ç®—æŸå¤±å‡½æ•°: E=-log(P(çŸ¥è¯†ï¼Œå‘½è¿|æ”¹å˜)) = -(log(P(çŸ¥è¯†|æ”¹å˜) * P(å‘½è¿|æ”¹å˜)) = -(log(P(çŸ¥è¯†|æ”¹å˜) + log(P(å‘½è¿|æ”¹å˜))) ä»Žæžå¤§ä¼¼ç„¶ä¼°è®¡çš„è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬è¦æœ€å¤§åŒ–P(çŸ¥è¯†|æ”¹å˜)å’ŒP(å‘½è¿|æ”¹å˜)çš„ä¹˜ç§¯ã€‚ç”±äºŽåŠ äº†logï¼Œä¹˜ç§¯çš„å½¢å¼å˜æˆäº†ç›¸åŠ çš„å½¢å¼ã€‚è¿™ç­‰ä»·äºŽä¸¤ä¸ªå­æ ·æœ¬ç»„æˆä¸€ä¸ªbatchè®¡ç®—æŸå¤±å‡½æ•°ã€‚å¦‚æžœä½ è¯»è¿‡word2vecçš„æºç çš„è¯ï¼Œä½ ä¼šå‘çŽ°ï¼Œskip-gramåœ¨æž„é€ æ ·æœ¬æ—¶ï¼Œå¹¶éžæ˜¯å°†CBOWä¸­çš„ï¼ˆ[çŸ¥è¯†ï¼Œå‘½è¿]ï¼Œæ”¹å˜ï¼‰ç¿»è½¬ä¸ºï¼ˆæ”¹å˜ï¼Œ[çŸ¥è¯†ï¼Œå‘½è¿]ï¼‰ï¼Œè€Œæ˜¯æž„é€ äº†ä¸¤ä¸ªæ ·æœ¬ï¼šï¼ˆæ”¹å˜ï¼ŒçŸ¥è¯†ï¼‰ï¼Œï¼ˆæ”¹å˜ï¼Œå‘½è¿ï¼‰ã€‚å®žé™…è¿ç®—æ—¶ï¼Œåªéœ€è¦å°†ä¸Šè¿°æ ·æœ¬æ”¾åœ¨åŒä¸€ä¸ªbatché‡Œé¢å°±è¡Œäº†ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä»£ç é‡Œéœ€è¦ä¿è¯batch_size % num_skips == 0ã€‚ å¦å¤–ï¼Œå…³äºŽCBOWå’ŒSkip-gramçš„è¡¨è¿°ï¼Œä½ å¯èƒ½çœ‹åˆ°æ¯”è¾ƒå¤šçš„æ˜¯ä»¥ä¸‹ä¸¤å¹…å›¾ï¼š å›¾ä¸‰ çœ‹èµ·æ¥æ¯”æˆ‘å‰é¢ç”»çš„ç¥žç»ç½‘ç»œå¤šäº†ä¸€å±‚ï¼Œä½†å…¶å®žæ˜¯ä¸€æ ·çš„ã€‚è¿™ä¸¤å¹…å›¾å°†ã€Œå–ã€è¯å‘é‡è¿™ä¸€æ­¥ä½œä¸ºäº†ç¥žç»ç½‘ç»œçš„ç¬¬ä¸€å±‚ï¼Œä½¿ç”¨è¯è¯­çš„one-hotç¼–ç ï¼ˆå³ä¸Šå›¾ä¸­çš„è¾“å…¥å±‚ï¼‰ä¸Žè¯å‘é‡çŸ©é˜µï¼ˆå³ä¸Šå›¾ä¸­ç¬¬ä¸€å±‚çš„æƒé‡çŸ©é˜µï¼‰ç›¸ä¹˜ï¼Œå…¶å®žå°±æ˜¯å–è¯å‘é‡çŸ©é˜µä¸­ï¼Œè¯è¯­ç¼–å·å¯¹åº”çš„é‚£ä¸€è¡Œã€‚ 2.3 æ¯”è¾ƒæ ¹æ®Word2Vecä½œè€…Mikolovçš„è¯´æ³•ï¼Œä¸¤è€…çš„æ¯”è¾ƒå¦‚ä¸‹ï¼š Skip-gram: works well with small amount of the training data, represents well even rare words or phrases. CBOW: several times faster to train than the skip-gram, slightly better accuracy for the frequent words. è¿™é‡Œç»™å‡ºæˆ‘å¯¹ä»¥ä¸Šæ¯”è¾ƒçš„ç†è§£ã€‚ å…³äºŽè®­ç»ƒé›†å¤§å°ï¼šSkip-gramåœ¨æ•°æ®é›†è¾ƒå°æ—¶èƒ½å–å¾—æ›´å¥½çš„æ•ˆæžœï¼›åŽŸå› æˆ‘è®¤ä¸ºæœ‰ä¸¤ç‚¹ï¼š1. æ•°æ®é›†è¾ƒå°æ—¶ï¼Œä½Žé¢‘è¯è¾ƒå¤šï¼ŒSkip-gramå¯¹ä½Žé¢‘è¯çš„è¡¨ç¤ºæ•ˆæžœè¾ƒå¥½ï¼ˆåŽŸå› åŽé¢ä¼šè¯´ï¼‰ï¼›2. åŒæ ·çš„è¯­æ–™åº“ï¼ŒSkip-gramèƒ½äº§ç”Ÿæ›´å¤š(å­)æ ·æœ¬ã€‚ å…³äºŽè®­ç»ƒé€Ÿåº¦ï¼šCBOWè®­ç»ƒé€Ÿåº¦æ›´å¿«ã€‚è¿™æ˜¯å› ä¸ºï¼Œä¸€ä¸ªbatchä¸­ï¼ŒCBOWåŒ…å«batch_sizeä¸ªä¸­å¿ƒè¯æ ·æœ¬ï¼ŒSkip-gramåŒ…å«batch_size/num_skipsä¸ªä¸­å¿ƒè¯æ ·æœ¬ï¼ŒåŒæ ·çš„batch_sizeéåŽ†ä¸€æ¬¡æ ·æœ¬é›†ï¼ŒCBOWéœ€è¦æ›´å°‘çš„stepã€‚ å…³äºŽä½Žé¢‘é«˜é¢‘è¯çš„è¡¨ç¤ºæ•ˆæžœï¼šSkip-gramå¯¹ä½Žé¢‘è¯çš„è¡¨ç¤ºæ•ˆæžœä¼˜äºŽCBOWï¼ŒCBOWå¯¹é«˜é¢‘è¯çš„è¡¨ç¤ºæ•ˆæžœç•¥ä¼˜äºŽSkip-gramã€‚åŽŸå› çš„è¯ï¼Œæˆ‘ä»Žä¸¤ä¸ªæ–¹é¢è¿›è¡Œé˜è¿°ï¼š1. ç›´è§‚ä¸Šæ¥ç†è§£ï¼ŒCBOWé€šè¿‡ä¸Šä¸‹æ–‡é¢„æµ‹ä¸­å¿ƒè¯ï¼Œå¦‚çŸ¥è¯†___å‘½è¿ï¼Œç±»ä¼¼äºŽå®Œå½¢å¡«ç©ºï¼Œé€‰æ‹©æ¦‚çŽ‡æœ€é«˜çš„ä¸€ä¸ªè¯å¡«å…¥å…¶ä¸­ï¼Œè¿™å°±è¦æ±‚è¯å‘é‡å¯¹äºŽæ¦‚çŽ‡æœ€é«˜çš„é‚£äº›è¯æœ‰è¶³å¤Ÿçš„ã€Œç†è§£ã€ï¼›è€ŒSkip-gramåˆ™æ˜¯æ ¹æ®ä¸­å¿ƒè¯å¡«å‘¨å›´çš„è¯ï¼Œå¦‚___æ”¹å˜___ï¼Œè¦åœ¨ä¸­å¿ƒè¯å‘¨å›´å¡«è¯ï¼Œè¯å‘é‡éœ€è¦å¯¹è¯¥è¯æœ‰è¶³å¤Ÿçš„ã€Œç†è§£ã€æ‰èƒ½å¡«è¯ï¼ŒåŒ…æ‹¬ä½Žé¢‘è¯ã€‚2. ä»Žåå‘ä¼ æ’­æ›´æ–°è¯å‘é‡çš„è§’åº¦æ¥çœ‹ï¼Œåœ¨åå‘ä¼ æ’­æ›´æ–°è¯å‘é‡æ—¶ï¼ŒCBOWä½¿ç”¨ç›¸åŒçš„æ¢¯åº¦æ›´æ–°æ‰€æœ‰è¾“å…¥è¯å‘é‡ï¼Œå¦‚å¯¹äºŽï¼ˆ[çŸ¥è¯†ï¼Œå‘½è¿]ï¼Œæ”¹å˜ï¼‰è¿™ä¸ªæ ·æœ¬ï¼ŒçŸ¥è¯†å’Œå‘½è¿çš„è¯å‘é‡ä½¿ç”¨åŒæ ·çš„æ¢¯åº¦è¿›è¡Œæ›´æ–°ï¼Œè¿™å°±ä½¿å¾—ä½Žé¢‘è¯çš„è¯å‘é‡æ›´æ–°è¢«é«˜é¢‘è¯ã€Œå¹³æ»‘ã€æŽ‰äº†ã€‚è€ŒSkip-gramåˆ™ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ã€‚ 3. Trickåˆ°äº†è¿™é‡Œï¼Œå…¶å®žå°±ä¸å±žäºŽæ¨¡åž‹ç»“æž„ä»‹ç»çš„èŒƒç•´äº†ï¼Œè¿™ä¸€å—ä¸»è¦æ˜¯ä¸ºäº†åŠ é€Ÿæ¨¡åž‹è®­ç»ƒï¼Œä½¿æ¨¡åž‹èƒ½å¤Ÿåº”ç”¨äºŽå¤§è§„æ¨¡è¯­æ–™åº“ã€‚ é¦–å…ˆçœ‹ä¸€ä¸‹ä¸ºä»€ä¹ˆsoftmaxå±‚è¿™ä¹ˆè´¹æ—¶ã€‚ softmaxçš„å…¬å¼å¦‚ä¸‹ï¼š \sigma ( \mathbf { z } ) _ { j } = \frac { e ^ { z _ { j } } } { \sum _ { k = 1 } ^ { K } e ^ { z _ { k } } } \quad \text { for } j = 1 , \ldots , Kå¯ä»¥çœ‹å‡ºï¼Œé’ˆå¯¹ä¸€ä¸ªé«˜ç»´å‘é‡ï¼Œå³ä½¿è¦è®¡ç®—softmaxåŽçš„ä¸€ä¸ªå…ƒç´ å€¼ï¼Œä¹Ÿéœ€è¦é’ˆå¯¹æ‰€æœ‰å…ƒç´ åšæŒ‡æ•°è¿ç®—ï¼Œå½“ç»´åº¦éžå¸¸é«˜æ—¶ï¼Œè¿™ç§è®¡ç®—æ— ç–‘æ˜¯éžå¸¸è´¹æ—¶çš„ã€‚åœ¨word2vecä¸­ï¼Œéœ€è¦åšsoftmaxè¿ç®—çš„å‘é‡ç»´åº¦ä¸ºè¯è¡¨è¯è¯­ä¸ªæ•°ï¼Œå½“è¯­æ–™åº“éžå¸¸å¤§æ—¶ï¼Œè¯è¡¨è¯è¯­ä¸ªæ•°ä¹Ÿä¼šå˜å¾—éžå¸¸å¤§ã€‚ä½†æˆ‘ä»¬å…³æ³¨çš„åªæ˜¯æŸä¸€ä¸ªè¯çš„æ¦‚çŽ‡ï¼Œå³è®¡ç®—softmaxåŽçš„æŸä¸€ä¸ªå…ƒç´ å€¼ï¼Œè¿™é‡Œè‚¯å®šå­˜åœ¨è®¸å¤šæ— ç”¨è®¡ç®—ã€‚ 3.1 Hierarchical softmaxåˆ†å±‚softmaxçš„å‡ºå‘ç‚¹æ˜¯ï¼Œå°†è¯è¡¨ä¸­çš„æ‰€æœ‰è¯è¯­ç»„ç»‡æˆä¸€æ£µå“ˆå¤«æ›¼æ ‘ï¼Œè®¡ç®—è¯è¯­å‡ºçŽ°æ¦‚çŽ‡æ—¶ï¼Œä½¿ç”¨ä»Žæ ¹èŠ‚ç‚¹åˆ°è¯è¯­æ‰€åœ¨å¶èŠ‚ç‚¹è·¯å¾„ä¸Šçš„å‘é‡è¿›è¡Œè¿ç®—ã€‚è¿™ç§æ–¹æ³•ä¸ä»…é™ä½Žäº†softmaxå±‚çš„è¿ç®—ï¼Œè¿˜å‡å°‘äº†è¾“å‡ºå±‚çš„è®¡ç®—é‡ã€‚ å…·ä½“æ¥è¯´ï¼Œå…ˆå°†è¯è¡¨ä¸­çš„è¯è¯­ç»„ç»‡åˆ°å“ˆå¤«æ›¼æ ‘çš„å¶èŠ‚ç‚¹ä¸Šã€‚ä»€ä¹ˆæ˜¯å“ˆå¤«æ›¼æ ‘ä»¥åŠå¦‚ä½•æž„å»ºç½‘ä¸Šæœ‰å¾ˆå¤šèµ„æ–™ï¼Œè¿™é‡Œä¸å†èµ˜è¿°äº†ã€‚ç®€å•æ¥è¯´ï¼Œè¿™é‡Œä½¿ç”¨çš„å“ˆå¤«æ›¼æ ‘å°±æ˜¯ä¸€æ£µäºŒå‰æ ‘ï¼Œæ¯ä¸ªéžå¶èŠ‚ç‚¹å­˜æ”¾ä¸€ä¸ªå‘é‡ï¼ˆå¯ä»¥ç†è§£æˆç¥žç»ç½‘ç»œä¸­çš„å‚æ•°ï¼Œéœ€è¦åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ›´æ–°ï¼‰ï¼Œæ¯ä¸ªå¶èŠ‚ç‚¹å­˜æ”¾ä¸€ä¸ªè¯è¯­ï¼Œè¯è¯­çš„è¯é¢‘è¶Šé«˜ï¼Œè¯¥å¶èŠ‚ç‚¹ç¦»æ ¹èŠ‚ç‚¹è¶Šè¿‘ã€‚ è¿˜æ˜¯ä»¥ã€ŒçŸ¥è¯† æ”¹å˜ å‘½è¿ã€ä¸ºä¾‹ï¼Œä½¿ç”¨ã€ŒçŸ¥è¯†ã€é¢„æµ‹ã€Œæ”¹å˜ã€ï¼Œå‡å®šè¯­æ–™åº“ä¸­çš„è¯é¢‘çŸ¥è¯†&gt;æ”¹å˜&gt;å‘½è¿ï¼Œåˆ™æ¨¡åž‹ç®€å•ç»“æž„å’Œæž„å»ºçš„å“ˆå¤«æ›¼æ ‘å¦‚ä¸‹å›¾ï¼š å›¾å›› å‰é¢çš„æ­¥éª¤éƒ½ä¸€æ ·ï¼Œå–çŸ¥è¯†çš„è¯å‘é‡ $w_1$ï¼Œç„¶åŽè®©æˆ‘ä»¬éšç€è¯å‘é‡çš„è„šæ­¥è¿›å…¥å“ˆå¤«æ›¼æ ‘ï¼Œæ¥çœ‹çœ‹å¦‚ä½•å¾—åˆ°P(æ”¹å˜|çŸ¥è¯†)ï¼š é¦–å…ˆï¼Œ$w_1$ æ¥åˆ°äº†æ ¹èŠ‚ç‚¹ï¼Œç¢°åˆ°äº†å‘é‡$w^{â€˜}_0$ , ä¸¤ä¸ªå‘é‡è¿«ä¸åŠå¾…åœ°åšäº†ä¸€æ¬¡å†…ç§¯è¿ç®—ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼ï¼š$w_1w^{â€˜}_0$ ã€‚æŽ¥ä¸‹æ¥å°±é¢ä¸´é“è·¯çš„é€‰æ‹©ï¼Œèµ°å·¦è¾¹è¿˜æ˜¯èµ°å³è¾¹ï¼Ÿæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªé—®é¢˜çœ‹ä½œä¸€ä¸ªäºŒåˆ†ç±»é—®é¢˜ï¼Œè§„å®šèµ°å·¦å­æ ‘ä¸ºè´Ÿç±»ï¼Œå³å­æ ‘ä¸ºæ­£ç±»ï¼Œä½¿ç”¨sigmoidå‡½æ•°æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼ˆç±»ä¼¼äºŽé€»è¾‘æ–¯è’‚å›žå½’ï¼‰ï¼š \sigma \left(w_1w^{'}_0 \right) = \frac { 1 } { 1 + e ^ { - w_1w^{'}_0 } }å› æ­¤ï¼Œè¢«åˆ†ä¸ºæ­£ç±»çš„æ¦‚çŽ‡ä¸º$\sigma \left(w_1w^{â€˜}_0 \right)$ ï¼Œè´Ÿç±»çš„æ¦‚çŽ‡ä¸º $1-\sigma \left(w_1w^{â€˜}_0 \right)$ ã€‚ è¦å†³å®šé€‰æ‹©å“ªæ¡è·¯ï¼Œå¾—çœ‹æˆ‘ä»¬çš„ç›®æ ‡ã€‚è¿™é‡Œçš„ç›®æ ‡æ˜¯æŠµè¾¾ã€Œæ”¹å˜ã€æ‰€åœ¨çš„å¶èŠ‚ç‚¹ï¼Œè¯¥å¶èŠ‚ç‚¹åœ¨å·¦å­æ ‘ä¸Šï¼Œå› æ­¤éœ€è¦èµ°å·¦è¾¹ã€‚åˆ°è¾¾å·¦å­æ ‘çš„ã€Œæ ¹èŠ‚ç‚¹ã€åŽï¼Œä¸Žå‰é¢ä¸€æ ·ï¼Œ$w_1$ åˆå’Œè¯¥èŠ‚ç‚¹ä¸Šçš„å‘é‡åšäº†ä¸€æ¬¡å†…ç§¯è¿ç®—ï¼Œä¸åŒçš„æ˜¯ï¼Œè¿™æ¬¡éœ€è¦èµ°å³è¾¹æ¥æ‰¾åˆ°ã€Œæ”¹å˜ã€ã€‚å› æ­¤ï¼š P(æ”¹å˜|çŸ¥è¯†) = (1-\sigma \left(w_1w^{'}_0 \right)) * \sigma \left(w_1w^{'}_1 \right)æœ‰äº†ç›®æ ‡å‡½æ•°ï¼ŒæŽ¥ä¸‹æ¥æ ¹æ®é“¾å¼æ±‚å¯¼æ³•åˆ™å°±å¯ä»¥æ±‚å‡ºå‚æ•°æ›´æ–°å…¬å¼äº†ã€‚åŽç»­çš„å…·ä½“æŽ¨å¯¼å¯ä»¥å‚è€ƒèµ„æ–™ã€2ã€‘ã€‚ 3.2 Negative SamplingNegative Samplingï¼ˆNEGï¼‰ä½¿ç”¨ç®€å•çš„éšæœºè´Ÿé‡‡æ ·æ¥ä»£æ›¿å¤æ‚çš„å“ˆå¤«æ›¼æ ‘ï¼Œå¤§å¹…æé«˜æ€§èƒ½ï¼Œå¯ä»¥ä½œä¸ºHierarchical softmaxçš„ä¸€ç§æ›¿ä»£æ–¹æ³•ã€‚ åŒæ ·ä»¥ã€ŒçŸ¥è¯† æ”¹å˜ å‘½è¿ã€ä¸ºä¾‹ï¼Œä½¿ç”¨ã€ŒçŸ¥è¯†ã€é¢„æµ‹ã€Œæ”¹å˜ã€ï¼Œé‚£ä¹ˆã€Œæ”¹å˜ã€è¿™ä¸ªè¯å°±æ˜¯ä¸€ä¸ªã€Œæ­£æ ·æœ¬ã€ï¼Œ å…¶ä»–çš„æ‰€æœ‰è¯ä¸ºã€Œè´Ÿæ ·æœ¬ã€ï¼Œ å‡è®¾æˆ‘ä»¬é‡‡é›†åˆ°çš„è´Ÿæ ·æœ¬é›†åˆä¸º{å‘½è¿}ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦æœ€å¤§åŒ–ï¼š P= P(æ”¹å˜|çŸ¥è¯†)*(1-P(å‘½è¿|çŸ¥è¯†)) = \sigma \left(w_1w^{'}_2 \right) * (1-\sigma \left(w_1w^{'}_3 \right))å…¶ä¸­$w^{â€˜}_2å’Œw^{â€˜}_3$åˆ†åˆ«ä¸ºã€Œæ”¹å˜ã€å’Œã€ŒçŸ¥è¯†ã€çš„è¾“å‡ºè¯å‘é‡ï¼ˆå³$W^{â€˜}$çš„ç¬¬ä¸‰åˆ—å’Œç¬¬å››åˆ—åˆ—å‘é‡ï¼‰ã€‚ ä¹˜å·å‰é¢è¡¨ç¤ºé¢„æµ‹ä¸ºæ­£æ ·æœ¬çš„æ¦‚çŽ‡ï¼ŒåŽé¢è¡¨ç¤ºé¢„æµ‹ä¸æ˜¯è´Ÿæ ·æœ¬çš„æ¦‚çŽ‡ã€‚å› æ­¤ï¼Œæœ€å¤§åŒ–På¯ä»¥ç†è§£ä¸ºï¼Œå¢žå¤§é¢„æµ‹æ­£æ ·æœ¬çš„æ¦‚çŽ‡åŒæ—¶é™ä½Žé¢„æµ‹è´Ÿæ ·æœ¬çš„æ¦‚çŽ‡ã€‚ å¦å¤–ï¼Œè´Ÿæ ·æœ¬çš„é‡‡é›†ä¸ºéšæœºé‡‡é›†ï¼ŒåŒæ ·ï¼Œè¿™é‡Œçš„éšæœºä¹Ÿå¹¶ä¸æ˜¯ç­‰æ¦‚çŽ‡éšæœºï¼Œè€Œæ˜¯æ ¹æ®å„ä¸ªè¯è¯­æ‰€å çš„è¯é¢‘æ¯”ä¾‹è¿›è¡Œç›¸åº”æ¦‚çŽ‡çš„é‡‡æ ·ã€‚ 3.3 æ¯”è¾ƒç”±äºŽHierarchical Softmaxä½¿ç”¨äº†å“ˆå¤«æ›¼æ ‘ï¼Œéžå¶èŠ‚ç‚¹çš„æ•°é‡å¹¶ä¸ç­‰äºŽè¯è¯­çš„æ•°é‡ï¼Œå› æ­¤ä¹Ÿæ²¡æœ‰äº†ã€Œè¾“å‡ºè¯å‘é‡ã€è¿™ä¸ªæ¦‚å¿µï¼Œå¯èƒ½ä¼šæŸå¤±ä¸€äº›æ•ˆæžœï¼ˆå¦‚Gloveä¸­ï¼Œæœ€åŽæ•ˆæžœæœ€å¥½çš„è¯å‘é‡ä¸ºè¾“å…¥è¯å‘é‡å’Œè¾“å‡ºè¯å‘é‡çš„å¹³å‡ï¼‰ã€‚ æ ¹æ®word2vecå®˜ç½‘ï¼Œä¸¤è€…çš„æ¯”è¾ƒå¦‚ä¸‹ï¼š hierarchical softmax : better for infrequent words negative sampling : better for frequent words, better with low dimensional vectors 4. å‡ ç‚¹æ€è€ƒä¸Žç†è§£4.1 å¯¹è¯­ä¹‰å»ºæ¨¡çš„ç†è§£Word2Vecä¸»è¦æ˜¯é€šè¿‡è¯è¯­ä¸Žå…¶ä¸Šä¸‹æ–‡ä¹‹é—´çš„å…³ç³»æ¥å¯¹è¯­ä¹‰è¿›è¡Œå»ºæ¨¡çš„ã€‚å‡ºå‘ç‚¹å°±æ˜¯æ‹¥æœ‰ç›¸åŒä¸Šä¸‹æ–‡çš„è¯è¯­è¯­ä¹‰æ›´åŠ ç›¸ä¼¼ï¼Œä½“çŽ°åˆ°è¯å‘é‡ä¸Šï¼Œå°±æ˜¯æ‹¥æœ‰ç›¸åŒä¸Šä¸‹æ–‡çš„è¯è¯­çš„è¯å‘é‡è·ç¦»æ›´è¿‘ã€‚å¦‚â€œè‹¹æžœæ˜¯ä¸€ç§æ°´æžœâ€ï¼Œâ€œé¦™è•‰æ˜¯ä¸€ç§æ°´æžœâ€ï¼Œè‹¹æžœå’Œé¦™è•‰æ‹¥æœ‰ç›¸åŒçš„ä¸Šä¸‹æ–‡è¯è¯­ï¼Œé‚£ä¹ˆæˆ‘ä»¬è®¤ä¸ºè‹¹æžœå’Œé¦™è•‰çš„è¯­ä¹‰æ˜¯ç›¸ä¼¼çš„ï¼Œå®ƒä»¬çš„è¯å‘é‡çš„è·ç¦»ä¹Ÿåº”è¯¥æ˜¯æ›´è¿‘çš„ã€‚é‚£ä¹ˆWord2Vecæ˜¯æ€Žä¹ˆåšåˆ°çš„å‘¢ï¼Ÿ è¦ç†è§£è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦æ¥ç®€å•åœ°çœ‹ä¸€ä¸‹åå‘ä¼ æ’­çš„è¿‡ç¨‹ã€‚é’ˆå¯¹å›¾ä¸€ï¼š è®¡ç®—softmaxåŽçš„å‘é‡å„å…ƒç´ å€¼ä¸ºï¼š y _ { i } = \frac { \exp \left( u _ { i } \right) } { \sum _ { j = 1 } ^ { 4 } \exp \left( u _ { j } \right) }æŸå¤±å‡½æ•°ä¸ºï¼š E = - \log y _ { 2 } = \log \sum _ { j = 1 } ^ { 4 } \exp \left( u _ { j } \right) - u _ { 2 }æŸå¤±å‡½æ•°å¯¹è¾“å‡ºå±‚çš„æ¢¯åº¦ä¸ºï¼š \frac { \partial E } { \partial u _ { j } } = \left\{ \begin{array} { l } { y _ { j } , \quad j ! = 2 } \\ { y _ { j } - 1 , j = 2 } \end{array} \right. = e _ { j }æŸå¤±å‡½æ•°å¯¹ã€ŒçŸ¥è¯†ã€è¿™ä¸ªè¯çš„è¯å‘é‡çš„æ¢¯åº¦ä¸ºï¼š \frac { \partial E } { \partial w _ { 1 } } = \sum _ { j = 1 } ^ { 4 } \frac { \partial E } { \partial \mathrm { u } _ { j } } \frac { \partial u _ { j } } { \partial w _ { 1 } } = \sum _ { j = 1 } ^ { 4 } e _ { j } \cdot w _ { j } ^ { \prime }ã€ŒçŸ¥è¯†ã€è¿™ä¸ªè¯çš„è¯å‘é‡çš„æ›´æ–°å…¬å¼ä¸ºï¼š w _ { 1 } ^ { ( n e w ) } = w _ { 1 } ^ { ( o l d ) } - \eta \cdot \{ \begin{array} { l } { e _ { 0 } \cdot w _ { 0 } ^ { \prime } } \\ { e _ { 1 } \cdot w _ { 1 } ^ { \prime } } \\ { e _ { 2 } \cdot w _ { 2 } ^ { \prime } } \\{ e _ { 3 } \cdot w _ { 3 } ^ { \prime } } \end{array}ä»¥ä¸Šï¼Œæˆ‘ä»¬å°±æŽ¨å‡ºäº†åŽŸå§‹å½¢å¼ä¸‹ï¼Œword2vecçš„è¯å‘é‡æ›´æ–°å…¬å¼ã€‚è®©æˆ‘ä»¬ä»¥å›¾å½¢çš„å½¢å¼æ¥ç†è§£ä¸€ä¸‹è¿™ä¸ªæ›´æ–°å…¬å¼ï¼š å›¾äº” ç”±äºŽåªæœ‰$e_2$æ˜¯è´Ÿæ•°ï¼Œå› æ­¤ï¼Œ$w_1$åŠ ä¸Šäº†$w^{â€˜}_2$çš„åˆ†é‡ï¼Œä»Žç©ºé—´ä¸Šçœ‹ï¼Œä¸¤è€…ç›¸äº’é è¿‘äº†ï¼ å³ï¼š $w{çŸ¥è¯†}$ é è¿‘äº† $w^{â€˜}{æ”¹å˜}$ ï¼›å…¶ä½™è¯è¯­çš„è¯å‘é‡åˆ™è¿œç¦»äº† $w^{â€˜}_{æ”¹å˜}$ ã€‚ åŒç†ï¼Œå¯¹äºŽæ ·æœ¬ã€Œé«˜è€ƒ æ”¹å˜ å‘½è¿ã€ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ã€Œé«˜è€ƒã€åŽ»é¢„æµ‹ã€Œæ”¹å˜ã€æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿä¼šå‘çŽ°ï¼Œ $w{é«˜è€ƒ}$ å‘ $w^{â€˜}{æ”¹å˜}$ é è¿‘ã€‚è¿™æ ·ä»¥æ¥ï¼Œ $w_{çŸ¥è¯†}$ å’Œ $w{é«˜è€ƒ}$ ä¹Ÿåœ¨äº’ç›¸é è¿‘ï¼ å› æ­¤ï¼Œä½¿ç”¨word2vecè®­ç»ƒè¯å‘é‡ï¼Œå…¶è¿‡ç¨‹å°±æ˜¯ç›¸åŒä¸Šä¸‹æ–‡çš„è¯è¯­çš„è¯å‘é‡ç›¸äº’é è¿‘ï¼Œä¸åŒä¸Šä¸‹æ–‡çš„è¯è¯­çš„è¯å‘é‡ç›¸äº’è¿œç¦»çš„è¿‡ç¨‹ã€‚å¯¹äºŽç±»ä¼¼ä¸Šä¸‹æ–‡çš„è¯è¯­ï¼Œå…¶è¯å‘é‡åœ¨ç©ºé—´ä¸Šæ›´åŠ é è¿‘ï¼Œå‘é‡ä¹‹é—´çš„è·ç¦»ä¹Ÿæ›´çŸ­ã€‚ 4.2 å¯¹è¯å‘é‡ç»´åº¦çš„ç†è§£æœ‰äº†å‰é¢çš„ç†è§£ï¼Œå†æ¥çœ‹ä¸€ä¸‹è¯å‘é‡çš„ç»´åº¦ã€‚å›¾äº”ä¸­ï¼Œæˆ‘ä»¬ç”»å‡ºäº†äºŒç»´å‘é‡ç›¸äº’é è¿‘çš„è¿‡ç¨‹ï¼Œåœ¨äºŒç»´ç©ºé—´ï¼Œå¦‚æžœæˆ‘ä»¬æƒ³è¦é è¿‘ä¸€ä¸ªå‘é‡ï¼ŒåŠ¿å¿…ä¹Ÿè¦è¿œç¦»å¦å¤–ä¸€äº›å‘é‡ã€‚ä½†å¦‚æžœæˆ‘ä»¬çš„ç›¸ä¼¼è¯è¯­æ¯”è¾ƒå¤šæ—¶ï¼ŒåŠ¿å¿…æ— æ³•é è¿‘æ‰€æœ‰ç›¸ä¼¼è¯è¯­çš„å‘é‡ã€‚è€Œç»´åº¦è¶Šé«˜ï¼Œè¶Šå¯ä»¥åœ¨ä¿æŒä¸Žå½“å‰ç›¸ä¼¼å‘é‡è·ç¦»å˜åŒ–ä¸å¤§çš„æƒ…å†µä¸‹ï¼Œé è¿‘å¦å¤–ä¸€ä¸ªç›¸ä¼¼å‘é‡ã€‚ å› æ­¤ï¼Œè¯å‘é‡çš„ç»´åº¦è¶Šé«˜ï¼Œä¸€ä¸ªè¯è¯­èƒ½å¤Ÿä¸Žè¶Šå¤šçš„è¯è¯­äº§ç”Ÿæ­£ç¡®çš„ã€Œé è¿‘è¿åŠ¨ã€ï¼Œè¡¨çŽ°åœ¨è¯­è¨€å±‚é¢ï¼Œå¯ä»¥ç†è§£ä¸ºå…·æœ‰æ›´åŠ ä¸°å¯Œçš„è¯­ä¹‰ã€‚ä¸€èˆ¬ï¼Œè®­ç»ƒè¯å‘é‡ä½¿ç”¨çš„è¯­æ–™åº“è¶Šå¤§ï¼Œå°±åº”è¯¥ä½¿ç”¨è¶Šå¤§çš„è¯å‘é‡ç»´åº¦ï¼Œè¿™æ ·ä¹Ÿèƒ½å¤Ÿå¾—åˆ°å…·å¤‡æ›´åŠ ä¸°å¯Œè¯­ä¹‰çš„è¯å‘é‡ã€‚ ä½†è¯å‘é‡çš„ç»´åº¦å¹¶éžè¶Šé«˜è¶Šå¥½ï¼Œç»´åº¦è¶Šé«˜ï¼Œè¯å‘é‡æ‰€å çš„å­˜å‚¨ç©ºé—´è¶Šå¤§ï¼Œé¡¶å±‚ä»»åŠ¡æ‰€éœ€è¦çš„è®¡ç®—é‡è¶Šå¤§ã€‚å› æ­¤ï¼Œå®žé™…ä½¿ç”¨ä¸­ï¼Œå¯ä»¥æ ¹æ®å…·ä½“è¯­æ–™åº“çš„å¤§å°å’Œå®žé™…è®¡ç®—è¦æ±‚é€‰æ‹©ã€‚ 5. ä¸è¶³ä¸Žæ”¹è¿›ç©ºé—´æ€»çš„æ¥è¯´ï¼Œword2vecé€šè¿‡è¯è¯­ä¸Žä¸Šä¸‹æ–‡çš„ç›¸äº’å…³ç³»æ¥å°†è¯­ä¹‰å»ºæ¨¡åˆ°å‘é‡ä¸­ï¼Œä½†word2vecæ²¡æœ‰è€ƒè™‘è¯è¯­ä¹‹é—´çš„é¡ºåºå…³ç³»ï¼Œä¹Ÿæ²¡æœ‰è€ƒè™‘æ•´ä¸ªè¯­æ–™åº“çš„ç»Ÿè®¡ä¿¡æ¯ï¼ˆword2vecå±žäºŽåŸºäºŽé¢„æµ‹çš„è¯åµŒå…¥æ–¹æ³•ï¼‰ï¼Œé€šè¿‡ä¸Šä¸‹æ–‡å…³ç³»å»ºæ¨¡è¯­ä¹‰çš„è¿‡ç¨‹ï¼Œä¹Ÿä¼šæŸå¤±è®¸å¤šè¯­ä¹‰å’Œå¥æ³•ç­‰ä¿¡æ¯ã€‚è¿™å°±ç»™åŽç»­çš„ç ”ç©¶ç•™ä¸‹äº†è®¸å¤šå¯å¼€å±•çš„ç©ºé—´â€¦â€¦ 6. å‚è€ƒèµ„æ–™æŽ¨èæˆ‘åœ¨å­¦ä¹ word2vecçš„è¿‡ç¨‹ä¸­ï¼Œé˜…è¯»äº†éžå¸¸å¤šçš„èµ„æ–™ï¼Œæœ‰äº›å¯¹ç†è§£Word2Vecå¸®åŠ©å·¨å¤§ï¼Œä¸‹é¢æˆ‘å°†ä¸ªäººè§‰å¾—æœ€å¥½çš„èµ„æ–™æŽ¨èå‡ºæ¥ï¼ˆç™¾åº¦ä¸€ä¸‹æˆ–googleä¸€ä¸‹éƒ½èƒ½æœåˆ°ï¼‰ï¼š ã€1ã€‘word2vec Parameter Learning Explained. Xin Rong ronxin@umich.edu è¿™ç¯‡è®ºæ–‡å¼ºçƒˆæŽ¨èï¼è®ºæ–‡å¯¹Word2Vecçš„å››ä¸ªä¸»è¦æ¦‚å¿µè¿›è¡Œäº†éžå¸¸è¯¦ç»†çš„ä»‹ç»ï¼Œä¹Ÿæœ‰ä¸€äº›Intutiveçš„è§£é‡Šå¸®åŠ©ç†è§£ï¼é¦–æŽ¨ï¼ ã€2ã€‘Word2Vecä¸­çš„æ•°å­¦åŽŸç†è¯¦è§£ å¼ºçƒˆæŽ¨èï¼æ–‡ç« ä»‹ç»Word2Vecçš„ç”±æ¥å’Œå‰ç½®çŸ¥è¯†ï¼Œæœ€éš¾å¾—çš„æ˜¯ï¼Œæ–‡ç« å¯¹å››ä¸ªä¸»è¦æ¦‚å¿µéƒ½è¿›è¡Œäº†å‰å‘ä¼ æ’­å’Œåå‘ä¼ æ’­çš„æŽ¨å¯¼ï¼Œè®¤çœŸå•ƒä¸‹æ¥ï¼Œå¯¹ç†è§£Word2Vecå¸®åŠ©å·¨å¤§ï¼ ã€3ã€‘[NLP] ç§’æ‡‚è¯å‘é‡Word2vecçš„æœ¬è´¨ æˆ‘æŽ¥è§¦Word2Vecå‰æœŸçœ‹çš„æ–‡ç« ï¼Œå¸®åŠ©æˆ‘å»ºç«‹äº†å¯¹Word2Vecçš„åˆæ­¥è®¤è¯†ï¼Œç†è§£äº†Word2Vecåˆ°åº•ä¸ºä½•æ–¹ç¥žåœ£ï¼›æ–‡ä¸­æŽ¨èçš„è®¸å¤šèµ„æ–™ä¹Ÿè®©æˆ‘åœ¨åŽç»­çš„å­¦ä¹ è¿‡ç¨‹ä¸­å—ç›ŠåŒªæµ…ï¼ ã€4ã€‘https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/tutorials/word2vec/word2vec_basic.py tensorflowå®˜æ–¹çš„word2vecåŸºç¡€ä»£ç å®žçŽ°ï¼Œå¯¹äºŽç†è§£word2vecçš„æ ·æœ¬æž„é€ ï¼Œè®­ç»ƒç»†èŠ‚ç­‰å¤§æœ‰å¸®åŠ©ã€‚]]></content>
      <tags>
        <tag>BERT NLP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[BERTå‘å±•å²ï¼ˆäºŒï¼‰è¯­è¨€æ¨¡åž‹]]></title>
    <url>%2F2019%2F01%2F22%2FBERT2%2F</url>
    <content type="text"><![CDATA[0. å†™åœ¨å‰é¢ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ä¸»è¦ä»‹ç»äº†åŸºäºŽç»Ÿè®¡æ–¹æ³•çš„è¯åµŒå…¥ï¼Œè¿™äº›æ–¹æ³•éƒ½æ˜¯ä½¿ç”¨å¾ˆé•¿çš„å‘é‡æ¥è¡¨ç¤ºä¸€ä¸ªè¯è¯­ï¼Œä¸”è¯è¯­çš„â€œå«ä¹‰â€åˆ†å¸ƒåœ¨é«˜ç»´åº¦å‘é‡çš„ä¸€ä¸ªæˆ–å°‘æ•°å‡ ä¸ªåˆ†é‡ä¸Šï¼ˆç¨€ç–ï¼‰ã€‚è¿™äº›æ–¹æ³•çš„ä¸»è¦é—®é¢˜åœ¨äºŽç”¨äºŽè¡¨ç¤ºè¯è¯­çš„å‘é‡ç»´åº¦è¿‡é«˜ä¸”éžå¸¸ç¨€ç–ï¼Œå¹¶ä¸”æ— æ³•å¾ˆå¥½çš„è¡¨å¾è¯è¯­çš„å«ä¹‰ã€‚é‚£ä¹ˆä¸€ä¸ªç†æƒ³çš„è¯å‘é‡åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å‘¢ï¼Ÿ æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬èº«å¤„äºŽä¸€ä¸ªå……æ»¡è¯è¯­çš„ç©ºé—´ï¼Œè¿™ä¸ªç©ºé—´ä¸­ï¼Œç›¸ä¼¼çš„è¯è¯­ä»¬ç»„æˆä¸€ä¸ªâ€œå®¶æ—â€æŠ±å›¢å–æš–ï¼Œå®ƒä»¬çš„è·ç¦»æ¯”è¾ƒè¿‘ï¼›ä¸ç›¸ä¼¼çš„è¯è¯­èº«å¤„ä¸åŒçš„â€œå®¶æ—â€ï¼Œè·ç¦»è¾ƒè¿œã€‚å¦‚â€œæˆ‘â€â€œä½ â€â€œä»–â€â€œå´å½¦ç¥–â€è¿™äº›è¯çš„åœ¨è¯ç©ºé—´çš„è·ç¦»æ¯”è¾ƒè¿‘ï¼Œâ€œé¦™è•‰â€å’Œâ€œç”µè„‘â€åœ¨è¯ç©ºé—´çš„è·ç¦»æ¯”è¾ƒè¿œã€‚é‚£ä¹ˆè¯åµŒå…¥å…¶å®žå°±æ˜¯æŸç§å°†è¯ç©ºé—´æ˜ å°„åˆ°å‘é‡ç©ºé—´çš„æ–¹æ³•ã€‚æˆ‘ä»¬å¸Œæœ›è¿™äº›è¯è¯­æ˜ å°„åˆ°ä¸€ä¸ªå›ºå®šé•¿åº¦çš„ç¨ å¯†ä½Žç»´åº¦ï¼ˆç›¸å¯¹äºŽè¯è¡¨å¤§å°è€Œè¨€ï¼‰å‘é‡ï¼Œä¸”ä¾ç„¶ä¿æŒä»¥ä¸Šç‰¹æ€§ï¼Œå¯ä»¥ä½¿ç”¨å‘é‡ä¹‹é—´çš„è·ç¦»æ¥åº¦é‡è¯è¯­ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œè¿™å°±æ˜¯Distributed Representationã€‚è¿™é‡Œè°ˆä¸€ä¸‹â€œDistributedâ€è¿™ä¸ªè¯çš„å«ä¹‰ã€‚åŸºäºŽç»Ÿè®¡çš„è¯åµŒå…¥æ–¹æ³•äº§ç”Ÿçš„å‘é‡éžå¸¸ç¨€ç–ï¼Œè¯è¯­çš„å«ä¹‰é›†ä¸­åˆ†å¸ƒåœ¨å‘é‡çš„ä¸€ä¸ªæˆ–å°‘æ•°å‡ ä¸ªéžé›¶åˆ†é‡ä¸Šã€‚è€Œâ€œDistributedâ€å…¶ä¸­æ–‡æ„æ€æ˜¯â€œåˆ†å¸ƒå¼â€ï¼Œæ„æ€æ˜¯æŒ‡å°†è¯è¯­çš„è¯­ä¹‰å‡åŒ€åˆ†å¸ƒåˆ°å‘é‡çš„å„ä¸ªåˆ†é‡ä¸Šï¼Œ æ¯ä¸ªéžé›¶åˆ†é‡éƒ½æ‰¿æ‹…å…¶ä¸€éƒ¨åˆ†å«ä¹‰ã€‚ è¿™ç¯‡æ–‡ç« çš„ä¸»è§’è™½ç„¶æ˜¯è¯­è¨€æ¨¡åž‹ï¼Œä½†è¯å‘é‡ä¸Žç¥žç»è¯­è¨€æ¨¡åž‹ç›¸ä¼´ç›¸ç”Ÿï¼ŒWord2Vecå…¶å®žå°±æ˜¯åœ¨ç¥žç»è¯­è¨€æ¨¡åž‹çš„åŸºç¡€ä¸Šæ”¹è¿›å‘å±•è€Œæ¥çš„ã€‚æ‰€ä»¥ç†è§£å¥½è¯­è¨€æ¨¡åž‹å¯¹ç†è§£Word2Vecä¹Ÿæœ‰å¾ˆå¤§å¸®åŠ©ã€‚ 1. è¯­è¨€æ¨¡åž‹ç›¸ä¿¡å¤§å®¶éƒ½ç”¨è¿‡æˆ–è€…å¬è¿‡å°ç±³æ™ºèƒ½å°è±¡æˆ–è€…å¤©çŒ«ç²¾çµï¼Œè¿™ç±»äº§å“éƒ½ç”¨åˆ°äº†è¯­éŸ³è¯†åˆ«æŠ€æœ¯ï¼Œå³ï¼Œå°†è¯­éŸ³è¯†åˆ«ä¸ºè‡ªç„¶è¯­è¨€æ–‡å­—ã€‚æŸå¤©ï¼ŒLNä¸åˆ†çš„ç®—æ³•å°ç™½èœåŒå­¦å¯¹ç€å°çˆ±åŒå­¦è¯´ï¼š è€(nao)å¥¶å¥¶(lailai)å–ç‰›(liu)å¥¶(lai) è¯­éŸ³è¯†åˆ«æŠ€æœ¯å°†è¿™å¥è¯è½¬ä¸ºæ–‡å­—æœ‰ä»¥ä¸‹å‡ ç§å¯èƒ½ï¼š è€æ¥æ¥å–ç‰›å¥¶ è€å¥¶å¥¶å–åˆ˜å¥¶ è€å¥¶å¥¶å–ç‰›å¥¶ â€¦â€¦ é—®é¢˜æ¥äº†ï¼Œè¿™ä¹ˆå¤šå¯èƒ½ï¼Œé€‰æ‹©å“ªä¸ªä½œä¸ºæœ€ç»ˆç»“æžœå‘¢ï¼Ÿå½“ç„¶æ˜¯æœ€åˆç†çš„ï¼Œæˆ–è€…è¯´æ¦‚çŽ‡æœ€é«˜çš„ã€‚è¿™å‡ ä¸ªå¥å­ä¸­ï¼Œ3å·å¥å­åœ¨çŽ°å®žä¸­å­˜åœ¨çš„æ¦‚çŽ‡æ˜¯æœ€é«˜çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©3å·ä½œä¸ºæœ€ç»ˆè¯†åˆ«çš„ç»“æžœã€‚è€Œè¯­è¨€æ¨¡åž‹ï¼Œå°±æ˜¯ç”¨æ¥è®¡ç®—ä¸€ä¸ªå¥å­å‡ºçŽ°æ¦‚çŽ‡çš„æ¨¡åž‹ã€‚å¯¹äºŽä¸Šä¾‹æ¥è¯´ï¼Œå°±æ˜¯åˆ†åˆ«è®¡ç®—P(è€ï¼Œæ¥æ¥ï¼Œå–ï¼Œç‰›å¥¶)ã€P(è€ï¼Œå¥¶å¥¶ï¼Œå–ï¼Œåˆ˜å¥¶)å’ŒP(è€ï¼Œå¥¶å¥¶ï¼Œå–ï¼Œç‰›å¥¶)ï¼Œå–æ¦‚çŽ‡æœ€å¤§çš„å¥å­ä½œä¸ºç»“æžœã€‚ 2. ç»Ÿè®¡è¯­è¨€æ¨¡åž‹æˆ‘ä»¬å¯ä»¥å°†å¥å­çœ‹åšå•è¯åºåˆ—ï¼š$w_1ã€w_2â€¦â€¦w_n$ ã€‚é‚£ä¹ˆè¯­è¨€æ¨¡åž‹çš„ç›®æ ‡å°±æ˜¯è®¡ç®— P(w_1,w_2......w_n)=P(w_1)P(w_2|w_1)......P(w_n|w_1,w_2...w_{n-1})â€‹ps. ä»¥ä¸Šå…¬å¼å¯ä»¥é€šè¿‡æ¡ä»¶æ¦‚çŽ‡å’Œé“¾å¼æ³•åˆ™æŽ¨å¾—ï¼Œä¹Ÿå°†å¥å­çš„ç”Ÿæˆè§†ä½œå¥å­å¡«å……äº‹ä»¶çš„é“¾æ¡ç›´æŽ¥å¾—åˆ°ã€‚ å¯¹äºŽä¸Šé¢çš„ä¾‹å­ï¼Œå°±æ˜¯è®¡ç®—P(è€ï¼Œå¥¶å¥¶ï¼Œå–ï¼Œç‰›å¥¶) = P(è€)*P(å¥¶å¥¶ | è€)*P(å–|è€,å¥¶å¥¶)*P(ç‰›å¥¶|è€,å¥¶å¥¶,å–)ã€‚ ç”±æ­¤å¯ä»¥çœ‹å‡ºï¼Œæ±‚ä¸€ä¸ªå¥å­å‡ºçŽ°æ¦‚çŽ‡çš„æ ¸å¿ƒæ˜¯æ±‚å„ä¸ªè¯è¯­å‡ºçŽ°çš„æ¡ä»¶æ¦‚çŽ‡ã€‚ åœ¨ç»Ÿè®¡è¯­è¨€æ¨¡åž‹ä¸­ï¼Œè¯¥æ¡ä»¶æ¦‚çŽ‡é€šè¿‡æžå¤§ä¼¼ç„¶ä¼°è®¡è®¡ç®—ï¼š P(w_n|w_1,w_2...w_{n-1})=\frac{count(w_1,w_2...w_n)}{count(w_1,w_2......w_n-1)}â€‹ä½†ä»¥ä¸Šæ–¹æ³•å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š è¦æ±‚çš„æ¦‚çŽ‡å¤ªå¤šäº†ï¼Œå› ä¸ºw1,w2â€¦.wnçš„ç»„åˆå®žåœ¨å¤ªå¤šäº†ï¼ˆnçš„è¯è¡¨æ•°æ¬¡æ–¹ï¼‰ï¼› ç”±äºŽè¯­æ–™çš„æ•°é‡æœ‰é™ï¼Œæ•°æ®ä¸­å¯èƒ½ä¸å­˜åœ¨w1,w2,â€¦.wnçš„ç»„åˆï¼Œå¯¼è‡´æ±‚å¾—çš„æ¡ä»¶æ¦‚çŽ‡ä¸º0ã€‚ é’ˆå¯¹ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå¯ä»¥å¼•å…¥é©¬å°”ç§‘å¤«å‡è®¾ã€‚è¿™ä¸ªå‡è®¾å¾ˆç®€å•ï¼Œå°±æ˜¯å‡è®¾ä»»æ„ä¸€ä¸ªè¯å‡ºçŽ°çš„æ¦‚çŽ‡åªä¸Žå®ƒå‰é¢å‡ºçŽ°çš„æœ‰é™nä¸ªè¯æœ‰å…³ã€‚å¼•å…¥é©¬å°”ç§‘å¤«å‡è®¾çš„è¯­è¨€æ¨¡åž‹åˆå«n-gramè¯­è¨€æ¨¡åž‹ã€‚æˆ‘ä»¬å‡è®¾n=1ï¼Œå¯ä»¥å¾—åˆ°ï¼š P(w_1,w_2......w_n)=P(w_1)P(w_2|w_1)P(w_3|w_2)......P(w_n|w_{n-1})æ¡ä»¶æ¦‚çŽ‡åŒæ ·é€šè¿‡æžå¤§ä¼¼ç„¶ä¼°è®¡è®¡ç®—ï¼š P(w_n|w_{n-1})=\frac{count(w_{n-1},w_n)}{count(w_n-1)}è¿™æ ·è®¡ç®—é‡å°±å°‘äº†å¾ˆå¤šã€‚ é’ˆå¯¹ç¬¬äºŒä¸ªé—®é¢˜ï¼Œå¼•å…¥å¹³æ»‘æŠ€æœ¯ã€‚å¹³æ»‘æŠ€æœ¯çš„æ€æƒ³å’Œç›®çš„æ˜¯å°†æ•°æ®é›†ä¸­çœ‹åˆ°çš„æ¦‚çŽ‡åˆ†é…ä¸€ç‚¹ç»™æœªå‡ºçŽ°çš„æ•°æ®ï¼ˆé¿å…æ¦‚çŽ‡ä¸º0ï¼‰ï¼Œå¹¶ä¸”ä¿æŒæ€»çš„æ¦‚çŽ‡å’Œä¸º1ã€‚è¿™é‡Œå°±ä¸ç»†è®²äº†ã€‚ è¿™é‡Œè®¨è®ºä¸€ä¸‹é©¬å°”ç§‘å¤«å‡è®¾çš„åˆç†æ€§ã€‚ä¸ºä»€ä¹ˆå¯ä»¥è¿™æ ·å‡è®¾ï¼Ÿé¦–å…ˆè¿™ç§å‡è®¾çš„æœ‰æ•ˆæ€§è‚¯å®šæ˜¯ç»è¿‡å®žè·µéªŒè¯çš„ï¼Œè¿™é‡Œæƒ³è®¨è®ºçš„æ˜¯ç›´è§‰ä¸Šçš„åˆç†æ€§ã€‚æ€è€ƒä¸€ä¸‹åœ¨å†™â€œè€å¥¶å¥¶å–ç‰›å¥¶â€è¿™å¥è¯æ—¶ï¼Œåˆ°å†™â€œç‰›å¥¶â€è¿™ä¸ªè¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ›´å¤šå…³æ³¨çš„æ˜¯â€œå–â€è¿™ä¸ªè¯ï¼Œæˆ‘ä»¬æ€è€ƒï¼ˆä¸‹æ„è¯†ï¼‰æ›´å¤šçš„æ˜¯ä¸Žâ€œå–â€è¿™ä¸ªè¯åŒ¹é…çš„è¯ï¼Œè€Œéžä¸Žâ€œè€å¥¶å¥¶å–â€åŒ¹é…çš„è¯ã€‚å› æ­¤ï¼Œå¼•å…¥é©¬å°”ç§‘å¤«å‡è®¾è™½ç„¶ä¼šæŸå¤±ä¸€äº›ä¿¡æ¯ï¼Œä½†ç¡®å®žèƒ½å¤Ÿè¿›è¡Œå¯¹å¥å­çš„æ¦‚çŽ‡è¿›è¡Œè¿‘ä¼¼ï¼Œå¹¶ä¸”å¯ä»¥æžå¤§åœ°æ–¹ä¾¿è®¡ç®—ã€‚ ä¸Šé¢æå‡ºäº†ä¸¤ä¸ªé—®é¢˜ï¼Œè¿™é‡Œä»Žæœºå™¨å­¦ä¹ çš„è§’åº¦ç†è§£ä¸€ä¸‹å…¶æœ¬è´¨ã€‚å°†æ¡ä»¶æ¦‚çŽ‡çœ‹åšè¯­è¨€æ¨¡åž‹ä¸­çš„å‚æ•°ï¼Œé—®é¢˜ä¸€åœ¨äºŽè¯­è¨€æ¨¡åž‹çš„å‚æ•°å¤ªå¤šäº†ï¼›é—®é¢˜äºŒåœ¨äºŽç”±äºŽæ•°æ®é‡æœ‰é™ï¼Œå¯¼è‡´è®¸å¤šå‚æ•°æ— æ³•ä¼°è®¡ã€‚å³ï¼šç›¸å¯¹æ•°æ®é‡è€Œè¨€ï¼Œæ¨¡åž‹å¤ªå¤æ‚äº†ï¼Œä¹Ÿå°±æ˜¯è¯´æ¨¡åž‹è¿‡æ‹Ÿåˆäº†ï¼ä¸€ä¸ªç®€å•çš„ä¾‹å­å°±æ˜¯æ•°æ®é›†ä¸­æ²¡å‡ºçŽ°çš„å¥å­ï¼Œè¯¥è¯­è¨€æ¨¡åž‹ä¼šå°†è¿™ä¸ªå¥å­å‡ºçŽ°çš„æ¦‚çŽ‡è®¡ç®—ä¸º0ï¼ˆæœªå¼•å…¥n-gramå’Œå¹³æ»‘ä¹‹å‰ï¼‰ã€‚å³æ¨¡åž‹çš„æ³›åŒ–èƒ½åŠ›ä¸å¤Ÿï¼Œæ— æ³•å¤„ç†æ²¡â€œè§è¿‡â€çš„å¥å­ã€‚ é’ˆå¯¹é—®é¢˜ä¸€å¼•å…¥é©¬å°”ç§‘å¤«å‡è®¾ï¼Œå°±æ˜¯é™ä½Žæ¨¡åž‹å¤æ‚åº¦ï¼›é’ˆå¯¹é—®é¢˜äºŒå¼•å…¥å¹³æ»‘ï¼Œåˆ™ç±»ä¼¼äºŽå¼•å…¥äº†æ­£åˆ™åŒ–ï¼Œå¯¹å‚æ•°è¿›è¡Œäº†çº¦æŸã€‚è¿™äº›éƒ½æ˜¯æœºå™¨å­¦ä¹ ä¸­è§£å†³æ¨¡åž‹è¿‡æ‹Ÿåˆï¼Œæé«˜æ¨¡åž‹æ³›åŒ–èƒ½åŠ›çš„æ–¹æ³•ã€‚ æ±‚å‡ºæ‰€æœ‰çš„æ¡ä»¶æ¦‚çŽ‡ä¹‹åŽï¼Œé’ˆå¯¹ä¸€ä¸ªæ–°çš„å¥å­ï¼Œåªéœ€è¦å°†å¯¹åº”çš„æ¡ä»¶æ¦‚çŽ‡è¿žä¹˜å³å¯å¾—åˆ°å¥å­çš„æ¦‚çŽ‡äº†ã€‚ æœ€åŽï¼Œç»§ç»­æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼šå¥å­1ï¼šâ€œA dog is running in the roomâ€å’Œå¥å­2ï¼šâ€A cat is running in the roomâ€ä¸¤ä¸ªå¥å­å“ªä¸ªæ¦‚çŽ‡å¤§ä¸€äº›ï¼Ÿç›´è§‰ä¸Šæ¥è¯´åº”è¯¥æ˜¯ç›¸ä¼¼çš„ï¼Œä½†ç»Ÿè®¡è¯­è¨€æ¨¡åž‹éžå¸¸å—æ•°æ®é›†çš„å½±å“ï¼Œæ— æ³•è€ƒè™‘è¯è¯­ä¸Žè¯è¯­çš„ç›¸ä¼¼åº¦ï¼Œæ‰€ä»¥ä»¥ä¸Šä¸¤ä¸ªå¥å­çš„æ¦‚çŽ‡è®¡ç®—ç»“æžœå¯èƒ½æ˜¯ç›¸å·®å¾ˆå¤§çš„ã€‚æ¯”å¦‚æ•°æ®é›†ä¸­å¥å­1å‡ºçŽ°äº†100æ¬¡ï¼Œå¥å­2åªå‡ºçŽ°äº†1æ¬¡ï¼Œé‚£æœ€åŽçš„è®¡ç®—ç»“æžœP(å¥å­1)å°†è¿œå¤§äºŽP(å¥å­2)ã€‚ä¸‹é¢ä»‹ç»çš„å‰å‘ç¥žç»ç½‘ç»œè¯­è¨€æ¨¡åž‹èƒ½æ¯”è¾ƒå¥½åœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ 3. ç¥žç»ç½‘ç»œè¯­è¨€æ¨¡åž‹å‰é¢è¯´è¿‡ï¼Œè¯­è¨€æ¨¡åž‹çš„æ ¸å¿ƒæ˜¯æ±‚è¯è¯­å‡ºçŽ°çš„æ¡ä»¶æ¦‚çŽ‡ã€‚è¯´èµ·æ¡ä»¶æ¦‚çŽ‡ï¼Œå…¶å®žæœºå™¨å­¦ä¹ ä¸­è®¸å¤šåˆ†ç±»æ¨¡åž‹å°±æ˜¯å¯¹ç»™å®šè¾“å…¥xæ±‚ç»“æžœyçš„æ¡ä»¶æ¦‚çŽ‡è¿›è¡Œå»ºæ¨¡çš„ã€‚é‚£ä¹ˆï¼Œæ˜¯å¦å¯ä»¥ä½¿ç”¨æœºå™¨å­¦ä¹ ä¸­çš„åˆ†ç±»æ¨¡åž‹æ¥å¯¹è¯­è¨€æ¨¡åž‹è¿›è¡Œå»ºæ¨¡å‘¢ï¼Ÿæœºå™¨å­¦ä¹ ä¸­ï¼Œä¸€èˆ¬æ˜¯å¯¹é—®é¢˜æž„é€ ä¸€ä¸ªç›®æ ‡å‡½æ•°ï¼Œç„¶åŽä½¿ç”¨æ•°æ®å¯¹ç›®æ ‡å‡½æ•°è¿›è¡Œä¼˜åŒ–ï¼Œæ±‚å¾—ä¸€ç»„æœ€ä¼˜å‚æ•°ï¼Œç„¶åŽä½¿ç”¨è¿™ç»„å‚æ•°å¯¹åº”çš„æ¨¡åž‹æ¥è¿›è¡Œé¢„æµ‹ã€‚å¯¹äºŽè¯­è¨€æ¨¡åž‹æ¥è¯´ï¼Œå¯ä»¥å°†ç›®æ ‡å‡½æ•°è®¾ç½®ä¸ºï¼š \prod _ { w \in \mathcal { C } } p ( w | \operatorname { Context } ( w ) )å…¶ä¸­Cè¡¨ç¤ºè¯­æ–™ï¼ˆCorpusï¼‰ï¼ŒContex(w)è¡¨ç¤ºè¯wçš„ä¸Šä¸‹æ–‡ã€‚ç”±æ­¤å¯è§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æœºå™¨å­¦ä¹ è®­ç»ƒå¾—åˆ°è¯è¯­w çš„ä¸Šä¸‹æ–‡åˆ°è¯è¯­wè¿™ä¸ªç±»åˆ«çš„æ˜ å°„å…³ç³»ã€‚2003å¹´ï¼ŒBengioç­‰äººå‘è¡¨çš„ã€ŠA Neural Probabilistic Language Modelã€‹è®ºæ–‡ä¸­ï¼Œä½¿ç”¨å‰å‘ç¥žç»ç½‘ç»œè¡¨å¾äº†è¿™ç§æ˜ å°„å…³ç³»ã€‚ åœ¨ä»‹ç»æ¨¡åž‹ç»†èŠ‚ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥æ‹ä¸€æ‹ã€‚æˆ‘ä»¬éœ€è¦è®­ç»ƒçš„æ˜¯ä¸€ä¸ªå…¨è¿žæŽ¥ç¥žç»ç½‘ç»œæ¨¡åž‹ï¼Œè¾“å…¥æ˜¯è¯è¯­wå‰é¢çš„nä¸ªè¯è¯­ï¼ˆä¸Šä¸‹æ–‡ï¼‰ï¼Œè¾“å‡ºæ˜¯é¢„æµ‹ä¸ºæ‰€æœ‰è¯çš„æ¦‚çŽ‡ï¼Œæˆ‘ä»¬å¸Œæœ›è¯è¯­wå¯¹åº”çš„æ¦‚çŽ‡æœ€å¤§åŒ–ã€‚é—®é¢˜æ¥äº†ï¼Œè¯è¯­wçš„ä¸Šä¸‹æ–‡æ€Žä¹ˆè¾“å…¥ç¥žç»ç½‘ç»œï¼Ÿè®ºæ–‡ä¸­çš„åšæ³•æ˜¯ä½¿ç”¨éšæœºåˆå§‹åŒ–çš„æ–¹æ³•å»ºç«‹ä¸€ä¸ª|V|Ã—kå¤§å°çš„æŸ¥æ‰¾è¡¨(lookup table)ï¼Œè¯¥è¡¨å†…çš„æ¯ä¸€è¡Œå‘é‡å”¯ä¸€è¡¨ç¤ºä¸€ä¸ªè¯è¯­ã€‚ ä»¥â€œè€ å¥¶å¥¶ å– ç‰›å¥¶â€ä½œä¸ºè¯­æ–™åº“ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªå¤§å°|V|=4çš„è¯è¡¨ï¼š{â€œè€â€ï¼Œâ€œå¥¶å¥¶â€ï¼Œâ€œå–â€ï¼Œâ€œç‰›å¥¶â€}ã€‚ä¸ºæ¯ä¸ªè¯ç¼–å·ï¼Œå¾—åˆ°ï¼š{0: â€œè€â€, 1: â€œå¥¶å¥¶â€, 2: â€œå–â€, 3: â€œç‰›å¥¶â€}ã€‚å‡è®¾æ¯ä¸ªè¯å‘é‡çš„ç»´åº¦ä¸º3ï¼Œéšæœºåˆå§‹åŒ–ä¸€ä¸ª4Ã—3å¤§å°çš„çŸ©é˜µï¼ˆæŸ¥æ‰¾è¡¨ï¼‰å¦‚ä¸‹(è¿™é‡Œæ˜¯è‡ªå·±ç¼–çš„æ•°å­—ï¼Œå®žé™…æ˜¯éšæœºç”Ÿæˆçš„æœä»Žä¸€å®šåˆ†å¸ƒçš„æ•°å­—)ï¼š \left[ \begin{matrix} 0.1 & 0.2 & 0.3 \\ 0.4 & 0.5 & 0.6 \\ 0.7 & 0.8 & 0.9 \\ 0.2 & 0.4 & 0.8 \\ \end{matrix} \right]\tag{1}å…¶ä¸­ï¼Œ[0.1,0.2,0.3]è¡¨ç¤ºç¼–å·ä¸º0çš„è¯è¯­â€œè€â€çš„è¯å‘é‡ï¼Œä»¥æ­¤ç±»æŽ¨ã€‚ ä»¥â€œè€â€ã€â€œå¥¶å¥¶â€ã€â€œå–â€é¢„æµ‹â€œç‰›å¥¶â€ä¸ºä¾‹ï¼ˆä¸Šä¸‹æ–‡é•¿åº¦ä¸º3ï¼‰ï¼Œæ¨¡åž‹çš„ç»“æž„å›¾å¦‚ä¸‹ï¼š è®­ç»ƒæ—¶ï¼Œè¾“å…¥è¯åŽ»æŸ¥æ‰¾è¡¨ä¸­æ‰¾åˆ°å¯¹åº”çš„è¯å‘é‡ï¼Œç„¶åŽå°†è¾“å…¥è¯çš„è¯å‘é‡æ‹¼æŽ¥åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªé•¿åº¦ä¸º3Ã—kï¼ˆkä¸ºè¯å‘é‡ç»´åº¦ï¼‰çš„è¾“å…¥å‘é‡ã€‚ç»è¿‡ä¸€å±‚éšå±‚åŽï¼Œè¾“å‡ºå±‚ä½¿ç”¨softmaxå‡½æ•°å°†è¾“å‡ºæ˜ å°„åˆ°(0,1)ä¸­ï¼Œè¾“å‡ºå±‚çš„æ•°å­—è¡¨ç¤ºè¾“å‡ºä¸ºå¯¹åº”ç¼–å·è¯è¯­çš„æ¦‚çŽ‡ã€‚è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›æœ€å¤§åŒ–è¾“å‡ºå±‚æœ€åŽä¸€ä¸ªæ•°å­—ï¼Œä»£è¡¨P(ç‰›å¥¶|è€ï¼Œå¥¶å¥¶ï¼Œç‰›å¥¶)ã€‚æ³¨æ„ï¼Œè¿™ä¸ªæ ·æœ¬çš„è®­ç»ƒè¿‡ç¨‹åªç”¨åˆ°äº†ä¸Šä¸‹æ–‡è¯è¯­ï¼šâ€œè€â€ï¼Œâ€œå¥¶å¥¶â€ï¼Œâ€œå–â€çš„è¯å‘é‡ï¼Œæ²¡æœ‰ç”¨åˆ°â€œç‰›å¥¶â€çš„è¯å‘é‡ã€‚æ­¤å¤–ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Žé€šå¸¸çš„ç¥žç»ç½‘ç»œçš„è¾“å…¥éƒ½æ˜¯å·²çŸ¥çš„ä¸åŒï¼Œæˆ‘ä»¬ä¹‹å‰åˆå§‹åŒ–çš„çŸ©é˜µæŸ¥æ‰¾è¡¨æ˜¯å’Œç¥žç»ç½‘ç»œçš„å‚æ•°åŒæ—¶è®­ç»ƒæ›´æ–°çš„ï¼ ä»¥ä¸Šæ˜¯ä¸€ä¸ªæ ·æœ¬çš„è®­ç»ƒè¿‡ç¨‹ï¼Œå¦‚æžœæˆ‘ä»¬çš„å¥å­æ˜¯â€œè€ å¥¶å¥¶ å– ç‰›å¥¶ å’Œ å’–å•¡â€ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æž„é€ å‡ºå¦å¤–çš„æ ·æœ¬ï¼š((å¥¶å¥¶,å–,ç‰›å¥¶), å’Œ)ï¼Œ((å–,ç‰›å¥¶,å’Œ), å’–å•¡)ã€‚ é€šè¿‡è¿™ä¸ªæ–¹æ³•è®­ç»ƒçš„è¯­è¨€æ¨¡åž‹æœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢ï¼Ÿ é¦–å…ˆï¼Œç›¸ä¼¼è¯çš„è¯å‘é‡ä¹Ÿæ˜¯ç›¸ä¼¼çš„ï¼ˆä¸‹ç¯‡æ–‡ç« è®²Word2Vecçš„æ—¶å€™ä¼šè¯æ˜Žï¼‰ï¼Œåœ¨å¥å­ä¸­æ›¿æ¢ç›¸ä¼¼è¯å¯¹ç»“æžœçš„å½±å“å¾ˆå°ï¼ˆè¾“å…¥ç›¸ä¼¼ï¼Œæ¨¡åž‹å‚æ•°ä¸€å®šï¼‰ã€‚A cat is running in the roomå’ŒA dog is running in the roomå¯ä»¥èŽ·å¾—ç›¸ä¼¼çš„å¥å­æ¦‚çŽ‡ã€‚ ç„¶åŽï¼Œé¢„æµ‹ç»“æžœè‚¯å®šä¸ä¼šä¸º0ï¼Œè‡ªå¤‡å¹³æ»‘åŠŸèƒ½ã€‚ çŽ°åœ¨æƒ³æƒ³ï¼Œæˆ‘ä»¬æœ€åˆçš„ç›®æ ‡æ˜¯è®­ç»ƒä¸€ä¸ªç¥žç»ç½‘ç»œè¯­è¨€æ¨¡åž‹ï¼Œæ¨¡åž‹è®­ç»ƒå®ŒæˆåŽï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°çŸ©é˜µæŸ¥æ‰¾è¡¨ï¼ˆä¹Ÿå°±æ˜¯è¯å‘é‡ï¼‰å’Œç¥žç»ç½‘ç»œçš„æ¨¡åž‹å‚æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¾—åˆ°äº†ä¸¤ä¸ªäº§ç‰©ã€‚å‰è€…-è¯å‘é‡æ˜¯æœ¬æ¬¡æ¨¡åž‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„å‰¯äº§ç‰©ï¼è€Œè¿™äº›è¯å‘é‡å…·å¤‡æˆ‘ä»¬ä¹‹å‰è¯´çš„ç‰¹æ€§ï¼šä½Žç»´åº¦ç¨ å¯†å‘é‡ï¼Œå¯ä»¥é€šè¿‡è·ç¦»åº¦é‡è¯è¯­ç›¸ä¼¼åº¦ã€‚è¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼ŒåŽé¢çš„Word2Vecæ­£æ˜¯æ¥æºäºŽè¿™ä¸ªæ€æƒ³ï¼Œè¿™ç‚¹ä¸‹ç¯‡æ–‡ç« å†è¯´ã€‚ æœ¬å°èŠ‚çš„æœ€åŽï¼Œè¿˜æ˜¯æ¥æ€è€ƒä¸€ä¸‹ï¼Œå½“å‰è¿™ä¸ªç¥žç»ç½‘ç»œè¯­è¨€æ¨¡åž‹æœ‰ä»€ä¹ˆç¼ºç‚¹å§ï¼š æ¨¡åž‹è¾“å…¥ä¸ºå›ºå®šæ•°é‡çš„ä¸Šä¸‹æ–‡è¯è¯­ï¼Œæ— æ³•èŽ·å–æ›´è¿œè¯è¯­çš„ä¿¡æ¯ï¼› è¯è¡¨çš„å¤§å°ä¸€èˆ¬éƒ½æ¯”è¾ƒå¤§ï¼Œç¥žç»ç½‘ç»œçš„è¾“å‡ºå±‚softmaxå‡½æ•°çš„è®¡ç®—é‡ä¼šéžå¸¸å¤§ï¼Œæ¨¡åž‹è®­ç»ƒæ•ˆçŽ‡å¾ˆä½Žã€‚ ä¸‹ä¸€èŠ‚å’Œä¸‹ç¯‡æ–‡ç« ä»‹ç»çš„æ¨¡åž‹å°†ä¼šè§£å†³è¿™äº›ç¼ºç‚¹ã€‚ 4. å¾ªçŽ¯ç¥žç»ç½‘ç»œè¯­è¨€æ¨¡åž‹å‰é¢è¯´è¿‡ï¼Œç¥žç»ç½‘ç»œè¯­è¨€æ¨¡åž‹ç”±äºŽä½¿ç”¨çš„æ˜¯å…¨è¿žæŽ¥ç¥žç»ç½‘ç»œï¼Œå…¶è¾“å…¥æ˜¯å®šé•¿çš„ï¼Œæ‰€ä½¿ç”¨çš„ä¸Šä¸‹æ–‡è¯è¯­æ•°é‡éœ€è¦åœ¨æ¨¡åž‹è®­ç»ƒå‰ç¡®å®šã€‚å› æ­¤åœ¨é¢„æµ‹å½“å‰è¯æ—¶ï¼Œè¯¥æ¨¡åž‹åªèƒ½ä½¿ç”¨ä¸€å®šé•¿åº¦ä¸Šä¸‹æ–‡çš„ä¿¡æ¯ã€‚ä¸ºäº†è§£å†³è¯¥é—®é¢˜ï¼ŒMikolovåœ¨2010å¹´å‘è¡¨äº†è®ºæ–‡ã€ŠRecurrent Neural Network Based Language Modelã€‹ï¼Œè¿™ç¯‡è®ºæ–‡ä¸­ä½¿ç”¨RNNæ›¿æ¢å…¨è¿žæŽ¥ç¥žç»ç½‘ç»œå¯¹è¯­è¨€æ¨¡åž‹è¿›è¡Œå»ºæ¨¡ã€‚ è¿™ä¸ªæ¨¡åž‹çš„ç»“æž„å¦‚ä¸‹ï¼š è¿™ä¸ªæ¨¡åž‹çš„æ€æƒ³å°±æ˜¯é€šè¿‡ä½¿ç”¨RNNä¸Šä¸€ä¸ªæ—¶é—´æ­¥çš„éšå±‚ä¿¡æ¯ï¼Œä»£æ›¿è·ç¦»å½“å‰è¯è·ç¦»å¤§äºŽ1çš„ä¸Šä¸‹æ–‡è¯è¯­çš„ä¿¡æ¯ã€‚ å‰é¢è®²è¿‡ï¼Œn-gramä¸ºäº†ç®€åŒ–æ¨¡åž‹å’Œæ–¹ä¾¿è®¡ç®—ï¼Œè®¤ä¸ºå½“å‰è¯è¯­å‡ºçŽ°çš„æ¦‚çŽ‡åªä¸Žå‰é¢æœ‰é™å‡ ä¸ªè¯æœ‰å…³ã€‚è€ŒRNNè¯­è¨€æ¨¡åž‹åˆ™å¯ä»¥åšåˆ°ä½¿ç”¨å‰é¢æ‰€æœ‰è¯çš„ä¿¡æ¯ï¼Œåˆä¸ä½¿ç”¨æµ·é‡çš„å‚æ•°ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒRNNè®­ç»ƒè¿‡ç¨‹ä¸­å­˜åœ¨æ¢¯åº¦çˆ†ç‚¸å’Œæ¶ˆå¤±é—®é¢˜ï¼Œå¯èƒ½å¹¶ä¸èƒ½èŽ·å–è¿‡é•¿è·ç¦»çš„è¯è¯­ä¿¡æ¯ã€‚æ­¤å¤–ï¼Œä¸Šä¸€èŠ‚ä¸­ä»‹ç»çš„ç¥žç»ç½‘ç»œè¯­è¨€æ¨¡åž‹ï¼Œå…¶ä¸Šä¸‹æ–‡ä½¿ç”¨çš„è¯å‘é‡å…·å¤‡ä¸€å®šçš„å«ä¹‰ï¼Œè€ŒRNNä½¿ç”¨ä¸Šä¸€æ—¶é—´æ­¥çš„éšå±‚å‘é‡ï¼Œå…¶å«ä¹‰ä¸ç”šæ˜Žäº†ã€‚ 5. å‚è€ƒèµ„æ–™ A Neural Probabilistic Language Model Recurrent Neural Network Based Language Model Word2Vecä¸­çš„æ•°å­¦åŽŸç†è¯¦è§£ çŸ¥ä¹Žï¼šæ·±å…¥æµ…å‡ºè®²è§£è¯­è¨€æ¨¡åž‹ ç³»åˆ—æ–‡ç« ï¼š BERTå‘å±•å²ï¼ˆä¸€ï¼‰ä»Žè¯åµŒå…¥è®²èµ·]]></content>
      <tags>
        <tag>NLP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[BERTå‘å±•å²ï¼ˆä¸€ï¼‰ä»Žè¯åµŒå…¥è®²èµ·]]></title>
    <url>%2F2019%2F01%2F18%2FBERT1%2F</url>
    <content type="text"><![CDATA[0. å†™åœ¨å‰é¢è¦è¯´NLPæœ€è¿‘æœ€ç«çš„æ˜¯ä»€ä¹ˆï¼Œé‚£å¿…æ˜¯BERTæ— ç–‘äº†ã€‚å¼ºæ‚å¦‚BERTï¼Œåœ¨åå¤šé¡¹NLPçš„ä»»åŠ¡ä¸Šå¼ºåŠ¿å± æ¦œï¼Œä¸šç•Œå£°ç§°BERTå°†å¼€åˆ›NLPé¢†åŸŸæ–°çš„çºªå…ƒã€‚åœ¨BERTåˆšå‡ºæ¥çš„æ—¶å€™ï¼Œå°±åœ¨å„ç§å…¬ä¼—å·ä¸Šçœ‹è¿‡å„ç§åŽŸç†è§£é‡Šï¼Œä½†ä¸€ç›´æ²¡æœ‰åŽ»è®¤çœŸç ”ç©¶è®ºæ–‡ã€‚åŽæ¥åœ¨PaperWeeklyå…¬ä¼—å·ä¸Šé˜…è¯»äº†ä¸‡å­—é•¿æ–‡ã€ŠNLPçš„å·¨äººè‚©è†€ã€‹ï¼Œç®—æ˜¯æŠŠBERTçš„è¯žç”Ÿå²è¿‡äº†ä¸€éã€‚åœ¨çœ‹è¿™ç¯‡æ–‡ç« çš„è¿‡ç¨‹ä¸­å‘çŽ°Word2Vecåˆ°BERTä¸­é—´çš„é‚£ä¹ˆå¤šæ¼”å˜è‡ªå·±éƒ½æ²¡æœ‰å¥½å¥½ç ”ç©¶è¿‡ï¼ŒäºŽæ˜¯æ‰“ç®—å†™BERTå‘å±•å²ç³»åˆ—æ–‡ç« ï¼Œä»Žä¼ ç»Ÿçš„è¯åµŒå…¥å¼€å§‹ï¼Œè¯¦ç»†è®²è§£è¯åµŒå…¥å¾€BERTå‘å±•çš„è¿‡ç¨‹åŠå…¶ä¸­çš„æ€æƒ³çš„æ¼”å˜è¿‡ç¨‹ã€‚è¿™ä¸€ç³»åˆ—æ¶‰åŠåˆ°å¾ˆå¤šç®—æ³•ï¼ŒåŸºæœ¬ä¸Šæ¶µç›–äº†å¤§éƒ¨åˆ†æ¯”è¾ƒé‡è¦çš„NLPæŠ€æœ¯å’Œæ€æƒ³ï¼Œæœ‰äº›æ˜¯æˆ‘æŽ¥è§¦è¿‡çš„ï¼Œæœ‰äº›æˆ‘è¿˜æ²¡æœ‰æŽ¥è§¦è¿‡ï¼Œå› æ­¤ä¹Ÿå¸Œæœ›å†™ä½œçš„è¿‡ç¨‹èƒ½å¤Ÿpushè‡ªå·±åŽ»å­¦ä¹ ï¼ŒåŽ»è¿›æ­¥ã€‚ æˆ‘å¸Œæœ›åœ¨è¿™ä¸€ç³»åˆ—æ–‡ç« ä¸­å°½é‡ä»¥è‡ªå·±çš„è¯è¯­é˜è¿°å„ä¸ªç®—æ³•èƒŒåŽçš„æ€æƒ³å’ŒåŽŸç†ï¼Œå¤šè¾“å‡ºä¸€äº›è‡ªå·±çš„ç†è§£ï¼Œå¹¶åœ¨æœ€åŽé™„ä¸Šæˆ‘ä¸ªäººè®¤ä¸ºå­¦ä¹ è¿™äº›ç®—æ³•æ¯”è¾ƒå¥½çš„ææ–™å’Œæ•™ç¨‹ã€‚å¦‚æžœçœ‹æˆ‘çš„æ–‡ç« æ²¡æœ‰å¤ªç†è§£ï¼Œä¹Ÿå¯ä»¥å¤šåŽ»çœ‹çœ‹å‚è€ƒææ–™ã€‚ 1.æœºå™¨å­¦ä¹ æµç¨‹ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼ŸæŠ›å¼€ä¸¥è‚ƒçš„å®šä¹‰ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œæœºå™¨å­¦ä¹ ï¼ˆè¿™é‡Œç‰¹æŒ‡æœ‰ç›‘ç£å­¦ä¹ ï¼‰å°±æ˜¯ä½¿ç”¨è®¡ç®—æœºå¯¹äº‹ä»¶çš„ç»“æžœè¿›è¡Œå»ºæ¨¡çš„è¿‡ç¨‹ã€‚ç”¨æ•°å­¦ç¬¦å·æ¥è¡¨ç¤ºå°±æ˜¯$f(x)-&gt;yâ€‹$ï¼Œå…¶ä¸­$yâ€‹$ä»£è¡¨äº‹ä»¶çš„ç»“æžœï¼Œ$xâ€‹$ä»£è¡¨å½±å“äº‹ä»¶ç»“æžœçš„å„ä¸ªå› ç´ ï¼Œfä»£è¡¨æˆ‘ä»¬ä½¿ç”¨çš„æœºå™¨å­¦ä¹ ç®—æ³•ã€‚å³ï¼Œæˆ‘ä»¬å¸Œæœ›å°†äº‹ä»¶ç»“æžœä¸Žå½±å“ç»“æžœçš„å› ç´ ä»¥æŸç§å‡½æ•°çš„å½¢å¼æ˜ å°„èµ·æ¥ã€‚ æ¯”å¦‚ï¼Œä¸»äººå…¬ç®—æ³•å°ç™½èœçŽ°åœ¨åœ¨ä¸Šå°å­¦äº”å¹´çº§ï¼Œæˆ‘ä»¬è¦é¢„æµ‹ä»–åœ¨æœŸæœ«è€ƒè¯•ä¸­èƒ½å¦åŠæ ¼ã€‚äº‹ä»¶çš„ç»“æžœå°±æ˜¯èƒ½åŠæ ¼å’Œä¸èƒ½åŠæ ¼ï¼Œå½±å“äº‹ä»¶ç»“æžœçš„å› ç´ åˆ™æœ‰å¾ˆå¤šï¼Œè¿™äº›å› ç´ æœ‰çš„å¯¹é¢„æµ‹ç»“æžœå¾ˆé‡è¦ï¼Œæœ‰çš„åˆ™æ— å…³ç´§è¦ã€‚æ¯”å¦‚ç®—æ³•å°ç™½èœåœ¨æ¯æ¬¡æœˆè€ƒä¸­çš„æˆç»©ï¼Œå¯¹äºŽé¢„æµ‹å°±å¾ˆé‡è¦ï¼Œè€Œç®—æ³•å°ç™½èœçš„èº«é«˜åˆ™æ— å…³ç´§è¦ã€‚æœºå™¨å­¦ä¹ ä¸­ï¼ŒæŒ–æŽ˜å½±å“äº‹ä»¶ç»“æžœå› ç´ çš„è¿‡ç¨‹ç§°ä¸ºç‰¹å¾å·¥ç¨‹ï¼Œè¿™ä¸€æ­¥çš„ç›®çš„æ˜¯ä¾æ®çŽ°æœ‰æ•°æ®æŒ–æŽ˜å‡ºå¯¹ç»“æžœæœ‰å½±å“çš„å› ç´ ï¼ˆä¹Ÿå«ç‰¹å¾ï¼‰ï¼Œç„¶åŽä½¿ç”¨è¿™äº›ç‰¹å¾å¯¹ç»“æžœè¿›è¡Œå»ºæ¨¡ã€‚ å› æ­¤ï¼Œä¸€ä¸ªå¤§è‡´çš„æ•°æ®æŒ–æŽ˜æµç¨‹ä¸ºï¼šæ•°æ®é¢„å¤„ç†â€”&gt;ç‰¹å¾å·¥ç¨‹â€”&gt;å»ºæ¨¡ã€‚å¾ˆå¤šæ—¶å€™ï¼ŒæŒ–æŽ˜å’Œå‘çŽ°å‡ºå¥½çš„ç‰¹å¾å¯¹æœ€åŽç»“æžœçš„å½±å“ç”šè‡³è¦å¤§äºŽæ¨¡åž‹æœ¬èº«ã€‚ å…¶å®žè¯´äº†è¿™ä¹ˆå¤šï¼Œæˆ‘åªæ˜¯æƒ³è¯´æ˜Žï¼Œå¥½çš„ç‰¹å¾å¯¹äºŽå»ºæ¨¡çš„é‡è¦æ€§ã€‚å°±åƒæˆ‘ä»¬è¿™ä¸–ç•Œæœ‰æžœçš†æœ‰å› ï¼Œä¸€ä»¶äº‹æƒ…å‘ç”Ÿçš„èƒŒåŽï¼Œå®šæœ‰å„ç§å› ç´ åœ¨èƒŒåŽæ”¯æ’‘ã€‚æˆ‘ä»¬å¸Œæœ›è®¡ç®—æœºèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å»ºç«‹å„ç§å› ç´ å–å€¼å’Œäº‹ä»¶ç»“æžœçš„å¯¹åº”å…³ç³»ï¼Œä½†åœ¨æ­¤ä¹‹å‰ï¼Œå¦‚ä½•ç¡®å®šè¿™äº›å› ç´ åˆ™æ˜¯ä¸ªè®©äººå¤´ç–¼çš„ä¸œè¥¿ã€‚ 2. è¯åµŒå…¥åœ¨äº’è”ç½‘ä¸­ï¼Œæˆ‘ä»¬æ¯å¤©éƒ½ä¼šæŽ¥è§¦åˆ°æµ·é‡çš„æ–‡æœ¬ä¿¡æ¯ã€‚æ‰€è°“NLPï¼Œå°±æ˜¯ä½¿ç”¨è®¡ç®—æœºå¤„ç†è‡ªç„¶è¯­è¨€çš„è¿‡ç¨‹ã€‚è€Œæˆ‘ä»¬éƒ½çŸ¥é“ï¼Œè®¡ç®—æœºåªèƒ½å¤„ç†æ•°å€¼ï¼Œå› æ­¤è‡ªç„¶è¯­è¨€éœ€è¦ä»¥ä¸€å®šçš„å½¢å¼è½¬åŒ–ä¸ºæ•°å€¼ã€‚è¯åµŒå…¥å°±æ˜¯å°†è¯è¯­ï¼ˆwordï¼‰æ˜ å°„ä¸ºæ•°å­—çš„æ–¹å¼ã€‚ä¸€ä¸ªå•çº¯çš„å®žæ•°åŒ…å«çš„ä¿¡æ¯å¤ªå°‘ï¼Œä¸€èˆ¬æˆ‘ä»¬æ˜ å°„ä¸ºä¸€ä¸ªæ•°å€¼å‘é‡ã€‚è¿™æ—¶æˆ‘ä»¬ä¼šå‘çŽ°ä¸€ä¸ªé—®é¢˜ï¼Œæ€Žä¹ˆæŠŠè¯è¯­è½¬æ¢ä¸ºæ•°å€¼å‘é‡ï¼Ÿè‡ªç„¶è¯­è¨€æœ¬èº«è•´å«äº†è¯­ä¹‰å’Œå¥æ³•ç­‰ç‰¹å¾ï¼Œå¦‚ä½•åœ¨è½¬æ¢è¿‡ç¨‹ä¸­ä¿ç•™è¿™äº›æŠ½è±¡çš„ç‰¹å¾ï¼Ÿè¿™ç‚¹å…¶å®žå¾ˆé‡è¦ï¼Œå› ä¸ºå¦‚æžœæ²¡æœ‰å°†è‡ªç„¶è¯­è¨€çš„ç‰¹å¾å¾ˆå¥½çš„ä¿ç•™ä¸‹æ¥ï¼ŒåŽç»­çš„æ‰€æœ‰å·¥ä½œå°±æ˜¯å¯¹ä¸€äº›æ— æ„ä¹‰çš„ä¿¡æ¯è¿›è¡Œå»ºæ¨¡ï¼Œè‡ªç„¶å¾—ä¸åˆ°å¥½çš„ç»“æžœã€‚çºµè§‚NLPçš„å‘å±•å²ï¼Œå¾ˆå¤šé©å‘½æ€§çš„æˆæžœéƒ½æ˜¯è¯åµŒå…¥çš„å‘å±•æˆæžœï¼Œå¦‚Word2Vecã€ELMoå’ŒBERTï¼Œå…¶å®žéƒ½æ˜¯å¾ˆå¥½åœ°å°†è‡ªç„¶è¯­è¨€çš„ç‰¹å¾åœ¨è½¬æ¢è¿‡ç¨‹ä¸­è¿›è¡Œäº†ä¿ç•™ã€‚ æŽ¥ä¸‹æ¥æˆ‘ä¼šä»¥ä¾‹å­çš„å½¢å¼ä»‹ç»å‡ ä¸ªåŸºäºŽé¢‘çŽ‡çš„è¯åµŒå…¥æ–¹æ³•ã€‚ 2.1 è¯é¢‘å‘é‡æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸¤ä¸ªæ–‡æ¡£ï¼ˆDocumentï¼‰ï¼š D1ï¼šæˆ‘ å« ç®—æ³• å° ç™½èœ ã€‚æˆ‘ å¾ˆ æ‡’æƒ° ã€‚ D2ï¼šç®—æ³• å° ç™½èœ æ˜¯ ä¸€ä¸ª æ‡’æƒ° çš„ äºº ã€‚ è¿™é‡Œå·²ç»å¯¹å¥å­è¿›è¡Œäº†åˆ†è¯ï¼Œå³å°†å„ä¸ªå¥å­æ‹†åˆ†ä¸ºè¯è¯­çš„ç»„åˆï¼Œè¯è¯­ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚ è¿™ä¸¤ç¯‡æ–‡æ¡£åŒ…å«çš„æ‰€æœ‰éžé‡å¤è¯æž„æˆä¸€ä¸ªè¯å…¸ï¼ˆdictionaryï¼‰ï¼š{â€œæˆ‘â€ï¼Œâ€œå«â€ï¼Œâ€œç®—æ³•â€ï¼Œâ€œå°â€ï¼Œâ€œç™½èœâ€ï¼Œâ€œã€‚â€ï¼Œâ€œå¾ˆâ€ï¼Œâ€œæ‡’æƒ°â€ï¼Œâ€œæ˜¯â€ï¼Œâ€œä¸€ä¸ªâ€ï¼Œâ€œçš„â€ï¼Œâ€œäººâ€}ã€‚ è¿™æ ·æ¯ç¯‡æ–‡æ¡£ä¸­è¯å…¸ä¸­è¯è¯­å‡ºçŽ°çš„é¢‘çŽ‡å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š æˆ‘ å« ç®—æ³• å° ç™½èœ ã€‚ å¾ˆ æ‡’æƒ° æ˜¯ ä¸€ä¸ª çš„ äºº D1 2 1 1 1 1 2 1 1 0 0 0 0 D2 0 0 1 1 1 1 0 1 1 1 1 1 D1è¡Œâ€œæˆ‘â€åˆ—çš„æ•°å€¼ä¸º2ä»£è¡¨åœ¨æ–‡æ¡£D1ä¸­ï¼Œâ€œæˆ‘â€è¿™ä¸ªè¯å‡ºçŽ°äº†ä¸¤æ¬¡ã€‚çŽ°åœ¨æˆ‘ä»¬é€šè¿‡ä»¥ä¸Šè¡¨æ ¼å¾—åˆ°äº†ä¸€ä¸ªè¯é¢‘çŸ©é˜µã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ—å‘é‡æ¥è¡¨ç¤ºä¸€ä¸ªè¯è¯­ï¼Œæ¯”å¦‚ä½¿ç”¨[2,0]æ¥è¡¨ç¤ºâ€œæˆ‘â€è¿™ä¸ªè¯ï¼›ä½¿ç”¨è¡Œå‘é‡æ¥è¡¨ç¤ºä¸€ç¯‡æ–‡æ¡£ï¼Œæ¯”å¦‚ä½¿ç”¨[2,1,1,1,1,2,1,1,0,0,0,0]æ¥è¡¨ç¤ºæ–‡æ¡£D1ã€‚ OKï¼Œä»¥ä¸Šå°±æ˜¯ä½¿ç”¨è¯é¢‘å‘é‡è¿›è¡Œè¯åµŒå…¥çš„è¿‡ç¨‹ã€‚ä½†åœ¨å®žé™…ä½¿ç”¨è¿‡ç¨‹ä¸­è®¸å¤šç»†èŠ‚ä¼šæœ‰å˜ç§ã€‚æ¯”å¦‚è¯å…¸çš„ç»„ç»‡æ–¹å¼ã€‚åœ¨çœŸå®žä¸–ç•Œä¸­ï¼Œæˆ‘ä»¬çš„è¯­æ–™æ•°æ®é€šå¸¸æ˜¯åŒ…å«æ•°åä¸‡åˆ°ä¸Šç™¾ä¸‡ç¯‡æ–‡æ¡£çš„ï¼Œè¿™äº›æ–‡æ¡£åŒ…å«çš„éžé‡å¤è¯ä¼šéžå¸¸å¤šã€‚è€Œæ¯ç¯‡æ–‡æ¡£åŒ…å«çš„è¯è¯­æ•°é‡ç›¸å¯¹äºŽè¯å…¸ä¸­çš„è¯è¯­æ•°é‡æ˜¯éžå¸¸å°çš„ï¼Œè¿™ä¼šå¯¼è‡´è¯é¢‘çŸ©é˜µä¸­ä¼šå‡ºçŽ°éžå¸¸å¤šçš„0ã€‚æ‰€ä»¥ç»„ç»‡è¯å…¸çš„å¦å¤–ä¸€ä¸ªæ–¹å¼æ˜¯æŒ‰è¯è¯­å‡ºçŽ°çš„é¢‘çŽ‡æŽ’åºï¼Œé€‰æ‹©é¢‘çŽ‡æœ€é«˜çš„å‰1000ä¸ªè¯è¯­ç»„æˆè¯å…¸ã€‚ 2.2 TF-IDFå‘é‡é¦–å…ˆæ€è€ƒä¸‹è¯é¢‘çŸ©é˜µæœ‰ä»€ä¹ˆå±€é™æ€§ã€‚æ¯”å¦‚ä¸€ç¯‡å…³äºŽæ¸¸æˆçš„æ–‡ç« ï¼Œæ¸¸æˆè¿™ä¸ªè¯çš„è¯é¢‘ä¼šæ¯”è¾ƒé«˜ï¼Œä½†åƒâ€œçš„â€ã€â€œå’Œâ€è¿™ç§é€šç”¨è¯ï¼ˆNLPä¸­å«åœç”¨è¯ï¼‰å‡ºçŽ°çš„é¢‘çŽ‡ä¹Ÿéžå¸¸é«˜ã€‚ä»Žç‰¹å¾çš„è§’åº¦å‡ºå‘ï¼Œæ¸¸æˆè¿™ä¸ªè¯å¯¹è¿™ç¯‡æ–‡ç« æ¥è¯´æ˜¯ä¸ªé‡è¦ç‰¹å¾ï¼Œâ€œçš„â€ã€â€œå’Œâ€è¿™ç§è¯åˆ™æ˜¯ä¸é‡è¦çš„ç‰¹å¾ï¼Œä½†è¯é¢‘çŸ©é˜µè¿™ç§è¯åµŒå…¥æ–¹å¼çš„ç»“æžœå´ç»™äºˆäº†è¿™ä¸¤ç§ç‰¹å¾ç›¸ä¼¼çš„é‡è¦æ€§ã€‚ TF-IDFï¼ˆè¯é¢‘-é€†æ–‡æ¡£é¢‘çŽ‡ï¼‰å¯ä»¥é€šè¿‡ç»™äºˆé€šç”¨è¯è¾ƒå°çš„è®¡ç®—æƒé‡æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ç»§ç»­çœ‹ä¾‹å­ã€‚ æˆ‘ä»¬æœ‰ä¸¤ç¯‡æ–‡æ¡£D1å’ŒD2ï¼Œæ¯ç¯‡æ–‡ç« ä¸­æ‰€åŒ…å«çš„è¯è¯­åŠå…¶è¯é¢‘å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š TFçš„å®šä¹‰å¦‚ä¸‹ï¼š TF = (è¯è¯­wåœ¨ä¸€ç¯‡æ–‡æ¡£ä¸­å‡ºçŽ°çš„æ¬¡æ•°)/ï¼ˆæ–‡æ¡£ä¸­çš„è¯è¯­æ€»æ•°ï¼‰ æ ¹æ®è¿™ä¸ªå®šä¹‰ï¼Œå¯ä»¥è®¡ç®—TF(å…³äºŽï¼ŒD1) = 1/9ï¼›TF(å­¦ä¹ ï¼ŒD2) = 3/9ã€‚ TFè¡¨ç¤ºçš„æ˜¯è¯¥è¯è¯­å¯¹äºŽè¯¥æ–‡æ¡£çš„è´¡çŒ®ç¨‹åº¦ï¼Œæˆ‘ä»¬è®¤ä¸ºä¸Žæ–‡ç« ç›¸å…³çš„è¯è¯­å‡ºçŽ°çš„é¢‘çŽ‡åº”è¯¥ä¼šæ¯”è¾ƒé«˜ã€‚ IDFçš„å®šä¹‰å¦‚ä¸‹ï¼š IDF = logï¼ˆï¼ˆæ–‡æ¡£çš„æ•°é‡ï¼‰/ ï¼ˆåŒ…å«è¯è¯­wçš„æ–‡æ¡£æ•°é‡ï¼‰ï¼‰ æ ¹æ®è¿™ä¸ªå®šä¹‰ï¼Œå¾—åˆ°IDF(å…³äºŽ) = log(2/2) = 0ï¼›IDF(æ¸¸æˆ) = log(2/1) = 0.301ã€‚ IDFæƒ³è¡¨è¾¾çš„æ˜¯ï¼Œå¦‚æžœä¸€ä¸ªè¯è¯­åœ¨å¤§éƒ¨åˆ†ç”šè‡³æ‰€æœ‰æ–‡æ¡£ä¸­éƒ½å‡ºçŽ°ï¼ˆè¯è¯­ä¸­çš„ä¸­å¤®ç©ºè°ƒï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªè¯è¯­å¯¹äºŽä»»æ„ä¸€ç¯‡æ–‡æ¡£éƒ½æ˜¯ä¸é‡è¦çš„ã€‚ æœ€åŽï¼ŒTF-IDFçš„è®¡ç®—æ–¹å¼å°±æ˜¯æŠŠTFå’ŒIDFç›¸ä¹˜å³å¯ã€‚æ¥çœ‹ä¸€ä¸‹ï¼š TF-IDF(å…³äºŽï¼ŒD1) = ï¼ˆ1/9ï¼‰* 0 = 0 TF-IDF(æ¸¸æˆï¼ŒD1) = ï¼ˆ3/9ï¼‰ * 0.301 = 0.1003 TF-IDF(å­¦ä¹ ï¼ŒD2) = ï¼ˆ3/9ï¼‰* 0.301 = 0.1003 è¿™ä¸‹å°±æ¯”è¾ƒç¬¦åˆæˆ‘ä»¬çš„ç›´è§‰äº†ï¼šé‡è¦çš„è¯è¯­ï¼ˆç‰¹å¾ï¼‰åº”è¯¥å…·æœ‰æ›´é«˜çš„æƒé‡ã€‚ å°†è¯é¢‘çŸ©é˜µä¸­çš„è¯é¢‘å€¼æ›¿æ¢ä¸ºTF-IDFå€¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°æ–‡æ¡£å’Œè¯è¯­çš„å‘é‡è¡¨ç¤ºäº†ã€‚åŒæ—¶ï¼Œç”±äºŽTF-IDFçš„ç‰¹å¾ï¼ŒTF-IDFè¿˜ç»å¸¸è¢«ç”¨æ¥æå–æ–‡ç« ä¸­çš„å…³é”®è¯ã€‚ 2.3 è¯å…±çŽ°å‘é‡è¿™ä¸ªæ–¹æ³•çš„å‡ºå‘ç‚¹æ˜¯ï¼šç›¸ä¼¼çš„è¯è¯­ä¼šç»å¸¸åŒæ—¶å‡ºçŽ°ï¼Œå¹¶ä¸”å…·æœ‰ç›¸ä¼¼çš„ä¸Šä¸‹æ–‡ã€‚æ¯”å¦‚ï¼šè‹¹æžœæ˜¯æ°´æžœã€‚é¦™è•‰æ˜¯æ°´æžœã€‚è‹¹æžœå’Œé¦™è•‰å…·æœ‰ç›¸ä¼¼çš„ä¸Šä¸‹æ–‡ã€‚ åœ¨æ·±å…¥è¯å…±çŽ°çŸ©é˜µçš„æž„é€ å’Œå®šä¹‰ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥ä»‹ç»ä¸¤ä¸ªæ¦‚å¿µï¼šå…±çŽ°å’Œä¸Šä¸‹æ–‡çª—å£ã€‚ å…±çŽ° â€” å¯¹äºŽç»™å®šçš„è¯­æ–™ï¼Œå…±çŽ°æŒ‡è¯è¯­w1å’Œè¯è¯­w2åœ¨ç»™å®šä¸Šä¸‹æ–‡çª—å£ä¸­å…±åŒå‡ºçŽ°çš„æ¬¡æ•°ã€‚ ä¸Šä¸‹æ–‡çª—å£ â€” è®¡ç®—å…±çŽ°æ—¶æ‰€æŒ‡å®šçš„çª—å£å¤§å°ï¼Œç”±è·ç¦»å’Œæ–¹å‘æŒ‡å®šã€‚ åŒæ ·ä»¥ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜Žï¼š Corpus = He is not lazy. He is intelligent. He is smart. ç»™å®šè·ç¦»2å’ŒåŒå‘çš„ä¸Šä¸‹æ–‡çª—å£ï¼Œè¯¥ä¾‹çš„è¯å…±çŽ°çŸ©é˜µå¦‚ä¸‹ï¼š ä»¥å›¾ä¸­çš„çº¢è‰²æ¡†å’Œè“è‰²æ¡†ä¸ºä¾‹ã€‚çº¢è‰²æ¡†è¡¨ç¤ºâ€œHeâ€å’Œâ€œisâ€çš„å…±çŽ°æ¬¡æ•°ä¸º4ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è€Œè“è‰²æ¡†å€¼ä¸º0ï¼Œä»£è¡¨è¯â€œlazyâ€ä»Žæœªå‡ºçŽ°åœ¨è¯â€œintelligentâ€çš„æ–¹åœ†ä¸¤è¯ä¹‹å†…ã€‚ åœ¨è¯å…±çŽ°çŸ©é˜µä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¡Œå‘é‡æˆ–è€…åˆ—å‘é‡æ¥è¡¨ç¤ºè¯è¯­ï¼ˆçŸ©é˜µæ˜¯å¯¹ç§°çš„ï¼‰ã€‚ä½†å­˜åœ¨çš„é—®é¢˜ä¸Žè¯é¢‘çŸ©é˜µç›¸ä¼¼ï¼Œå‘é‡çš„ç»´åº¦ç­‰äºŽè¯å…¸çš„å¤§å°Vï¼Œè¿™å°†å¯¼è‡´å‘é‡æ˜¯ç¨€ç–ä¸”é«˜ç»´çš„ï¼Œä¸åˆ©äºŽè®¡ç®—ã€‚åœ¨å®žé™…ä½¿ç”¨ä¸­ï¼Œé€šå¸¸æ˜¯ä½¿ç”¨PCAæˆ–SVDç­‰æŠ€æœ¯ï¼Œå°†è¯å…±çŽ°çŸ©é˜µé™ç»´ä¸ºVÃ—kï¼ˆk&lt;&lt;Vï¼‰çš„å¤§å°ï¼Œè¿™æ ·ï¼Œæ¯ä¸ªè¯è¯­å°†ä½¿ç”¨ä¸€ä¸ªkç»´å¤§å°çš„å‘é‡æ¥è¡¨ç¤ºã€‚ 3. å‡ ç‚¹æƒ³æ³• è‡ªç„¶è¯­è¨€çš„ç‰¹å¾æ˜¯éžå¸¸æŠ½è±¡çš„ï¼Œå¦‚ä½•å°†â€œè‹¹æžœâ€è¿™ä¸ªè¯çš„è¯­ä¹‰ä»¥æ•°å€¼å‘é‡çš„æ–¹å¼ä½“çŽ°å‡ºæ¥æ˜¯éžå¸¸æœ‰æŒ‘æˆ˜æ€§çš„ã€‚è¯é¢‘å‘é‡å’ŒTF-IDFå‘é‡éƒ½æ˜¯ä»Žè¯è¯­å’Œæ–‡æ¡£çš„å…³ç³»è§’åº¦å‡ºå‘çš„ï¼Œä»Žè¯è¯­å¯¹æ–‡æ¡£çš„é‡è¦ç¨‹åº¦å‡ºå‘åŽ»å®Œæˆè¯è¯­/æ–‡æ¡£åˆ°å‘é‡çš„è½¬æ¢ã€‚è€Œè¯å…±çŽ°çŸ©é˜µåˆ™æ˜¯ä»Žè¯è¯­ä¸Žè¯è¯­ä¹‹é—´çš„å…³ç³»è§’åº¦å‡ºå‘ï¼Œè®¾æ³•æŠ½å–è¯è¯­çš„å«ä¹‰ã€‚è¿™ç»™æˆ‘ä»¬ä¸€ç§æ€è·¯ï¼Œå•çº¯åœ°è€ƒè™‘å¦‚ä½•å°†æŸä¸ªè¯çš„è¯­ä¹‰æ˜ å°„åˆ°å‘é‡ä¸å¤ªå¯èƒ½å®žçŽ°ï¼Œé‚£æ˜¯å¦å¯ä»¥å°†è¯è¯­æ˜ å°„åˆ°å‘é‡ç©ºé—´ä¹‹åŽä¾ç„¶ä¿ç•™è¯è¯­ä¸Žè¯è¯­ä¹‹é—´çš„å…³ç³»ï¼Ÿ åŸºäºŽç»Ÿè®¡çš„è¯åµŒå…¥æ–¹æ³•åœ¨ä»€ä¹ˆæ ·çš„ä»»åŠ¡ä¸­å¯ä»¥å–å¾—å¥½çš„ç»“æžœå‘¢ï¼ŸåŒæ ·ä»Žç‰¹å¾çš„è§’åº¦å‡ºå‘ï¼Œè¯é¢‘å‘é‡å’ŒTF-IDFå‘é‡æå–çš„æ˜¯è¯è¯­å¯¹æ–‡æ¡£çš„é‡è¦æ€§ç‰¹å¾ï¼Œä»€ä¹ˆæ ·çš„ä»»åŠ¡éœ€è¦è¿™ç§ç‰¹å¾å‘¢ï¼Ÿæ¯”å¦‚åžƒåœ¾é‚®ä»¶è¯†åˆ«ï¼Œä¸€äº›åžƒåœ¾é‚®ä»¶ä¸€èˆ¬æœ‰ç»å¸¸å‡ºçŽ°çš„â€œåžƒåœ¾â€è¯è¯­ï¼Œå°±å¯ä»¥ä½¿ç”¨åŸºäºŽç»Ÿè®¡çš„è¯åµŒå…¥æ–¹æ³•ï¼›æ¯”å¦‚å…³é”®è¯æå–ï¼Œå°±å¯ä»¥ä½¿ç”¨TF-IDFã€‚è€Œä¸€äº›éœ€è¦å¤æ‚è¯­ä¹‰å’Œå¥æ³•ç‰¹å¾çš„ä»»åŠ¡ï¼Œå¦‚æœºå™¨é˜…è¯»ç†è§£ï¼Œæœºå™¨ç¿»è¯‘ç­‰ï¼Œå°±æ— æ³•ä½¿ç”¨è¿™äº›è¯åµŒå…¥æ–¹æ³•ã€‚ ä¹‹å‰è¢«é¢è¯•å®˜é—®åˆ°è¿‡ä¸€ä¸ªé—®é¢˜ï¼šåŸºäºŽç»Ÿè®¡çš„è¯åµŒå…¥æ–¹æ³•å’ŒåŸºäºŽé¢„æµ‹çš„è¯åµŒå…¥æ–¹æ³•ï¼ˆå¦‚Word2Vecï¼‰æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä¸ºä»€ä¹ˆæ·±åº¦å­¦ä¹ ä¸­è¦ä½¿ç”¨åŽè€…ã€‚ä¸ªäººè§‚ç‚¹æ˜¯ï¼Œä¸€ä¸ªæ–¹é¢ï¼ŒåŸºäºŽç»Ÿè®¡çš„è¯åµŒå…¥æ–¹æ³•ä¸€æ—¦åœ¨æ•°æ®ç¡®å®šä¹‹åŽï¼Œè¯çš„å‘é‡ä¾¿å°±ç¡®å®šï¼Œåœ¨ä¸åŒçš„NLPä»»åŠ¡ä¸­éƒ½è¦ä½¿ç”¨ç›¸åŒçš„è¯å‘é‡ï¼Œæ— æ³•æ ¹æ®ä¸åŒä»»åŠ¡è¿›è¡Œè°ƒæ•´ã€‚è€ŒåŸºäºŽé¢„æµ‹çš„è¯åµŒå…¥å¯ä»¥åœ¨ä¸åŒçš„ä»»åŠ¡å’Œæ¨¡åž‹ä¸­æ›´æ–°è¯å‘é‡ï¼Œä½¿è¯å‘é‡é€æ­¥åœ°é€‚åº”è¿™é¡¹ä»»åŠ¡ï¼›å¦ä¸€æ–¹é¢åˆ™æ˜¯åŸºäºŽç»Ÿè®¡çš„è¯åµŒå…¥æ–¹æ³•æå–çš„è¯­ä¹‰ä¿¡æ¯å®žåœ¨å¤ªå°‘ï¼Œæ— æ³•å–åˆ°æ¯”è¾ƒå¥½çš„ç»“æžœã€‚ 4. å‚è€ƒèµ„æ–™An Intuitive Understanding of Word Embeddings: From Count Vectors to Word2Vec [DM] éƒ½æ˜¯å¥—è·¯: ä»Žä¸Šå¸è§†è§’çœ‹é€æ—¶é—´åºåˆ—å’Œæ•°æ®æŒ–æŽ˜]]></content>
      <tags>
        <tag>NLP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å†™ç»™20å±Šæ¯•ä¸šç”Ÿçš„æ±‚èŒæŒ‡å—]]></title>
    <url>%2F2019%2F01%2F17%2F%E6%B1%82%E8%81%8C%E6%8C%87%E5%8D%97%2F</url>
    <content type="text"><![CDATA[0.å†™åœ¨å‰é¢è®°å¾—åŽ»å¹´çš„è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘è¿˜åœ¨ä¸ºæ±‚èŒæ„Ÿåˆ°è¿·èŒ«ã€‚è¿™ä»½è¿·èŒ«ï¼Œä¸€éƒ¨åˆ†åŽŸå› æ˜¯å¯¹è‡ªå·±èƒ½åŠ›å’Œå®šä½è®¤çŸ¥çš„ä¸è¶³ï¼Œè¿˜æœ‰ä¸€éƒ¨åˆ†åŽŸå› æ˜¯å¯¹å³å°†åˆ°æ¥çš„æ˜¥æ‹›å’Œç§‹æ‹›æ‰€çŸ¥ç”šå°‘ã€‚ä¸ºæ­¤ï¼Œä¹Ÿå’¨è¯¢äº†ä¸€äº›å¸ˆå…„å¸ˆå§ï¼Œæå‰èŽ·å–äº†ä¸€äº›èµ„è®¯ã€‚å¦‚ä»Šï¼Œç»è¿‡2018å¹´æ˜¥æ‹›ã€å®žä¹ å’Œç§‹æ‹›çš„æ´—ç¤¼ï¼Œå†å›žå¤´çœ‹ï¼Œä¸€äº›ä¿¡æ¯å’Œæ³¨æ„ç‚¹å·²ç»å˜å¾—æ˜¾è€Œæ˜“è§ã€‚ä½†æˆ‘ç›¸ä¿¡20å±Šæ¯•ä¸šç”Ÿï¼Œå’ŒåŽ»å¹´çš„æˆ‘ä¸€æ ·ï¼Œå¯¹äºŽå³å°†åˆ°æ¥çš„æ±‚èŒå­£å……æ»¡äº†è¿·èŒ«ã€‚ å› æ­¤ï¼Œæˆ‘å†™è¿™ç¯‡æ–‡ç« ï¼Œä¸»è¦æ˜¯æ¢³ç†ä¸€ä¸‹æ•´ä¸ªæ±‚èŒå­£çš„çŽ¯èŠ‚ã€æ—¶é—´èŠ‚ç‚¹å’Œæ³¨æ„äº‹é¡¹ç­‰ã€‚å¸Œæœ›èƒ½å¸®åŠ©20å±Šæ¯•ä¸šç”Ÿæå‰çª¥è§†æ±‚èŒå­£å…¨è²Œï¼Œä»Žè€Œåœ¨æ•´ä¸ªæ±‚èŒæ—¶é—´çº¿ä¸ŠæŠŠæŽ§æ±‚èŒè¿›åº¦ã€‚ 1. æ˜¥æ‹›å…¶å®žæ˜¥æ‹›çš„é¢å‘äººç¾¤æ˜¯19å±Šæ¯•ä¸šç”Ÿå’Œ20å±Šæ¯•ä¸šç”Ÿã€‚å¯¹äºŽå‰è€…æ˜¯æ‹›å‹Ÿæ­£å¼å‘˜å·¥ï¼Œå¯¹äºŽåŽè€…åˆ™æ˜¯æ‹›å‹Ÿå…·å¤‡è½¬æ­£èµ„æ ¼çš„æš‘æœŸå®žä¹ ç”Ÿã€‚ 1.1 æ—¶é—´èŠ‚ç‚¹å…¶å®žçŽ°åœ¨äº’è”ç½‘è¡Œä¸šçš„æ‹›è˜è¶Šæ¥è¶Šæå‰ï¼Œæ¯”å¦‚vivoä¸€æœˆä»½å°±å¼€å¯äº†æ˜¥æ‹›ã€å…­æœˆä»½å°±å¼€å¯äº†ç§‹æ‹›ã€‚ä½†æ™®éæ¥è¯´ï¼Œå¤§è§„æ¨¡çš„æ˜¥æ‹›é›†ä¸­åœ¨ä¸‰å››æœˆä»½ï¼Œå¹¶ä¸€ç›´æŒç»­åˆ°å…­æœˆä»½ã€‚ä»Žæ—¶é—´ä¸Šæ¥è¯´ï¼Œå»ºè®®2æœˆåº•å·¦å³å°±è¦å¼€å§‹å…³æ³¨æ˜¥æ‹›ä¿¡æ¯å’Œå‡†å¤‡æŠ•é€’ç®€åŽ†äº†ã€‚å¦‚æžœå‰æœŸç»“æžœä¸ç†æƒ³ï¼Œä¹Ÿä¸è¦æ”¾å¼ƒï¼Œæ˜¥æ‹›ä¼šæŒç»­åˆ°å…­æœˆä»½ï¼Œæœºä¼šä¾ç„¶å¾ˆå¤šã€‚ 1.2 ä¿¡æ¯æ¸ é“å…³äºŽç»¼åˆæ€§æ¸ é“ï¼šå‰å‡ å¹´å¬å¸ˆå…„å¸ˆå§ä»‹ç»æ±‚èŒç»éªŒçš„æ—¶å€™ï¼Œè¯´çš„æ¯”è¾ƒå¤šçš„æ±‚èŒæ¸ é“è¿˜æ˜¯åº”å±Šç”Ÿç½‘å’Œå¤§è¡—ç½‘è¿™ç§æ±‚èŒç½‘ç«™ï¼Œä¸è¿‡æˆ‘èº«è¾¹ç”¨è¿™äº›çš„å¥½åƒå¾ˆå°‘ã€‚å¤§å®¶ç”¨çš„æ¯”è¾ƒå¤šçš„è¿˜æ˜¯ä¸€äº›æ±‚èŒç±»å…¬ä¼—å·ï¼Œæ¯•ç«Ÿæ¯å¤©ç”¨å¾®ä¿¡ï¼Œå…¬ä¼—å·æŽ¥æ”¶ä¿¡æ¯è¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ã€‚è¿™é‡ŒæŽ¨èä¸€ä¸ªå…¬å·ã€æ ¡æ‹›è–ªæ°´ã€‘ï¼Œæ˜¯æˆ‘ä¸€ä¸ªå­¦é•¿è¿è¥çš„ï¼ŒæŽ¨èå…³æ³¨ã€‚å¯¹äº†ï¼Œæ±‚èŒå­£æœ‰ä¸€äº›å…¬ä¼—å·ä¼šæŽ¨å‡ºä¸€äº›è½¬å‘æ‹‰ç¾¤çš„æ´»åŠ¨ï¼Œå»ºè®®åˆ«æµªè´¹æ—¶é—´è½¬å‘äº†ï¼Œæ²¡å•¥ç”¨ã€‚ å…³äºŽå•ä¸€æ¸ é“ï¼šå°±æ˜¯å„ä¸ªå…¬å¸çš„å®˜ç½‘å’Œæ‹›è˜å…¬ä¼—å·äº†ï¼Œæ¯”å¦‚ã€è…¾è®¯æ‹›è˜ã€‘ã€ã€æ‹¼å¤šå¤šæ‹›è˜ã€‘å…¬ä¼—å·ä¹‹ç±»çš„ã€‚è¿™äº›æ¸ é“çš„ä¼˜ç‚¹æ˜¯ä¿¡æ¯æŽ¨é€éžå¸¸åŠæ—¶ï¼Œèƒ½è®©ä½ ç¬¬ä¸€æ—¶é—´çŸ¥æ™“å„å…¬å¸å¼€å¯æ‹›è˜æ¸ é“çš„æ—¶é—´èŠ‚ç‚¹ã€‚ å…³äºŽæŠ±å›¢ï¼šå°±æ˜¯æ±‚èŒè€…ä»¬èšåœ¨ä¸€èµ·å…±äº«ä¿¡æ¯ï¼Œäº’å¸®äº’åŠ©ï¼Œå»ºè®®å¤§å®¶éƒ½æ‰¾åˆ°è‡ªå·±çš„å°å›¢ä½“å“¦ã€‚æ— å›¢å¯æŠ±çš„éžç§‘ç­ç¨‹åºçŒ¿æœ¬çŒ¿åªå¾—è‡ªå·±æ‹‰ç¾¤äº† 1.3 å…³äºŽå†…æŽ¨å…ˆè¯´ä¸€ä¸‹å†…æŽ¨çš„æµç¨‹å§ï¼Œå€™é€‰äººæ‰¾åˆ°ç›®æ ‡å…¬å¸çš„å†…æŽ¨äºº-ä¸€èˆ¬æ˜¯å…¬å¸æ­£å¼å‘˜å·¥æˆ–å®žä¹ ç”Ÿï¼Œå†…æŽ¨äººå°†å€™é€‰äººçš„ç®€åŽ†æäº¤åˆ°å…¬å¸ç®€åŽ†æ± å½“ä¸­ï¼Œå„ä¸ªéƒ¨é—¨å„ä¸ªç»„é•¿ä¼šåŽ»ç®€åŽ†æ± ä¸­ç­›é€‰ç®€åŽ†ï¼Œç›¸ä¸­æŸä¸ªç®€åŽ†åŽï¼Œç»„é•¿å°†è¯¥ç®€åŽ†é”å®šï¼Œç„¶åŽå‘èµ·é¢è¯•ï¼›é¢è¯•é€šè¿‡è¿›å…¥offeræµç¨‹ï¼Œä¸é€šè¿‡åˆ™è§£é”ç®€åŽ†ï¼Œå¯ä»¥ç»§ç»­è¢«æžèµ·é¢è¯•ã€‚ å¤§éƒ¨åˆ†å…¬å¸éƒ½æœ‰å†…æŽ¨æ¸ é“ï¼Œä½†å„ä¸ªå…¬å¸å¯¹å¾…å†…æŽ¨ç®€åŽ†çš„æ€åº¦ä¸åŒã€‚æ¯”å¦‚é˜¿é‡Œï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯ä¸Šè¿°æµç¨‹ï¼Œå†…æŽ¨å¯ä»¥å…åŽ»ç¬”è¯•ï¼Œç›´è¾¾é¢è¯•ï¼ˆå½“ç„¶é¦–å…ˆè¦æœ‰äººç›¸ä¸­ä½ çš„ç®€åŽ†ï¼‰ã€‚å†æ¯”å¦‚å­—èŠ‚è·³åŠ¨ï¼Œå†…æŽ¨ä¹Ÿåªæ˜¯é¢åŽ»ç®€åŽ†ç­›é€‰è€Œå·²ï¼Œä¾ç„¶è¦å‚åŠ ç¬”è¯•ã€‚ å†…æŽ¨æœ€å¤§çš„å¥½å¤„å°±æ˜¯èŽ·å¾—äº†ä¸€æžšå¤æ´»å¸ï¼Œå¢žåŠ äº†ä¸€æ¬¡æŠ•é€’æœºä¼šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå†…æŽ¨å¤±è´¥ä¾ç„¶å¯ä»¥å‚åŠ æ­£å¼æ‰¹æ‹›è˜ã€‚ä¸è¿‡æœ‰äº›å…¬å¸å¦‚é˜¿é‡Œè…¾è®¯ï¼Œå¯¹äºŽæ¯ä¸€æ¬¡é¢è¯•éƒ½ä¼šæœ‰è®°å½•ï¼Œä¸€æ¬¡å¤±è´¥è®°å½•å¯èƒ½ä¼šå½±å“æ­£å¼æ‰¹é¢è¯•å®˜çš„è¯„ä»·ï¼Œæ‰€ä»¥ï¼Œä¸€å®šè¦è°¨æ…Žå¯¹å¾…å†…æŽ¨ï¼Œåšå¥½å……åˆ†å‡†å¤‡å†åŽ»é¢è¯•ã€‚ å…³äºŽå†…æŽ¨äººï¼Œå°½å¯èƒ½é€‰æ‹©æ¯”è¾ƒç†Ÿçš„å¸ˆå…„å¸ˆå§ï¼Œé¿å…é€‰æ‹©ç½‘ä¸Šå…¬å¼€å‘å¸ƒçš„å†…æŽ¨ä¿¡æ¯ã€‚åŽè€…ä¸€èˆ¬æ˜¯å†…éƒ¨å‘˜å·¥ä¸ºäº†å†…æŽ¨å¥–åŠ±è€Œå‘å¸ƒçš„ä¿¡æ¯ï¼Œå†…æŽ¨é‡å·¨å¤§ï¼Œå¾ˆå¯èƒ½å°±é—æ¼äº†ä¸ªåˆ«äººçš„å†…æŽ¨ï¼Œè€Œä½ åˆæ— æ³•è”ç³»ä¸Šä»–ä»¬ï¼Œä¼šç™½ç™½æµªè´¹å¾ˆå¤šæ—¶é—´ï¼ˆæˆ‘çš„è¡€æ³ªæ•™è®­ï¼‰ã€‚ 1.4 å…³äºŽæš‘æœŸå®žä¹ offeré€‰æ‹©æœ€å¥½çš„å½“ç„¶æ˜¯èƒ½åŽ»è‡ªå·±ç›®æ ‡åŸŽå¸‚çš„ç›®æ ‡å…¬å¸ï¼Œç„¶åŽæœ€å¥½çš„ç»“æžœæ˜¯é¡ºåˆ©è½¬æ­£ç•™ä¸‹ï¼ä½†æ˜¯ï¼ç›¸ä¿¡å¾ˆå¤šäººå’Œæˆ‘ä¸€æ ·â€¦å¹¶æ²¡æœ‰æƒ³å¥½ç›®æ ‡åŸŽå¸‚æˆ–è€…ç›®æ ‡å…¬å¸ã€‚é‚£è¿™ä¸ªæ—¶å€™ï¼Œä¸ªäººå»ºè®®é€‰æ‹©è¶Šå¤§çš„å…¬å¸è¶Šå¥½ï¼ˆå…¶ä»–å› ç´ ç›¸å·®ä¸æ˜¯å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼‰ã€‚æ¯•ç«Ÿæš‘æœŸå®žä¹ çš„æœ€ç»ˆç›®æ ‡æ˜¯æ­£å¼å·¥ä½œï¼Œå³ä½¿ä¸èƒ½ç•™ä»»ï¼Œä¸€ä»½å¤§å…¬å¸çš„å®žä¹ æ˜¯éžå¸¸ä¸ºç®€åŽ†å¢žè‰²çš„ï¼Œèƒ½å¤Ÿæœ‰æ•ˆå¸®åŠ©åˆ°è‡ªå·±çš„ç§‹æ‹›ã€‚ 2. å®žä¹ å’Œç§‹æ‹›2.1 æš‘æœŸå®žä¹ è¿™é‡Œæ¯ä¸ªäººåŽ»çš„å…¬å¸å’ŒçŠ¶æ€éƒ½ä¸åŒï¼Œæˆ‘åªæƒ³è¯´ä¸€ç‚¹ï¼Œå°±æ˜¯å®žä¹ ç§‹æ‹›è¦å…¼é¡¾ã€‚å¹³æ—¶å®Œæˆå®žä¹ ä»»åŠ¡çš„é¢å¤–æ—¶é—´ï¼Œä¹Ÿè¦ç»™è‡ªå·±ç•™æ¡åŽè·¯ï¼ŒåŒæ—¶ä¸ºç§‹æ‹›åšå‡†å¤‡ã€‚ é’ˆå¯¹æš‘æœŸå®žä¹ ï¼Œä¼ä¸šçš„ç›®çš„æ˜¯ä¸ºäº†è€ƒå¯Ÿå€™é€‰äººï¼Œè€Œæˆ‘ä»¬çš„ç›®çš„åˆ™æ˜¯é€šè¿‡æš‘æœŸå®žä¹ ç•™ç”¨æˆ–è€…ä¸ºè‡ªå·±çš„ç®€åŽ†å¢žè‰²ä»Žè€Œæ‰¾åˆ°æ›´å¥½çš„å·¥ä½œã€‚æ— è®ºä½ çš„ç›®çš„æ˜¯å‰è€…è¿˜æ˜¯åŽè€…ï¼Œéƒ½å»ºè®®åœ¨å°½é‡äº‰å–è½¬æ­£çš„åŒæ—¶ï¼Œè¿›è¡Œç§‹æ‹›çš„â€œå¹¿æ’’ç½‘â€ã€‚æ³¨æ„ï¼Œæˆ‘è¿™é‡Œçš„æƒ…å†µåªæ˜¯é’ˆå¯¹å¹¿å¤§äººæ°‘ç¾¤ä¼—ï¼Œä¸åŒ…æ‹¬å¾ˆç‰›çš„äººï¼ˆè¿™äº›äººä¹Ÿä¸éœ€è¦çœ‹æˆ‘è¿™ç¯‡æ‹™æ–‡â€¦..ï¼‰ã€‚ å¦‚æžœä½ çš„ç›®çš„æ˜¯å®žä¹ ç•™ç”¨ï¼Œå¹¶ä¸”æˆåŠŸåœ°ç•™äº†ä¸‹æ¥ï¼Œæˆ‘çš„çœ‹æ³•æ˜¯ï¼Œä¾ç„¶ç»§ç»­å‚åŠ ç§‹æ‹›ã€‚åŽŸå› æœ‰å¦‚ä¸‹å‡ ç‚¹ï¼š æ”¾å¼ƒç§‹æ‹›æ„å‘³ç€æ”¾å¼ƒäº†æ›´å¤šæœºä¼šã€‚å¯èƒ½ä½ è§‰å¾—å½“å‰è¿™ä¸ªofferå·²ç»å¾ˆæ»¡æ„äº†ï¼Œä½†å…¶å®žå¯èƒ½è¿˜æœ‰æ›´å¥½çš„æœºä¼šå¯ä¾›é€‰æ‹©ã€‚å¤šè¯•è¯•ï¼Œä¸è¦ç»™è‡ªå·±ç•™é—æ†¾ã€‚ å‡†å¤‡ç§‹æ‹›ä¹Ÿæ˜¯å·©å›ºåŸºç¡€ï¼Œå¿«é€Ÿè¿›æ­¥çš„ä¸€æ®µæ—¶é—´ã€‚æ¯•ç«Ÿï¼Œæœ‰ç›®æ ‡ï¼Œæœ‰åŠ¨åŠ›ï¼Œåˆæœ‰é¢è¯•å®˜å¸®åŠ©ä½ å¤ä¹ å’Œç­”ç–‘ï¼Œè¿™ç§æœºä¼šçœŸçš„ä¸å¤šã€‚ å’Œä¸åŒå…¬å¸ä¸åŒèŒçº§çš„é¢è¯•å®˜äº¤æµï¼Œèƒ½å¤Ÿè®©ä½ æ›´åŠ äº†è§£è‡ªå·±æ‰€åœ¨çš„è¡Œä¸šä»¥åŠè‡ªå·±æ‰€ä»Žäº‹çš„æ–¹å‘åœ¨è¡Œä¸šä¸­çš„åº”ç”¨åœºæ™¯ã€‚è™½ç„¶å°ç¼–æ˜¯åšæŠ€æœ¯çš„ï¼Œä½†æˆ‘ä¸€ç›´è®¤ä¸ºå¯¹æ•´ä¸ªè¡Œä¸šçš„åŠ¨å‘è¿˜æ˜¯è¦æœ‰äº†è§£çš„ã€‚å¾€å¤§äº†è¯´ï¼Œè¿™å…¶å®žå°±æ˜¯ä¸€ä¸ªäººçš„è¡Œä¸šæ ¼å±€é—®é¢˜ã€‚åœ¨è‡ªå·±é¢ä¸´é€‰æ‹©æ—¶ï¼Œè¿™ç§æ ¼å±€èƒ½å¤Ÿå¸®åŠ©è‡ªå·±åšå‡ºæ›´åŠ æ­£ç¡®çš„é€‰æ‹©ã€‚ å¦‚æžœä½ çš„ç›®çš„æ˜¯æ‰¾åˆ°æ›´å¥½çš„å·¥ä½œï¼Œé‚£å°±æ›´ä¸ç”¨è¯´äº†ï¼Œå¤šåŽ»è¯•å§ï¼ 2.2 æ—¶é—´èŠ‚ç‚¹éƒ½è¯´â€œé‡‘9é“¶10â€ï¼Œå¥½åƒçŽ°åœ¨å·²ç»è¿‡æ—¶äº†ã€‚ç§‹æ‹›æœ€æ—©åœ¨å…­æœˆä»½å°±å·²ç»å¼€å§‹äº†ï¼ï¼ˆæ˜¯çš„ï¼Œåˆæ˜¯é‚£ä¸ªvivoï¼‰ ä¸ƒæœˆä¸­æ—¬åˆ°å…«æœˆåº•ï¼Œä¼šæœ‰ä¸€å¤§æ‰¹æå‰æ‰¹æ‹›è˜å¼€å¯ã€‚æ³¨æ„ï¼Œæå‰æ‰¹å¾ˆé‡è¦ï¼å¾ˆé‡è¦ï¼ä¹‹å‰å’ŒåŒå­¦è®¨è®ºï¼Œæœ‰è®¸å¤šäººåŽæ‚”æå‰æ‰¹æ²¡æœ‰å¤šæŠ•ä¸€äº›ï¼Œå¯¼è‡´æ­£å¼æ‰¹çš„æ—¶å€™hcï¼ˆhead countï¼Œå‘ä½ï¼‰å¤§å¤§å‡å°‘ï¼Œè®¸å¤šhcéƒ½è¢«æå‰æ‰¹çš„åŒå­¦ç»™å äº†ã€‚æ‰€ä»¥ï¼Œå»ºè®®ä¸€å®šè¦é‡è§†æå‰æ‰¹ï¼Œäº‰å–åœ¨æå‰æ‰¹èƒ½å¤Ÿæ‹¿ä¸‹ä¸€äº›é‡é‡çº§offerï¼Œè¿™æ ·ç§‹æ‹›ä¼šè½»æ¾å¾ˆå¤šã€‚ 2.3 ä¿¡æ¯æ¸ é“å’Œå†…æŽ¨è§1.2å’Œ1.3 2.4 è–ªèµ„è°ˆåˆ¤å†™åˆ°è¿™é‡Œï¼Œæ‚²å‚¬çš„å‘çŽ°æˆ‘å¥½åƒä»Žæ¥æ²¡æœ‰è°ˆåˆ¤è¿‡è–ªèµ„ã€‚çªç„¶æœ‰ç‚¹åŽæ‚”(ã€’ï¸¿ã€’)ã€‚ ä¸è¿‡æ²¡åƒè¿‡çŒªè‚‰ï¼Œè¿˜æ˜¯è§è¿‡å¾ˆå¤šçŒªè·‘çš„ã€‚æ‰€è°“è–ªèµ„è°ˆåˆ¤ï¼Œå°±æ˜¯æ¯”å¦‚ä½ æœ‰é˜¿é‡Œå’Œè…¾è®¯çš„offerï¼Œå¯ä»¥æ‹¿ç€é˜¿é‡Œçš„offeråŽ»å’Œè…¾è®¯è¯´æˆ‘è¦åŠ è–ªï¼ˆå½“ç„¶è¿‡ç¨‹å¯èƒ½æ²¡è¿™ä¹ˆç®€å•ç²—æš´ï¼‰ã€‚ å»ºè®®è°ˆè–ªé€‚åº¦å³å¯ã€‚è§è¿‡ä¸€ä¸ªéªšæ“ä½œï¼Œæœ‰äººæ‹¿é˜¿é‡Œofferå’Œè…¾è®¯è°ˆè–ªï¼Œç„¶åŽåˆæ‹¿è…¾è®¯è°ˆå®Œçš„è–ªèµ„åŽ»å’Œé˜¿é‡Œè°ˆè–ª.ï¼ˆç±»ä¼¼äºŽå·¦è„šè¸©å³è„šï¼Œå³è„šè¸©å·¦è„šç„¶åŽæƒ³ä¸Šå¤©ï¼Ÿï¼‰â€¦..ä¸çŸ¥é“é‚£ä½ä»å…„æ€Žæ ·äº†ã€‚ è¿˜è§è¿‡ä¸€ä¸ªå…¬å¸ï¼Œå°±ä¸æåå­—äº†ï¼Œä¸ºäº†æŒ½ç•™å€™é€‰äºº-æˆ‘ä»¬ç¾¤é‡Œçš„ä¸€ä½åŒå­¦ï¼Œæ…¢æ…¢ä¸€æ­¥æ­¥åŠ è–ªï¼Œæœ€åŽç›¸æ¯”åŽŸofferåŠ äº†6kï¼ˆæœˆè–ªï¼‰ã€‚è™½ç„¶æœ€åŽè–ªèµ„éžå¸¸å¯è§‚ï¼Œä½†æˆ‘ä»¬éƒ½è®¤ä¸ºè¿™å®¶å…¬å¸åŽ»ä¸å¾—ã€‚åŽé¢è¿›è¡Œå¤§å¹…åº¦åŠ è–ªï¼Œè¯´æ˜ŽåŽŸæœ¬ç»™çš„è–ªèµ„æ˜¯åŽ‹ä»·éžå¸¸ä¸¥é‡çš„ï¼Œè€Œä¸”æ˜¯ä¸€æ­¥æ­¥æ…¢æ…¢åŠ è–ªï¼Œè¯´æ˜Žè¿™å®¶å…¬å¸æ ¼å±€å¤ªå°ï¼ŒåŽ»ä¸å¾—ã€‚ 2.5 offeré€‰æ‹©æ­£å¼offeré€‰æ‹©ä¸åŒäºŽå®žä¹ offeré€‰æ‹©ï¼Œè¦è€ƒè™‘çš„å› ç´ å¤ªå¤šã€‚å¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„offeré€‰æ‹©æ–‡ç« ã€‚]]></content>
      <tags>
        <tag>æ±‚èŒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ·±åº¦å­¦ä¹ æœåŠ¡å™¨å®Œæ•´é…ç½®æŒ‡å—]]></title>
    <url>%2F2019%2F01%2F17%2F%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%97%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘å®žéªŒå®¤é…äº†ä¸€å°æ·±åº¦å­¦ä¹ æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨åˆšåˆ°æ—¶åŸºæœ¬ä¸Šåªè£…äº† ubuntu æ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥æˆ‘ä¹ŸåŸºæœ¬ä¸Šæ˜¯ç®—ä»Žå¤´é…ç½®äº†ä¸€å°æ·±åº¦å­¦ä¹ æœåŠ¡å™¨ã€‚çŽ°å°†é…ç½®è¿‡ç¨‹è®°å½•äºŽæ­¤ï¼Œä»¥ä¾¿å¸®åŠ©ä»–äººå’Œæ–¹ä¾¿äº¤æµã€‚ é¦–å…ˆï¼Œæˆ‘çš„æ·±åº¦å­¦ä¹ æœåŠ¡å™¨çš„é…ç½®ä¸ºï¼š ubuntu 14.04 æ“ä½œç³»ç»Ÿï¼Œ16.04 åº”è¯¥ä¹Ÿæ˜¯ä¸€æ ·çš„ Anaconda3 é›†æˆçš„ python çŽ¯å¢ƒï¼Œä½¿ç”¨ conda è¿›è¡Œè™šæ‹ŸçŽ¯å¢ƒç®¡ç† jupyterhub æä¾›çš„ jupyter notebook åŠŸèƒ½ cuda 9.0 + cudnn 7.1 + tensorflow 1.5.0 æœ‰äº†ä»¥ä¸Šé…ç½®æˆ–çŽ¯å¢ƒï¼ŒæœåŠ¡å™¨å°±éžå¸¸å¥½ç”¨äº†ã€‚æ— è®ºæ˜¯ç”¨æˆ·è™šæ‹ŸçŽ¯å¢ƒç®¡ç†ï¼Œè¿˜æ˜¯ä½¿ç”¨ jupyter notebook éƒ½éžå¸¸æ–¹ä¾¿ã€‚ å¥½äº†ï¼ŒæŽ¥ä¸‹æ¥å¼€å§‹é€ä¸ªä»‹ç»ã€‚ 1. ç½‘ç»œé…ç½®æœåŠ¡å™¨åˆšåˆ°ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯è¦è¿›è¡Œç½‘ç»œé…ç½®ã€‚ç½‘ç»œé…ç½®å¥½ä¹‹åŽï¼Œå°±å¯ä»¥å°†æœåŠ¡å™¨æ”¾å…¥æœºæˆ¿ï¼Œä¸ç”¨å†å¿å—å™ªéŸ³ï¼Œè¿›è¡Œè¿œç¨‹æ“ä½œäº†ã€‚æˆ‘è¿™é‡Œçš„æœåŠ¡å™¨æ˜¯æŽ¥å…¥çš„æ ¡å›­ç½‘ï¼Œå› æ­¤ä¹Ÿåªä»‹ç»æ ¡å›­ç½‘ä¸‹çš„ç½‘ç»œé…ç½®ï¼Œå…¶ä»–æƒ…å†µçš„åŒå­¦éœ€è¦åŽ»æŸ¥ä¸€ä¸‹èµ„æ–™é…ç½®ã€‚ 1.1 æŽ¥å…¥æ ¡å›­ç½‘é¦–å…ˆï¼Œä½¿ç”¨ç½‘çº¿ä»‹å…¥æ ¡å›­ç½‘ï¼Œæ‰“é€šç‰©ç†å±‚é¢ã€‚æ³¨æ„ä¸è¦æŽ¥é”™ç½‘å£ï¼Œæˆ‘ä¹‹å‰å› ä¸ºæŽ¥é”™ç½‘å£ï¼Œå¯¼è‡´èŠ±äº†åŠä¸‹åˆæ—¶é—´æ‰¾é—®é¢˜ï¼Œå¯ä»¥è¯´æ˜¯å¾ˆå°´å°¬äº†ã€‚ æŽ¥ä¸‹æ¥ï¼Œä½¿ç”¨ ifconfig å‘½ä»¤æ¥æŸ¥çœ‹ç½‘å¡ç±»åž‹ï¼Œeth0 or em1 è¿™ç§ï¼Œæˆ‘è¿™é‡Œæ˜¯ em1ã€‚ç„¶åŽä¿®æ”¹ /etc/network/interfaces å¦‚ä¸‹ï¼š12345678910111213# This file describes the network interfaces available on your system# and how to activate them. For more information, see interfaces(5).# The loopback network interfaceauto loiface lo inet loopback# The primary network interfaceauto em1#iface em1 inet dhcpiface em1 inet staticaddress xx.xx.xx.xxnetmask xxx.xxx.xxx.0gateway xx.xx.xx.xxxdns-nameservers xx.xx.x.xx ä¸Šé¢çš„é…ç½®å…¶å®žå°±æ˜¯ç»™æœåŠ¡å™¨è®¾ç½®ä¸€ä¸ªé™æ€ ip ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªé™æ€ ip è®¿é—®è¯¥æœåŠ¡å™¨ã€‚ç„¶åŽé…ç½®ç½‘ç®¡ï¼ŒDNS æœåŠ¡å™¨ä»€ä¹ˆçš„ã€‚å’Œ windows ä¸‹é…ç½®ç±»ä¼¼ï¼Œå®žéªŒå®¤ç”¨è¿‡æœ‰çº¿çš„åº”è¯¥éƒ½æ‡‚ã€‚ é…ç½®å¥½ä¹‹åŽï¼Œå°±å¯ä»¥è¿žæŽ¥å†…ç½‘äº†ã€‚ä½¿ç”¨ ping 10.xx.xxx.xxxï¼ˆä½ çš„æ ¡å›­ç½‘å†…ç½‘ ip åœ°å€ï¼‰ æ¥æ£€æŸ¥æ˜¯å¦èƒ½è¿žå†…ç½‘ã€‚ æ³¨æ„ï¼Œæˆ‘è¿™é‡Œè®°å½•çš„æ˜¯æˆ‘ä»¬å­¦æ ¡çš„æ ¡å›­ç½‘æŽ¥å…¥æ–¹å¼ï¼Œæˆ‘ä¸æ¸…æ¥šä¸åŒå­¦æ ¡çš„æ ¡å›­ç½‘æŽ¥å…¥æ–¹å¼æ˜¯å¦ç›¸åŒï¼Œéœ€è¦å¤§å®¶æžæ¸…æ¥šã€‚ 1.2 é•œåƒæºé…ç½®1.2.1 æ›´æ”¹ apt-get é•œåƒæºå°†æœåŠ¡å™¨åªæ”¾åœ¨æ ¡å›­ç½‘çŽ¯å¢ƒä¸‹ï¼Œè¿™æ ·åšæœ‰ä¸¤ä¸ªå¥½å¤„ï¼š å®‰å…¨ æ ¡å›­ç½‘é€Ÿåº¦éžå¸¸å¿« ä½†å¾ˆæ˜Žæ˜¾ï¼Œå¦‚æžœåªè¿žæ ¡å›­ç½‘ï¼Œæˆ‘ä»¬å°†æ— æ³•ä¸‹è½½æ—¥å¸¸ä½¿ç”¨çš„è½¯ä»¶æˆ–è€…åŒ…ã€‚ä½†è¿˜å¥½ï¼Œè¿™ä¸ªé—®é¢˜å¾ˆå¥½è§£å†³ï¼Œåªéœ€è¦ä¿®æ”¹é•œåƒæºå³å¯ã€‚ æˆ‘ä»¬åœ¨ä½¿ç”¨ apt-get install å‘½ä»¤æ—¶ï¼Œä¼šå‘å¤–ç½‘å‘é€è¯·æ±‚ï¼Œä¸‹è½½æˆ‘ä»¬éœ€è¦çš„è½¯ä»¶ã€‚è€Œä¿®æ”¹é•œåƒæºä¹‹åŽï¼Œåˆ™ä¼šè½¬è€Œå‘æˆ‘ä»¬æŒ‡å®šçš„ç½‘ç«™å‘é€è¯·æ±‚ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯æ¸…åŽçš„é•œåƒæºï¼Œæ¸…åŽçš„é•œåƒæºä½¿ç”¨æ ¡å›­ç½‘å†…ç½‘å³å¯è®¿é—®ï¼Œéžå¸¸é€‚åˆæˆ‘ä»¬è¿™ç§æ ¡å›­ç½‘çš„æœåŠ¡å™¨ã€‚ é¦–å…ˆï¼ŒæŠŠ /etc/apt/source.list æ–‡ä»¶å¤‡ä»½ï¼Œç„¶åŽå°† source.list çš„å†…å®¹ä¿®æ”¹å¦‚ä¸‹ï¼ˆå…·ä½“å†…å®¹å’Œ linux å‘è¡Œç‰ˆæœ¬æœ‰å…³ï¼Œå…·ä½“è§ Ubuntu é•œåƒä½¿ç”¨å¸®åŠ©ï¼‰ï¼š 123456789101112# é»˜è®¤æ³¨é‡Šäº†æºç é•œåƒä»¥æé«˜ apt update é€Ÿåº¦ï¼Œå¦‚æœ‰éœ€è¦å¯è‡ªè¡Œå–æ¶ˆæ³¨é‡Šdeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-updates main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-updates main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-backports main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-backports main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-security main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-security main restricted universe multiverse# é¢„å‘å¸ƒè½¯ä»¶æºï¼Œä¸å»ºè®®å¯ç”¨# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-proposed main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-proposed main restricted universe multiverse ç„¶åŽå°±å¯ä»¥åœ¨å†…ç½‘ä¸‹ä½¿ç”¨ apt-get install å‘½ä»¤äº†ã€‚ 1.2.2 æ›´æ”¹ pip å’Œ conda æºä½¿ç”¨ pip æˆ–è€… conda å®‰è£… python æ¨¡å—éžå¸¸æ–¹ä¾¿ï¼Œä½†æ˜¯æˆ‘ä»¬åªæŽ¥å…¥äº†æ ¡å›­ç½‘ï¼Œæ‰€ä»¥éœ€è¦æ›´æ”¹ä¸€ä¸‹ pip å’Œ anaconda çš„æºã€‚ pip æ›´æ”¹æ–¹å¼å¦‚ä¸‹ï¼šä¿®æ”¹ ~/.pip/pip.confï¼ˆæ²¡æœ‰å°±åˆ›å»ºä¸€ä¸ªï¼‰ï¼Œå†…å®¹å¦‚ä¸‹ï¼š12[global]index-url = https://pypi.tuna.tsinghua.edu.cn/simple conda æ›´æ”¹æ–¹å¼å¦‚ä¸‹ï¼š123# å‘½ä»¤è¡Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/conda config --set show_channel_urls yes ä¿®æ”¹ä¹‹åŽï¼Œå¯ä»¥æµ‹è¯•ä¸€ä¸‹é€Ÿåº¦ï¼Œæˆ‘è¿™é‡Œèƒ½ä¸Š 10M/sï¼Œè¿˜æ˜¯éžå¸¸å¿«çš„ã€‚ 1.2.3 å¤–ç½‘è®¿é—®å¦‚æžœæ˜¯åœ¨éœ€è¦è®¿é—®å¤–ç½‘ï¼Œå¯ä»¥ä½¿ç”¨ vpn è¿žæŽ¥åˆ°å¤–ç½‘ã€‚æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯æ ¡å†…æµä¼ çš„ä¸€ä¸ªè½¯ä»¶ï¼Œä¸åŒå­¦æ ¡ä¸åŒã€‚ ä½¿ç”¨ sudo dpkg -i xl2tpd_1.2.5%2Bzju-1_amd64.deb å®‰è£…ä¹‹åŽï¼ŒæŒ‰ç…§ä¸‹é¢æ–¹å¼é…ç½®ï¼š123456789101112# é…ç½®ç”¨æˆ·åå’Œå¯†ç $ sudo vpn-connect -cConfigure L2TP VPN for ZJU.# è¿™é‡Œçš„Usernameæ˜¯ä½ çš„å­¦å·ï¼ŒåŽé¢çš„@ä»£è¡¨ä½ æ˜¯10/30/50åŒ…æœˆã€‚Username: 216....@10Password: ä½ çš„å¯†ç # é…ç½®å®Œæˆï¼Œä½¿ç”¨è¿™ä¸ªå‘½ä»¤å¼€å¯è¿žæŽ¥$ sudo vpn-connect#è¿žæŽ¥æˆåŠŸï¼Œå¯ä»¥pingä¸€ä¸‹ç™¾åº¦ï¼Œçœ‹æ˜¯å¦èƒ½è¿žå¤–ç½‘äº†$ ping www.baidu.com# é‡è¿žï¼Œæ–­å¼€ç­‰ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹$ vpn-connect -h ä»¥ä¸Šï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯ç½‘ç»œé…ç½®çš„å†…å®¹äº†ã€‚ä»¥ä¸Šé…ç½®å¥½åŽï¼ŒåŸºæœ¬ä¸Šå°±å¤Ÿä¸€ä¸ªæœåŠ¡å™¨ä½¿ç”¨äº†ï¼Œæ¯•ç«Ÿï¼Œä½œä¸ºè®¡ç®—åž‹æœåŠ¡å™¨ï¼Œå¹³æ—¶ä½¿ç”¨æœ€å¤šçš„ä¹Ÿå°±æ˜¯ä½¿ç”¨ ssh è¿œç¨‹è®¿é—®å’Œä½¿ç”¨ pip äº†ã€‚ 2. çŽ¯å¢ƒé…ç½®è¿™ä¸€èŠ‚ä¸»è¦ä»‹ç»ä¸‹ python çŽ¯å¢ƒé…ç½®ã€‚ç”±äºŽæœåŠ¡å™¨éœ€è¦å¤šç”¨æˆ·ä½¿ç”¨ï¼Œå› æ­¤è™šæ‹ŸçŽ¯å¢ƒå¿…ä¸å¯å°‘ã€‚æ¯ä¸ªç”¨æˆ·éƒ½ä½¿ç”¨è‡ªèº«çš„ python è™šæ‹ŸçŽ¯å¢ƒï¼Œå¯ä»¥é¿å…æ¨¡å—ç‰ˆæœ¬å†²çªç­‰é—®é¢˜ã€‚æ­¤å¤–ï¼Œjupyter notebook ä½œä¸ºä¸€ä¸ªæ–¹ä¾¿çš„ python äº¤äº’å¼çŽ¯å¢ƒï¼Œèƒ½åœ¨å®¢æˆ·ç«¯ä½¿ç”¨å®ƒå¹¶ä¸”æ”¯æŒå¤šç”¨æˆ·ä½¿ç”¨ï¼Œä¹Ÿæ˜¯éœ€è¦è¿›è¡Œé…ç½®çš„ã€‚ 2.1 python è™šæ‹ŸçŽ¯å¢ƒpython çŽ¯å¢ƒæˆ‘ä»¬ä½¿ç”¨ Anaconda è¿›è¡Œé…ç½®ã€‚Anaconda é›†æˆäº† python çŽ¯å¢ƒå’Œå¸¸ç”¨çš„æ¨¡å—ï¼Œå¯ä»¥å¸®æˆ‘ä»¬çœå¾ˆå¤šåŠŸå¤«ã€‚ ä½¿ç”¨ sudo apt-get install anaconda3 å®‰è£… Anaconda3ã€‚ä¹Ÿå¯ä»¥åŽ»ç½‘ä¸Šä¸‹è½½ anaconda3 çš„å®‰è£…åŒ…ï¼Œä¸Šä¼ åˆ°æœåŠ¡å™¨ä¹‹åŽè¿›è¡Œå®‰è£…ã€‚Anywayï¼Œåªè¦èƒ½å¤ŸæˆåŠŸå®‰è£…å°±è¡Œï¼Œè¿™ä¸€æ­¥å¾ˆç®€å•ã€‚ ä¹‹åŽï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œè¾“å…¥python å’Œ conda æ¥æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸã€‚ æœ€åŽéœ€è¦ä¿®æ”¹å…¨å±€å˜é‡ï¼Œå› ä¸ºæ­¤æ—¶ï¼Œåªæœ‰ root ç”¨æˆ·èƒ½å¤Ÿä½¿ç”¨è¯¥çŽ¯å¢ƒï¼Œå…¶ä»–ç”¨æˆ·æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚ä¿®æ”¹æ–¹å¼å¦‚ä¸‹ï¼š12echo 'PATH=/usr/lib/anaconda/bin:$PATH' &gt;&gt; /etc/profile.d/anaconda.shsource /etc/profile è¿™æ ·ï¼Œæ‰€æœ‰ç”¨æˆ·éƒ½å¯ä»¥ä½¿ç”¨ Anaconda äº†ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ conda å»ºç«‹è™šæ‹ŸçŽ¯å¢ƒäº†ã€‚ å»ºè®®åœ¨ä½¿ç”¨æœåŠ¡å™¨è¿›è¡Œå¼€å‘æ—¶ï¼Œæ¯ä½ç”¨æˆ·éƒ½åœ¨è‡ªå·±çš„ python è™šæ‹ŸçŽ¯å¢ƒä¸‹è¿›è¡Œå¼€å‘ï¼Œä¸è¦åœ¨å…¨å±€å®‰è£… python çš„åŒ…å’Œåº“ã€‚å»ºç«‹è™šæ‹ŸçŽ¯å¢ƒçš„æ–¹å¼å¦‚ä¸‹ï¼š123456list all env: conda info --envcreate a simple virtual env: conda create -n MyEnvName python=3*delete virtual env: conda env remove -n MyEnvName å»ºç«‹å®ŒæˆåŽï¼Œä½¿ç”¨ source activate MyEnvName è¿›å…¥è™šæ‹ŸçŽ¯å¢ƒï¼Œä½¿ç”¨ source deactivate æŽ¨å‡ºè™šæ‹ŸçŽ¯å¢ƒã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨è‡ªå·±çš„è™šæ‹ŸçŽ¯å¢ƒä¸‹ï¼Œä½¿ç”¨ pip å®‰è£… python æ¨¡å—ï¼Œè¿˜æ˜¯å®‰è£…åˆ°å…¨å±€ä¸­çš„ï¼Œéœ€è¦ä½¿ç”¨ conda -n myEnv install pip æˆ–è€…åœ¨è™šæ‹ŸçŽ¯å¢ƒä¸‹ä½¿ç”¨ conda install pip æ¥å®‰è£…è™šæ‹ŸçŽ¯å¢ƒä¸­çš„pipï¼Œè¿™æ ·åœ¨è™šæ‹ŸçŽ¯å¢ƒä¸­ä½¿ç”¨pipå°±èƒ½å°†åŒ…å®‰è£…åˆ°è™šæ‹ŸçŽ¯å¢ƒä¸­äº†ã€‚ 2.2 jupyter notebook é…ç½®åœ¨æœåŠ¡å™¨å¼€å¯ jupyter notebook æœåŠ¡ï¼Œå¯ä»¥åœ¨å®¢æˆ·ç«¯ä½¿ç”¨æµè§ˆå™¨ç™»é™†æœåŠ¡å™¨çš„ jupyter notebookï¼Œä½†æ˜¯å¦‚æžœå¤šç”¨æˆ·åŒæ—¶ä½¿ç”¨ï¼Œå°±éœ€è¦æ¯ä¸ªç”¨æˆ·éƒ½è¿›è¡Œé…ç½®ç„¶åŽå¼€å¯æœåŠ¡ï¼Œéžå¸¸éº»çƒ¦ã€‚ Jupyterhub æ˜¯ä¸€ç»„è¿›ç¨‹ï¼Œä½¿ç”¨ JupyterHub å¯ä»¥ä¸ºç»„ä¸­çš„æ¯ä¸ªäººåˆ†åˆ«æä¾›å•ä¸ªç”¨æˆ·çš„ Jupyter Notebook æœåŠ¡å™¨ã€‚å…·ä½“ä½¿ç”¨æ–¹å¼è§JupyterHubã€‚ 3. æ·±åº¦å­¦ä¹ çŽ¯å¢ƒï¼šcuda9.0 + cudnn7.1 + tensorflow 1.5.0æˆ‘å®‰è£…æ·±åº¦å­¦ä¹ çŽ¯å¢ƒä¸»è¦æ˜¯ä¸ºäº†ä½¿ç”¨ tensorflow, ä½†ä¸åŒç‰ˆæœ¬çš„ tensorflow éœ€è¦å®‰è£…ä¸åŒç‰ˆæœ¬çš„ cuda ï¼Œæ‰€ä»¥éœ€è¦å…ˆæ˜Žç¡®è‡ªå·±ä½¿ç”¨çš„ tensorflow ç‰ˆæœ¬ã€‚æˆ‘è¦ä½¿ç”¨ tensorflow 1.5.0 ï¼Œæ‰€ä»¥é€‰æ‹©å®‰è£… cuda9.0 + cudnn7.1ã€‚ 3.1 ä»€ä¹ˆæ˜¯ cuda å’Œ cudnnCUDA æ˜¯ç”± NVIDIA æŽ¨å‡ºçš„ä¸€ç§é›†æˆæŠ€æœ¯ï¼Œç”¨äºŽ GPU çš„å¹¶è¡Œè®¡ç®—ã€‚ CUDA çš„ä½œç”¨ï¼Œæ˜¯ä¸Žé€šç”¨ç¨‹åºå¯¹æŽ¥ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬ä½¿ç”¨ python å†™çš„ç¨‹åºï¼Œå°†æ•°æ®å’Œè¿ç®—é€»è¾‘å‡†å¤‡å¥½ä¹‹åŽï¼Œéœ€è¦è°ƒç”¨ CUDA åº“æä¾›çš„å‡½æ•°æ¥ä¼ é€’ç»™ CUDAï¼ŒCUDA å†è°ƒç”¨æ˜¾å¡é©±åŠ¨å¯¹ CUDA ç¨‹åºè¿›è¡Œç¼–è¯‘ï¼Œç„¶åŽå†å°†ç¼–è¯‘å¥½çš„ç¨‹åºå’Œæ•°æ®ä¼ é€ç»™ GPU è¿›è¡Œè¿ç®—ã€‚ è€Œ cuDNN æ˜¯ç”¨äºŽæ·±åº¦ç¥žç»ç½‘ç»œçš„ GPU åŠ é€Ÿè®¡ç®—åº“ã€‚å®ƒå¯ä»¥å°†å·ç§¯ç¥žç»ç½‘è·¯çš„è®¡ç®—å˜æ¢ä¸ºå¯¹ GPU æ›´å‹å¥½çš„çŸ©é˜µè¿ç®—ï¼Œå¯ä»¥æœ‰æ•ˆæé«˜æ•´ä¸ªç½‘ç»œçš„è®­ç»ƒé€Ÿåº¦ã€‚ è¦ä½¿ç”¨ tensorflow çš„ GPU ç‰ˆæœ¬ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£… CUDA å’Œ cuDNNã€‚ 3.2 å®‰è£… cuda9.0 + cudnn7.13.2.1 å®‰è£…å‰ é¦–å…ˆï¼Œç¡®ä¿ä½ çš„ç”µè„‘ä¸Šæœ‰ CUDA æ”¯æŒçš„ GPU ç¡¬ä»¶ã€‚ åœ¨ç»ˆç«¯ä¸‹ï¼Œè¾“å…¥ lspci | grep -i nvidia æ¥æŸ¥çœ‹ã€‚å¦‚æžœæœ‰ GPU å®‰è£…ï¼Œä¼šæ˜¾ç¤ºç»“æžœã€‚ ç¡®ä¿ç³»ç»Ÿä¸­å®‰è£…äº† gcc ä½¿ç”¨ gcc --version æ¥æŸ¥çœ‹ gcc ç‰ˆæœ¬ï¼Œç¡®ä¿ç³»ç»Ÿä¸­å·²ç»å®‰è£…äº† gcc ã€‚ éªŒè¯ç³»ç»Ÿæ˜¯å¦å®‰è£…äº†æ­£ç¡®çš„å†…æ ¸å¤´æ–‡ä»¶å’Œå¼€å‘åŒ… ä½¿ç”¨ uname -r æ¥æŸ¥çœ‹ç³»ç»Ÿçš„æ ¸ç‰ˆæœ¬ã€‚ä½¿ç”¨ $ sudo apt-get install linux-headers-$(uname -r) æ¥å®‰è£…å½“å‰æ­£åœ¨è¿è¡Œçš„å†…æ ¸çš„å†…æ ¸å¤´æ–‡ä»¶å’Œå¼€å‘åŒ…ã€‚ ä¸‹è½½ CUDA CUDA å¯ä»¥åœ¨ NVIDIA ç½‘ç«™ ä¸‹è½½ï¼Œé€‰æ‹©è‡ªå·±ç›¸åº”çš„é€‰é¡¹åŽï¼Œå°±å¯ä»¥ä¸‹è½½äº†ã€‚æˆ‘è¿™é‡Œä¸‹è½½çš„æ˜¯ CUDA9.0 çš„ runfile(local) ã€‚ ç„¶åŽä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚ 3.2.2 å®‰è£… cudaåˆ°ä¹‹å‰æˆ‘ä»¬ä¸‹è½½çš„ runfile æ–‡ä»¶ç›®å½•ä¸‹ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š1$ sudo sh cuda_&lt;version&gt;_linux.run è¿›è¡Œå®‰è£…ã€‚ å®‰è£…ç¨‹åºä¼šæç¤ºå¦‚ä¸‹å†…å®¹ï¼š EULA Acceptanceï¼šæŽ¥å—åè®®å³å¯ CUDA Driver installationï¼šå¦‚æžœä½ å·²ç»è£…å¥½äº† nvidia æ˜¾å¡é©±åŠ¨ï¼Œè¿™é‡Œéœ€è¦é€‰æ‹© n ã€‚æ³¨æ„ï¼Œä½ çš„ nvidia æ˜¾å¡é©±åŠ¨ç‰ˆæœ¬éœ€è¦é€‚é… CUDA ç‰ˆæœ¬ CUDA Toolkit installationï¼Œlocationï¼Œand /usr/local/cuda symbolic linkï¼šè¿™é‡Œå…¨é€‰ y å’Œé»˜è®¤å³å¯ CUDA Samples installation and locationï¼šè¿™ä¸ªæœ€å¥½å®‰è£…ä¸€ä¸‹ï¼ŒåŽç»­å¯ä»¥ç”¨äºŽéªŒè¯ CUDA æ˜¯å¦å®‰è£…æ­£ç¡® å®‰è£…å®ŒæˆåŽï¼Œé‡å¯ç³»ç»Ÿã€‚ 3.2.3 å®‰è£…åŽé‡å¯ç³»ç»ŸåŽï¼Œéœ€è¦ä¿®æ”¹çŽ¯å¢ƒå˜é‡ã€‚å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š123$ export PATH=/usr/local/cuda-9.0/bin$&#123;PATH:+:$&#123;PATH&#125;&#125;$ export LD_LIBRARY_PATH=/usr/local/cuda-9.0/lib64\ $&#123;LD_LIBRARY_PATH:+:$&#123;LD_LIBRARY_PATH&#125;&#125; è‡³æ­¤ï¼ŒCUDA å®‰è£…å®Œæ¯•ã€‚æŽ¥ä¸‹æ¥æˆ‘ä»¬éªŒè¯ä¸€ä¸‹ CUDA æ˜¯å¦å®‰è£…æˆåŠŸã€‚ æ£€æŸ¥ /dev/ ç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨ä»¥ nvidia* å¼€å¤´çš„å¤šä¸ªæ–‡ä»¶ æ£€æŸ¥ CUDA Toolkit æ˜¯å¦å®‰è£…æˆåŠŸ ç»ˆç«¯è¾“å…¥ nvcc -V ä¼šè¾“å‡º CUDA ç‰ˆæœ¬ä¿¡æ¯ ç¼–è¯‘ Samples ä¾‹å­ è¿›å…¥åˆ° Samples å®‰è£…ç›®å½•ï¼Œç»ˆç«¯è¾“å…¥ make è¿›è¡Œç¼–è¯‘ ç¼–è¯‘å®ŒæˆåŽæµ‹è¯• è¿›å…¥ bin/x86_64/linux/release/ ç›®å½•ã€‚ è¿è¡Œ deviceQuery ç¨‹åºï¼š $ sudo ./deviceQuery ï¼ŒæŸ¥çœ‹è¾“å‡ºç»“æžœï¼Œæœ€åŽä¸€è¡Œæ˜¾ç¤º Result = PASS è¡¨ç¤ºé€šè¿‡æµ‹è¯•ã€‚ è¿è¡Œ bandwidthTest ç¨‹åºï¼š $ sudo ./bandwidthTest, æŸ¥çœ‹è¾“å‡ºç»“æžœï¼Œæœ€åŽä¸€è¡Œæ˜¾ç¤º Result = PASS è¡¨ç¤ºé€šè¿‡æµ‹è¯•ã€‚ å¦‚æžœä»¥ä¸Šå‡æ²¡æœ‰é—®é¢˜ï¼Œåˆ™è¯´æ˜Ž CUDA å®‰è£…æˆåŠŸã€‚ 3.2.4 å®‰è£… cudnncudnn çš„å®‰è£…éžå¸¸ç®€å•ï¼Œåªæœ‰ä»¥ä¸‹å‡ æ­¥ï¼š ä¸‹è½½ cudnn å®‰è£…åŒ… å‰å¾€ NVIDIA cuDNN home page, æ³¨å†Œè´¦å·ä¹‹åŽï¼Œä¸‹è½½ cudnn åŽ‹ç¼©åŒ…ï¼ˆtgzæ ¼å¼ï¼‰ã€‚æ³¨æ„ï¼Œwin10 æ“ä½œç³»ç»Ÿåœ¨ä¸‹è½½ tgz æ ¼å¼æ–‡ä»¶æ—¶ï¼Œä¼šå°†åŽç¼€åè½¬å˜ä¸º .solita* ï¼Œè¿™ä¸ªæ–‡ä»¶åœ¨ linux ä¸‹ä¹Ÿèƒ½è§£åŽ‹ï¼Œä½†æ˜¯ä¼šæŠ¥é”™ï¼Œå®žè·µè¯æ˜Žï¼Œè§£åŽ‹å‡ºçš„æ–‡ä»¶ä¹Ÿæ˜¯ä¸èƒ½ç”¨çš„ï¼Œå› æ­¤ï¼Œå»ºè®®åœ¨ linux ç³»ç»Ÿæˆ– mac os ä¸‹ä¸‹è½½ä¸Šè¿°åŽ‹ç¼©åŒ…ã€‚ç„¶åŽä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚ è§£åŽ‹åŽ‹ç¼©åŒ… è¾“å…¥å‘½ä»¤ï¼š$ tar -xzvf cudnn-9.0-linux-x64-v7.tgzï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª cuda/ ç›®å½•ã€‚ copy ä»¥ä¸‹æ–‡ä»¶åˆ° CUDA Toolkit ç›®å½•ä¸‹ ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š 1234$ sudo cp cuda/include/cudnn.h /usr/local/cuda/include$ sudo cp cuda/lib64/libcudnn* /usr/local/cuda/lib64$ sudo chmod a+r /usr/local/cuda/include/cudnn.h$ sudo chmod a+r /usr/local/cuda/lib64/libcudnn* ç»è¿‡ä»¥ä¸Šä¸‰æ­¥ï¼Œcudnn ä¹Ÿå®‰è£…å¥½äº†ï¼ŒæŽ¥ä¸‹æ¥åªéœ€è¦å®‰è£… tensorflow äº†ï¼ 3.3 å®‰è£… tensorflowæœ€ç®€å•çš„æ–¹å¼å½“ç„¶æ˜¯ä½¿ç”¨ pip è¿›è¡Œå®‰è£…äº†ï¼ åœ¨ç»ˆç«¯ä¸‹è¾“å…¥ pip install tensorflow-gpu==1.5.0 å³å¯ã€‚ æ³¨æ„æˆ‘ä»¬å®‰è£…çš„æ˜¯ gpu ç‰ˆæœ¬ï¼Œæ‰€ä»¥ä¸€å®šè¦æ˜¯ tensorflow-gpuï¼Œç­‰å·åŽé¢ä»£è¡¨æˆ‘ä»¬æƒ³è¦å®‰è£…çš„ tensorflow ç‰ˆæœ¬ã€‚ å®‰è£…æˆåŠŸåŽï¼Œç»ˆç«¯è¾“å…¥ python è¿›å…¥ python çŽ¯å¢ƒï¼Œè¿è¡Œä»¥ä¸‹ä»£ç ï¼Œè‹¥è¿è¡ŒæˆåŠŸï¼Œåˆ™è¯´æ˜Žæˆ‘ä»¬çš„ tensorflow çŽ¯å¢ƒä¹Ÿå°±é…ç½®æˆåŠŸäº†ï¼ 1&gt;&gt;&gt; import tensorflow 4. æ€»ç»“è¦é…ç½®åŠç»´æŠ¤å¥½ä¸€ä¸ªæ·±åº¦å­¦ä¹ æœåŠ¡å™¨è¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ã€‚æ¯”å¦‚ ACL æ–‡ä»¶æƒé™ç®¡ç†ç³»ç»Ÿï¼Œç”¨æˆ·æƒé™ç®¡ç†ï¼Œshell script å­¦ä¹ ç­‰ã€‚ æˆ‘è¿™é‡Œè®°å½•çš„å†…å®¹ï¼Œèƒ½å¤Ÿè®©æœåŠ¡å™¨å®žçŽ°å¤šç”¨æˆ·æ·±åº¦å­¦ä¹ å¼€å‘ï¼Œèƒ½å¯¹äºŽçŽ°åœ¨çš„å®žéªŒå®¤å·²ç»å¤Ÿç”¨äº†ï¼Œä¹‹åŽåŽé¢çš„å†…å®¹ï¼Œå¦‚æžœæœ‰éœ€è¦ä¼šç»§ç»­å­¦ä¹ ã€‚ ä»¥ä¸Šå†…å®¹ï¼Œæœ€è€—è´¹æ—¶é—´çš„å°±æ˜¯ CUDA å’Œ cudnn çŽ¯å¢ƒçš„é…ç½®äº†ã€‚åˆšå¼€å§‹å·æ‡’ï¼Œæƒ³è·Ÿç€ä¸­æ–‡åšå®¢åŽ»å®‰è£…ï¼ŒåŽæ¥çœ‹äº†æ•°åç¯‡åšå®¢ï¼Œä¸­é—´ç¢°åˆ°å„ç§é—®é¢˜åˆä¸æ–­ Google ï¼Œè§£å†³äº†ä¸€ä¸ªé—®é¢˜åˆå‡ºçŽ°æ–°çš„é—®é¢˜ï¼ŒçœŸçš„éžå¸¸å¿ƒç´¯ã€‚ åŽæ¥è·Ÿç€ NVIDIA çš„å®˜ç½‘æ•™ç¨‹ï¼Œé‡æ–°å®‰è£…äº†ä¸€éï¼Œæ€»ç®—æ˜¯æˆåŠŸäº†ã€‚ è¿™è®©æˆ‘æ˜Žç™½ï¼Œæ— è®ºæ˜¯å­¦ä¹ æ–°ä¸œè¥¿ä¹Ÿå¥½ï¼Œä½¿ç”¨ä¸€ä¸ªæ–°å·¥å…·ä¹Ÿå¥½ï¼Œæœ€å¥½çš„èµ„æ–™ä¸€å®šæ˜¯å®˜æ–¹ç¼–å†™çš„ã€‚ç½‘ä¸Šé“ºå¤©ç›–åœ°çš„åšå®¢ï¼Œæ— éžæ˜¯å¯¹è®ºæ–‡æˆ–è€…å®˜æ–¹æ•™ç¨‹çš„äºŒæ¬¡åŠ å·¥ã€‚æ‰€ä»¥ä¸€å®šä¸è¦å·æ‡’ï¼Œè€ç€æ€§å­åŽ»ç¢ç£¨è‹±æ–‡ç‰ˆçš„å®˜æ–¹æ•™ç¨‹ï¼Œä¸€å®šæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼ æˆ‘è¿™ç¯‡åšå®¢å…¶å®žæ˜¯å¯¹æˆ‘é…ç½®æ·±åº¦å­¦ä¹ æœåŠ¡å™¨çš„æ¢³ç†ï¼Œä¹Ÿæ˜¯å¯¹æŸ¥æ‰¾çš„å„ç§èµ„æ–™çš„æ€»ç»“å’Œå¯¹å®˜æ–¹æ•™ç¨‹çš„äºŒæ¬¡åŠ å·¥ã€‚å‰é¢çš„å†…å®¹åº”è¯¥å¾ˆå¥½é…ç½®ã€‚ å¦‚æžœ CUDA æˆ– cudnn çš„å®‰è£…å‡ºäº†é—®é¢˜ï¼Œå»ºè®®ä»”ç»†ç ”è¯» NVIDIA çš„å®˜æ–¹æ•™ç¨‹ã€‚ Installation Guide Linux :: CUDA Toolkit Documentation cuDNN Installation Guide :: Deep Learning SDK Documentation]]></content>
      <tags>
        <tag>ML</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python æ–‡æœ¬ç¼–ç ]]></title>
    <url>%2F2019%2F01%2F17%2Fpython%E6%96%87%E6%9C%AC%E7%BC%96%E7%A0%81%2F</url>
    <content type="text"><![CDATA[è½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ï¼šPythonæ–‡æœ¬ç¼–ç  ç›¸ä¿¡å¤§å®¶éƒ½ç¢°åˆ°è¿‡ä»¤äººå¤´ç–¼çš„pythonç¼–ç é—®é¢˜ï¼Œæ¯”å¦‚ï¼š&#39;ascii&#39; codec can&#39;t decode byte UnicodeDecodeError: &#39;utf-8&#39; codec can&#39;t decode byte 0xe9 in position 2892: invalid continuation byte ç­‰å¾ˆå¤šç±»ä¼¼çš„é—®é¢˜ã€‚ç”±äºŽåšä¸»å¹³æ—¶ä½¿ç”¨pythonå¤„ç†è‡ªç„¶è¯­è¨€æ¯”è¾ƒå¤šï¼Œå› æ­¤å°‘ä¸äº†ä¸Žå­—ç¬¦ä¸²åŠå…¶ç¼–ç æ‰“äº¤é“ã€‚æ¯æ¬¡ç¢°åˆ°è¿™ç§é—®é¢˜ï¼Œéƒ½è¦åŽ»googleä¸ªåŠå¤©ï¼Œç„¶åŽæŒ‰ç½‘ä¸Šçš„è§£å†³æ–¹æ¡ˆä¸€ä¸ªä¸€ä¸ªè¯•ï¼Œç›´åˆ°è§£å†³ä¸ºæ­¢ã€‚ ç»ˆäºŽæœ‰ä¸€å¤©ï¼Œæˆ‘å†ä¹Ÿæ— æ³•å¿å—è¿™ç§é‡å¤çš„æ“ä½œï¼Œä¸‹å®šå†³å¿ƒä¸€å®šè¦æŠŠè¿™äº›é—®é¢˜èƒŒåŽçš„åŽŸå› å’Œè§£å†³æ–¹æ³•æžæ¸…æ¥šï¼ŒäºŽæ˜¯å°±æœ‰äº†è¿™ç‰‡æ–‡ç« ã€‚åŠ›æ±‚æžæ‡‚pythonç¼–ç çš„åŽŸç†ï¼Œå¹¶æ€»ç»“äº†å¸¸è§çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆï¼Œæ–¹ä¾¿ä»¥åŽæŸ¥é˜…ã€‚ 1. ç¼–ç åŸºç¡€1.1 ä»€ä¹ˆæ˜¯ç¼–ç å’Œè§£ç é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ˜Žç™½ï¼Œè®¡ç®—æœºåªèƒ½å¤„ç†äºŒè¿›åˆ¶æ•°å­—ï¼Œå¦‚æžœè¦å¤„ç†æ–‡æœ¬ï¼Œéœ€è¦æŠŠæ–‡æœ¬è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°å­—ï¼Œç„¶åŽæ‰èƒ½è¿›è¡Œå¤„ç†ã€‚ åŒæ ·ï¼Œå¯¹äºŽæ–‡æœ¬ï¼Œè®¡ç®—æœºå­˜å‚¨çš„æ˜¯äºŒè¿›åˆ¶æ•°å­—ï¼Œè¦æƒ³å¾—åˆ°æ–‡æœ¬ï¼Œéœ€è¦å°†äºŒè¿›åˆ¶æ•°å­—è½¬åŒ–ä¸ºæ–‡æœ¬ï¼Œæ‰èƒ½å‘ˆçŽ°å‡ºæˆ‘ä»¬çœ‹åˆ°çš„å†…å®¹ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„æ˜¯æ–‡æœ¬ï¼Œè®¡ç®—æœºå¤„ç†çš„æ˜¯äºŒè¿›åˆ¶æ•°å­—ã€‚è¿™ä¸­é—´è‚¯å®šæ˜¯éœ€è¦æ¥å›žè½¬æ¢çš„ã€‚ä»Žæ–‡æœ¬åˆ°äºŒè¿›åˆ¶æ•°å­—å°±æ˜¯ç¼–ç ï¼Œä»ŽäºŒè¿›åˆ¶æ•°å­—åˆ°æ–‡æœ¬å°±æ˜¯è§£ç ã€‚ 1.2 ä»¥ ASCII ç¼–ç ä¸ºä¾‹ä»¥æˆ‘ä»¬æœ€ç†Ÿæ‚‰çš„ ASCII ç¼–ç ä¸ºä¾‹ï¼Œå¤§å†™å­—æ¯ A çš„ç¼–ç æ˜¯ 65ï¼Œå°å†™å­—æ¯ a çš„ç¼–ç æ˜¯ 97ã€‚1234&gt;&gt;&gt; list('A'.encode('ascii'))[65]&gt;&gt;&gt; list('a'.encode('ascii'))[97] ä¸Šé¢çš„ä»£ç æ„æ€æ˜¯å°† A å’Œ a ä»¥ ASCII ç¼–ç æ–¹å¼ç¼–ç åŽï¼Œå¾—åˆ°çš„æ•°å­—ï¼Œè¿™é‡Œä»¥åè¿›åˆ¶è¡¨ç¤ºä¹‹ï¼Œæ¢æˆäºŒè¿›åˆ¶å°±æ˜¯ â€˜Aâ€™ -&gt; 01000001â€˜aâ€™ -&gt; 01100001 å°±æ˜¯è¯´ï¼Œå…¶å®žæˆ‘ä»¬çœ‹åˆ°çš„ä¸Šè¿°ä¸¤ä¸ªå­—æ¯ï¼Œåœ¨è®¡ç®—æœºä¸­ï¼Œæ˜¯ä»¥ä¸Šé¢çš„äºŒè¿›åˆ¶å½¢å¼å­˜å‚¨çš„ã€‚å½“æˆ‘ä»¬éœ€è¦ä½¿ç”¨æˆ–å°†å­—æ¯å±•ç¤ºå‡ºæ¥çš„æ—¶å€™ï¼Œè®¡ç®—æœºéœ€è¦å°†äºŒè¿›åˆ¶æ•°å­—è½¬åŒ–ä¸ºå­—æ¯ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯è§£ç ã€‚ ASCII ç¼–ç æ˜¯è®¡ç®—æœºå‘å±•æ—©æœŸå‘æ˜Žçš„ï¼Œå½“æ—¶åªå°† 127 ä¸ªå­—ç¬¦è¿›è¡Œäº†ç¼–ç ï¼ˆå­—ç¬¦åˆ°äºŒè¿›åˆ¶æ•°å­—çš„æ˜ å°„ï¼‰ï¼Œä¹Ÿå°±æ˜¯å¤§å°å†™è‹±æ–‡å­—æ¯ï¼Œæ•°å­—å’Œä¸€äº›ç¬¦å·ã€‚ASCII ç é‡‡ç”¨ 8 ä½ bit è¿›è¡Œç¼–ç ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå­—èŠ‚ï¼Œèƒ½è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°å°±æ˜¯ 255ã€‚å½“å¤„ç†ä¸­æ–‡æ—¶ï¼Œ255ä¸ªå­—ç¬¦ï¼Œæ˜¾ç„¶å°±ä¸å¤Ÿäº†ã€‚ 1.3 ä¸­æ–‡ç¼–ç è¦å¤„ç†ä¸­æ–‡ï¼Œä¸€ä¸ªå­—èŠ‚æ˜¾ç„¶æ˜¯ä¸å¤Ÿçš„ï¼ˆä¸­æ–‡å­—ç¬¦æ•°é‡å¯è¿œè¿œä¸æ­¢ 255 ä¸ªï¼‰ã€‚æ‰€ä»¥ï¼Œä¸­å›½åˆ¶å®šäº† GB2312 ç¼–ç ï¼Œä½¿ç”¨ä¸¤ä¸ªå­—èŠ‚æ¥ç¼–ç ä¸­æ–‡ã€‚ä¸¤ä¸ªå­—èŠ‚èƒ½å¤Ÿè¡¨ç¤º 65535 ä¸ªæ•´æ•°ï¼ŒåŸºæœ¬ä¸Šèƒ½å¤Ÿå›Šæ‹¬æ‰€æœ‰çš„æ±‰å­—äº†ã€‚è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼š1234&gt;&gt;&gt; list('ä¸­'.encode('gb2312'))[214,208]&gt;&gt;&gt; list('a'.encode('gb2312'))[97] å¯ä»¥çœ‹åˆ°ï¼ŒGB2312 ç¼–ç æ–¹å¼ä¸ä»…å¯ä»¥å°†ä¸­æ–‡è¿›è¡Œç¼–ç ï¼ŒåŒæ—¶å…¼å®¹ ASCII ç ï¼Œä½¿ç”¨ä¸¤è€…å¯¹ ASCII çš„ 127 ä¸ªå­—ç¬¦è¿›è¡Œç¼–ç å¾—åˆ°çš„ç»“æžœæ˜¯ç›¸åŒçš„ã€‚å³ â€˜ä¸­â€™ -&gt; 11010110 11010000â€˜aâ€™ -&gt; 00000000 01100001 æˆ‘ä»¬å¸¸è§çš„ gbk ç¼–ç æ–¹å¼ï¼Œå…¶å®žå°±æ˜¯åœ¨ gb2312 ç¼–ç çš„åŸºç¡€ä¸Šï¼Œå¢žåŠ äº†ä¸€äº›ä¸­æ–‡å­—ç¬¦ã€‚ çŽ°åœ¨ï¼Œä½¿ç”¨ GB2312 ç¼–ç æ–¹å¼ï¼Œæˆ‘ä»¬èƒ½å¤„ç†ä¸­è‹±æ–‡æ··æ‚çš„æ–‡æœ¬äº†ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚æžœä¸€æ®µæ–‡æœ¬æ—¢æœ‰ä¸­æ–‡ï¼Œåˆæœ‰è‹±æ–‡ï¼Œè¿˜æœ‰å…¶ä»–è¯­è¨€å‘¢ï¼Ÿ 1.4 å¤§ç»Ÿä¸€ï¼šunicode ç¼–ç ä¸ºæ¯ç§è¯­è¨€åˆ¶å®šä¸€å¥—ç¼–ç æ–¹å¼å®žåœ¨æ˜¯å¤ªè ¢äº†ï¼ä¸ºä»€ä¹ˆä¸èƒ½æŠŠæ‰€æœ‰è¯­è¨€çš„æ‰€æœ‰å­—ç¬¦ä¸€èµ·ç¼–ç å‘¢ï¼Ÿ æŠŠæ‰€æœ‰è¯­è¨€ç»Ÿä¸€åˆ°ä¸€å¥—ç¼–ç é‡Œï¼Œè¿™å¥—ç¼–ç å°±æ˜¯ unicode ç¼–ç ã€‚ä½¿ç”¨ unicode ç¼–ç ï¼Œæ— è®ºå¤„ç†ä»€ä¹ˆæ–‡æœ¬éƒ½ä¸ä¼šå‡ºçŽ°ä¹±ç é—®é¢˜äº†ã€‚ unicode ç¼–ç ä½¿ç”¨ä¸¤ä¸ªå­—èŠ‚ï¼ˆ16 ä½ bitï¼‰è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œæ¯”è¾ƒååƒ»çš„å­—ç¬¦éœ€è¦ä½¿ç”¨ 4 ä¸ªå­—èŠ‚ã€‚ ä½†æ˜¯æ–°çš„é—®é¢˜åˆæ¥äº†ï¼Œå¦‚æžœä¸€æ®µçº¯è‹±æ–‡æ–‡æœ¬ï¼Œç”¨ unicode ç¼–ç å­˜å‚¨ä¼šæ¯”ç”¨ ASCII ç¼–ç å¤šå ç”¨ä¸€å€ç©ºé—´ï¼æ— è®ºæ˜¯å­˜å‚¨è¿˜æ˜¯ä¼ è¾“éƒ½å¾ˆæµªè´¹ï¼ 1.5 èŠ‚çº¦å°èƒ½æ‰‹ï¼šutf-8 ç¼–ç ä¸ºäº†æ”¹è¿›ä¸Šè¿°é—®é¢˜ï¼Œåˆæå‡ºäº† utf-8 ç¼–ç ã€‚è¯¥ç¼–ç å°†ä¸€ä¸ª unicode å­—ç¬¦ç¼–ç æˆ 1~6 ä¸ªå­—èŠ‚ï¼Œå¸¸ç”¨çš„è‹±æ–‡å­—æ¯è¢«ç¼–ç æˆ 1 ä¸ªå­—èŠ‚ï¼Œæ±‰å­—é€šå¸¸æ˜¯ 3 ä¸ªå­—èŠ‚ï¼Œåªæœ‰å¾ˆç”Ÿåƒ»çš„å­—ç¬¦æ‰ä¼šè¢«ç¼–ç æˆ 4~6 ä¸ªå­—èŠ‚ã€‚æ³¨æ„ï¼Œä»Ž unicode åˆ° utf-8 å¹¶ä¸æ˜¯ç›´æŽ¥çš„å¯¹åº”ï¼Œè€Œæ˜¯é€šè¿‡ä¸€äº›ç®—æ³•å’Œè§„åˆ™æ¥è½¬æ¢çš„ã€‚ æ¥çœ‹ä¸€ä¸‹å…·ä½“ç¼–ç ä¾‹å­å§ï¼š1234&gt;&gt;&gt; list('ä¸­'.encode('utf-8'))[228, 184, 173]&gt;&gt;&gt; list('a'.encode('utf-8'))[97] å¯ä»¥çœ‹å‡ºï¼Œutf-8 å°†æ±‰å­— â€˜ä¸­â€™ ç¼–ç æˆäº†ä¸‰ä¸ªå­—èŠ‚ï¼Œå°†è‹±æ–‡å­—æ¯ â€˜aâ€™ ç¼–ç æˆäº†ä¸€ä¸ªå­—èŠ‚ï¼Œä¸” utf-8 ç¼–ç å…¼å®¹ ASCII ç¼–ç ã€‚ 2. Pythonç¼–ç 2.1 Python2 or Python3 ?ä»Žä¸Šé¢çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå­—ç¬¦çš„æœ€ä½³å®šä¹‰åº”å½“æ˜¯ Unicode å­—ç¬¦ï¼ˆå­˜å‚¨åŠä¼ è¾“çš„æ—¶å€™å†è½¬ä¸º utf-8ï¼‰ã€‚ ä»Ž Python3 çš„ str å¯¹è±¡ä¸­èŽ·å–çš„å…ƒç´ æ˜¯ Unicode å­—ç¬¦ï¼Œè¿™ç›¸å½“äºŽä»Ž Python2 çš„ unicode å¯¹è±¡ä¸­èŽ·å–çš„å…ƒç´ ã€‚è€Œ Python2 çš„ str å¯¹è±¡èŽ·å–çš„æ˜¯åŽŸå§‹å­—èŠ‚åºåˆ—ï¼ˆç›¸ä¿¡ç”¨è¿‡ Python2 çš„éƒ½è§è¿‡ â€˜\xe8\x32\xa6\xb2â€¦â€¦â€™ è¿™ç§ä¹±ä¸ƒå…«ç³Ÿçš„å­—ç¬¦å§ï¼‰ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬çš„ç»“è®ºæ˜¯ï¼š äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨Python3 2.2 ä¸€ä¸ªä¾‹å­è®©æˆ‘ä»¬æ¥ç»“åˆPythonå®žä¾‹æ¥å…·ä½“çœ‹ä¸€ä¸‹ç¼–ç çš„åº”ç”¨ï¼š12345678910111213# Python3 å­—ç¬¦ä¸²ï¼Œä¸º Unicode å­—ç¬¦&gt;&gt;&gt; a = 'ä¸­æ–‡'&gt;&gt;&gt; import sys# æŸ¥çœ‹å½“å‰ç³»ç»Ÿé»˜è®¤ç¼–ç æ–¹å¼ï¼ˆlinuxï¼‰ï¼Œ windows é»˜è®¤ä¸ºutf-8&gt;&gt;&gt; sys.getfilesystemencoding()'utf-8'&gt;&gt;&gt; with open('test.txt', 'w', encoding = 'utf-8') as f:Â·Â·Â· f.write(a)Â·Â·Â·&gt;&gt;&gt; with open('/home/zhuyuhe/test.txt', 'r'ï¼Œencoding = 'utf-8') as f:... print(f.readlines())...['ä¸­æ–‡'] ä¸Šé¢ä¸¤ä¸ª open å‘ç”Ÿäº†ä»€ä¹ˆçš„ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ï¼š å¯¹äºŽç¬¬ä¸€ä¸ª open å‡½æ•°ï¼Œå®ƒçš„æ‰§è¡Œæµç¨‹æ˜¯è¿™æ ·çš„ï¼š1[strå¯¹è±¡èŽ·å– unicode å­—ç¬¦] --&gt;|utf-8 ç¼–ç | --&gt; [å­—èŠ‚åºåˆ—] --&gt;|äºŒè¿›åˆ¶å½¢å¼å­˜å‚¨| --&gt; [test.txt] å¯¹äºŽç¬¬äºŒä¸ª open å‡½æ•°ï¼Œå®ƒçš„æ‰§è¡Œæµç¨‹æ˜¯è¿™æ ·çš„ï¼š1[æ–‡ä»¶ä¸­å­˜æ”¾çš„0101...] --&gt;|utf-8 è§£ç | --&gt; [unicode å­—ç¬¦] --&gt; [str å¯¹è±¡] è¿™é‡Œå¯èƒ½ä¼šæœ‰ä¸€ç‚¹ç–‘é—®ï¼Œä¸ºä»€ä¹ˆ unicode å­—ç¬¦å¯ä»¥é€šè¿‡ utf-8 ç¼–ç æˆäºŒè¿›åˆ¶æ•°å­—ï¼ŒäºŒè¿›åˆ¶æ•°å­—é€šè¿‡ utf-8 è§£ç æˆ unicode å­—ç¬¦ã€‚ å‰é¢å·²ç»è¯´è¿‡ï¼Œutf-8 æ˜¯åœ¨ unicode çš„åŸºç¡€ä¸Šæ”¹è¿›è€Œæ¥ï¼Œæ˜¯é’ˆå¯¹ä¼ è¾“å’Œå­˜å‚¨è€Œè®¾è®¡çš„ä¸€ç§ç¼–ç æ–¹å¼ã€‚ utf-8 ç¼–ç é’ˆå¯¹çš„å¯¹è±¡æ˜¯ unicode å­—ç¬¦ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è®¡ç®—æœºå†…å­˜ä¸­ï¼Œç»Ÿä¸€ä½¿ç”¨ unicode ç¼–ç ï¼Œå½“éœ€è¦ä¿å­˜åˆ°ç¡¬ç›˜æˆ–è€…éœ€è¦ä¼ è¾“çš„æ—¶å€™ï¼Œå°±è½¬æ¢ä¸º utf-8 ç¼–ç ã€‚ 2.3 å¦ä¸€ä¸ªä¾‹å­å¦‚æžœæˆ‘ä»¬ä½¿ç”¨è®°äº‹æœ¬æ‰“å¼€ä¸Šä¸€å°èŠ‚ä¿å­˜çš„ test.txt å‘¢ï¼Œè¿™ä¸­é—´å‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿ è®©æˆ‘ä»¬åŒæ ·ç”¨æµç¨‹å›¾æ¥çœ‹ä¸€ä¸‹ï¼š 1[åœ¨è®¡ç®—æœºç¡¬ç›˜ä»¥0101...å½¢å¼å­˜æ”¾çš„æ–‡ä»¶] --&gt; |è®°äº‹æœ¬æ‰€ä½¿ç”¨çš„ç¼–ç æ–¹å¼|--&gt; B[æˆ‘ä»¬çœ‹åˆ°çš„å­—ç¬¦] æˆ‘ä»¬çš„ test.txt æ˜¯ä»¥ utf-8 çš„ç¼–ç æ–¹å¼ä¿å­˜çš„ï¼Œå¦‚æžœè®°äº‹æœ¬ä½¿ç”¨çš„ç¼–ç æ–¹å¼ä¸º gb2312ï¼Œæ‰“å¼€è¯¥æ–‡ä»¶æ—¶ï¼Œè®°äº‹æœ¬ä¼šå°è¯•ä»¥ gb2312 çš„æ–¹å¼è§£ç è¯¥æ–‡ä»¶çš„å­—èŠ‚åºåˆ—ï¼ˆäºŒè¿›åˆ¶æ•°å­—ï¼‰ï¼Œç”±äºŽä¸¤è€…çš„å­—ç¬¦ä¸Žå­—èŠ‚å¯¹åº”å…³ç³»ä¸åŒï¼Œå½“ç„¶ä¼šè§£ç å¤±è´¥ã€‚æ­¤æ—¶è®°äº‹æœ¬ä¼šæ˜¾ç¤ºå„ç§ä¹±ç ã€‚è¿™ä¸ªè¿‡ç¨‹ç±»ä¼¼ä¸‹é¢çš„ä»£ç ï¼š 1234&gt;&gt;&gt; 'ä¸­æ–‡'.encode('utf-8').decode('gbk')Traceback (most recent call last): File "&lt;stdin&gt;", line 1, in &lt;module&gt;UnicodeDecodeError: 'gbk' codec can't decode byte 0xad in position 2: illegal multibyte sequence å¦‚æžœç¢°åˆ°ä¸Šè¿°é—®é¢˜ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨ notepad++ æ‰“å¼€è¯¥æ–‡ä»¶ï¼Œå°è¯•æ”¹å˜ç¼–è¾‘å™¨çš„ç¼–ç æ–¹å¼ï¼Œæ¥å°è¯•æ˜¯å¦èƒ½æ­£å¸¸æ‰“å¼€æ–‡ä»¶ã€‚ æ˜¯çš„ï¼Œåªèƒ½åŽ»å°è¯•ã€‚å› ä¸ºåœ¨æ²¡æœ‰ä»»ä½•ä¿¡æ¯çš„æƒ…å†µä¸‹ï¼Œç»™æˆ‘ä»¬ä¸€ä¸²å­—èŠ‚åºåˆ—ï¼Œæˆ‘ä»¬æ˜¯ä¸çŸ¥é“å®ƒçš„ç¼–ç æ–¹å¼çš„ã€‚ æ‰€ä»¥ï¼Œåœ¨å¹³æ—¶çš„æ–‡ä»¶å­˜å‚¨å’Œä¼ è¾“ä¸­ï¼Œç»Ÿä¸€ç¼–ç æ–¹å¼æ˜¯å¾ˆé‡è¦çš„ã€‚ 2.4 ç»Ÿä¸€ç¼–ç åœ¨æ—¥å¸¸çš„ä½¿ç”¨ä¸­ï¼Œé¿å…ä¹±ç çš„é‡è¦æ–¹å¼å°±æ˜¯ç»Ÿä¸€ä½ çš„ç¼–ç æ–¹å¼ã€‚ ä¸€èˆ¬æˆ‘ä»¬å°†ç¼–ç æ–¹å¼ç»Ÿä¸€ä¸º utf-8ï¼Œä¸‹é¢ç»™å‡ºäº†ä¸€äº›å‚è€ƒçš„å»ºè®®ï¼š linux ä½¿ç”¨ Python æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç æŸ¥çœ‹é»˜è®¤ç¼–ç ï¼š 12&gt;&gt;&gt; import sys&gt;&gt;&gt; sys.getfilesystemencoding() æŸ¥çœ‹æ˜¯å¦ä¸º utf-8ï¼Œå¦‚æžœä¸æ˜¯ï¼Œæ”¹æˆ utf-8ã€‚ windows é»˜è®¤ç¼–ç æ–¹å¼ä¸º utf-8ï¼Œä¸éœ€è¦ä¿®æ”¹ åœ¨ä½¿ç”¨ open å‡½æ•°åŠå…¶ä»–è¯»å†™å‡½æ•°æ—¶ï¼ŒåŠ ä¸Š encoding=utf-8ï¼Œç¡®ä¿æ–‡ä»¶ä»¥ utf-8 æ–¹å¼ç¼–ç å’Œè§£ç ã€‚ ä½¿ç”¨è¿œç¨‹è¿žæŽ¥è½¯ä»¶æ—¶ï¼Œæ¯”å¦‚ XShell æˆ– MobaXterm ï¼Œå°†è½¯ä»¶çš„ç¼–ç é€‰ä¸º utf-8ï¼Œè¿™æ ·å¯ä»¥ä¿è¯è¿œç¨‹è¿žæŽ¥æ˜¾ç¤ºæ­£å¸¸ã€‚ ä¸è¦ä¾èµ–ç³»ç»Ÿçš„é»˜è®¤ç¼–ç ï¼Œæ‰“å¼€æ–‡ä»¶æ—¶åº”å§‹ç»ˆæ˜Žç¡®ä¼ å…¥ encoding = å‚æ•°ï¼Œå› ä¸ºä¸åŒè®¾å¤‡ä½¿ç”¨çš„é»˜è®¤ç¼–ç ä¸åŒï¼Œå³ä½¿æ˜¯åŒä¸€è®¾å¤‡ï¼Œä¹Ÿå¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚ å…¶å®žï¼Œç†è§£äº†ä¸ºä½•éœ€è¦åšä¸Šè¿°å¤„ç†ï¼Œä¹ŸåŸºæœ¬å°±ç†è§£äº†ç¼–ç ã€‚ç¢°åˆ°ç¼–ç é—®é¢˜ï¼Œç»“åˆé”™è¯¯ä¿¡æ¯ï¼ŒåŸºæœ¬ä¸Šå°±èƒ½å¾ˆå¿«æ‰¾å‡ºå‘ç”Ÿé”™è¯¯çš„åŽŸå› äº†ã€‚ä¸è¿‡ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œæˆ‘è¿˜æ˜¯å°†å¸¸è§çš„é—®é¢˜æ€»ç»“äº†ä¸‹ã€‚ 3. å¸¸è§é—®é¢˜åŽŸå› åŠè§£å†³æ–¹æ¡ˆ3.1 UnicodeEncodeErrorå¤šæ•°éž UTF ç¼–ç å™¨åªèƒ½å¤„ç† Unicode å­—ç¬¦çš„ä¸€å°éƒ¨åˆ†å­é›†ã€‚æŠŠæ–‡æœ¬è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—æ—¶ï¼Œå¦‚æžœç›®æ ‡ç¼–ç ä¸­æ²¡æœ‰å®šä¹‰æŸä¸ªå­—ç¬¦ï¼Œå°±ä¼šæŠ›å‡º UnicodeEncodeError å¼‚å¸¸ã€‚ çœ‹ä¸ªä¾‹å­ï¼š1234&gt;&gt;&gt; 'ä¸­æ–‡'.encode('ascii')Traceback (most recent call last): File "&lt;stdin&gt;", line 1, in &lt;module&gt;UnicodeEncodeError: 'ascii' codec can't encode characters in position 0-1: ordinal not in range(128) å½“æˆ‘ä»¬å°è¯•å°†ä¸­æ–‡å­—ç¬¦ä»¥ ASCII æ–¹å¼ç¼–ç æ—¶ï¼ŒæŠ¥å‡ºäº† UnicodeEncodeErrorã€‚è¿™ä¸ªåŽŸå› å¾ˆæ˜Žæ˜¾ï¼ŒASCII ç¼–ç æ–¹å¼å¹¶æ²¡æœ‰å®šä¹‰ä¸­æ–‡å­—ç¬¦ï¼Œæ— æ³•å¯¹ä¸­æ–‡å­—ç¬¦è¿›è¡Œç¼–ç ã€‚ ç¢°åˆ°è¿™ç§é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ errors å‚æ•°è¿›è¡Œå¤„ç†ï¼š12&gt;&gt;&gt; 'ä¸­æ–‡'.encode('ascii', errors='ignore')b'' æˆ‘ä»¬å°†é”™è¯¯çš„ç¼–ç å¿½ç•¥æŽ‰ï¼Œæœ€åŽå¾—åˆ°ç©ºçš„å­—èŠ‚åºåˆ—ã€‚é€šå¸¸ï¼Œè¿™æ ·åšæ˜¯éžå¸¸ä¸å¦¥çš„ã€‚ errors å‚æ•°è¿˜æœ‰è®¸å¤šå¯é€‰é¡¹ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡ŒæŽ¢ç´¢ã€‚ æ¯”è¾ƒå¦¥å½“çš„è§£å†³æ–¹æ¡ˆï¼Œå½“ç„¶æ˜¯é€‰æ‹©åˆé€‚çš„ç¼–ç æ–¹å¼ã€‚è¿™ä¸ªéœ€è¦æ ¹æ®å…·ä½“æƒ…å†µè€Œå®šï¼Œç›¸ä¿¡ï¼Œç†è§£äº†è¿™ä¸ªé”™è¯¯å‘ç”Ÿçš„åŽŸå› ï¼Œè§£å†³èµ·æ¥å°±å¾ˆè½»æ¾å•¦ï¼ 3.2 UnicodeDecodeErrorä¸æ˜¯æ¯ä¸€ä¸ªå­—èŠ‚éƒ½åŒ…å«æœ‰æœ‰æ•ˆçš„ ASCII å­—ç¬¦ï¼Œä¹Ÿä¸æ˜¯æ¯ä¸€ä¸ªå­—ç¬¦åºåˆ—éƒ½æ˜¯æœ‰æ•ˆçš„ utf-8 ã€‚å› æ­¤æŠŠäºŒè¿›åˆ¶åºåˆ—è½¬æ¢ä¸ºæ–‡æœ¬æ—¶ï¼Œé‡åˆ°æ— æ³•è½¬æ¢çš„å­—èŠ‚åºåˆ—å°±ä¼šæŠ›å‡º UnicodeDecodeErrorã€‚ çœ‹ä¸ªä¾‹å­ï¼š12345&gt;&gt;&gt; b = b'\xe4\xb8\xad\xe6\x96\x87'&gt;&gt;&gt; b.decode('ascii')Traceback (most recent call last): File "&lt;stdin&gt;", line 1, in &lt;module&gt;UnicodeDecodeError: 'ascii' codec can't decode byte 0xe4 in position 0: ordinal not in range(128) b æ˜¯å­—ç¬¦ â€˜ä¸­æ–‡â€™ ä»¥ utf-8 æ–¹å¼ç¼–ç å½¢æˆçš„å­—èŠ‚åºåˆ—ï¼Œå±žäºŽ Python3 ä¸­çš„ bytes ç±»åž‹ã€‚å°†è¯¥å­—èŠ‚åºåˆ—ä»¥ ASCII æ–¹å¼è§£ç æ—¶æŠ›å‡ºäº† UnicodeDecodeErrorã€‚ 4 æ€»ç»“æœ¬æ–‡è¯¦ç»†é˜è¿°äº†ç¼–ç çš„åŽŸç†åŠå„ç§é—®é¢˜å‘ç”Ÿçš„åŽŸå› ï¼Œç›¸ä¿¡æžæ‡‚è¿™äº›ï¼Œä»¥åŽç¢°åˆ°ç¼–ç é—®é¢˜å°±å†ä¹Ÿä¸ç”¨æ±‚åŠ© Google äº†ã€‚çŸ¥é“äº†é—®é¢˜å‘ç”Ÿçš„åŽŸå› ï¼Œæˆ‘ä»¬è‡ªå·±å°±èƒ½è¿…é€Ÿè§£å†³äº†ï¼ å‚è€ƒæ–‡çŒ®å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™-å­—ç¬¦ä¸²å’Œç¼–ç å¤§é“è‡³ç®€ï¼šå²ä¸Šæœ€æ˜“æ‡‚çš„ã€Žä¹±ç ã€è§£å†³æ–¹æ¡ˆã€Šæµç•…çš„Pythonã€‹]]></content>
      <tags>
        <tag>ç¼–ç¨‹è¯­è¨€ ç¼–ç </tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœºå™¨å­¦ä¹ ç®—æ³•ç³»åˆ—ï¼ˆ1ï¼‰- é€»è¾‘æ–¯è’‚å›žå½’]]></title>
    <url>%2F2018%2F01%2F21%2F%E6%B5%85%E8%B0%88%E9%80%BB%E8%BE%91%E6%96%AF%E8%92%82%E5%9B%9E%E5%BD%92%2F</url>
    <content type="text"><![CDATA[è½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ï¼šhttps://zhuyuhe.github.io/2018/01/21/%E6%B5%85%E8%B0%88%E9%80%BB%E8%BE%91%E6%96%AF%E8%92%82%E5%9B%9E%E5%BD%92/ åšä¸»å³å°†å¼€å§‹æ±‚èŒä¹‹æ—…ï¼ŒäºŽæ˜¯æ­äº†è¿™ä¸ªåšå®¢ï¼Œå°†å¤‡æˆ˜æ˜¥æ‹›å’Œç§‹æ‹›çš„å¤ä¹ ç¬”è®°è®°å½•äºŽæ­¤ã€‚æ­¤ç³»åˆ—æ˜¯å¯¹æœºå™¨å­¦ä¹ ç®—æ³•ç†è®ºçš„å¤ä¹ ï¼ŒåŠ›æ±‚æžæ‡‚ç®—æ³•çš„æ¥é¾™åŽ»è„‰ï¼Œå…¬å¼ç¹å¤šï¼ŒåºŸè¯è¾ƒå°‘ã€‚ä»¥åŽæœ‰æ—¶é—´ä¼šåœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œå®Œå–„ï¼ŒåŠ›æ±‚é€šä¿—æ˜“æ‡‚ã€‚å¦‚æœ‰ä¸è¶³ä¹‹å¤„ï¼Œè¿˜è¯·å„ä½è¯»è€…æŒ‡æ­£ï¼ 1.ä»Žå¹¿ä¹‰çº¿æ€§æ¨¡åž‹åˆ°sigmoidå‡½æ•°é¦–å…ˆï¼ŒLRæ˜¯äºŒåˆ†ç±»æ¨¡åž‹ï¼Œæˆ‘ä»¬å‡è®¾äºŒåˆ†ç±»é—®é¢˜æœä»Žä¼¯åŠªåˆ©åˆ†å¸ƒã€‚å³å…¶æ¦‚çŽ‡åˆ†å¸ƒä¸ºï¼š P(y;\phi)= \phi^y (1-\phi)^{1-y} = exp(ylog\phi + (1-y)log(1-\phi))=exp(ylog\frac{\phi}{1-\phi} + log(1-\phi))è€Œä¼¯åŠªåˆ©åˆ†å¸ƒå±žäºŽæŒ‡æ•°è”Ÿåˆ†å¸ƒï¼Œå³å…¶æ¦‚çŽ‡åˆ†å¸ƒå¯ä»¥å†™æˆå¦‚ä¸‹å½¢å¼ï¼š P(y;\eta)= b(y)exp(\eta^TT(y)-\alpha(\eta))å…¶ä¸­ï¼Œ$\eta$ä¸ºè‡ªç„¶å‚æ•°ã€‚å¹¿ä¹‰çº¿æ€§æ¨¡åž‹è®¤ä¸ºè¾“å…¥xä¸Žè‡ªç„¶å‚æ•°$\eta$ä¸ºçº¿æ€§å…³ç³»ï¼Œå³$\eta = \theta^TX$ã€‚å¯¹æ¯”ä¸Šè¿°ä¸¤å¼å¯ä»¥å¾—åˆ°ï¼š b(y) = 1T(y) = y\eta = log\frac{\phi}{1-\phi}æ‰€ä»¥æœ‰ \theta^TX = \eta = log\frac{\phi}{1-\phi}å¾—åˆ° \phi = \frac{1}{1+e ^ {-\theta^TX}}è¿™é‡Œçš„$\phi$å°±æ˜¯ä¼¯åŠªåˆ©åˆ†å¸ƒä¸­çš„P(Y=1|X)è€ŒLRä¸­çš„æ¨¡åž‹è¾“å‡º h(x) = E(y|x) = 0 Â· P(Y=0|X) + 1 Â· P(Y=1|X) = \frac{1}{1+e ^ {-\theta^TX}}è¿™å°±æŽ¨å¯¼å‡ºäº†é€»è¾‘æ–¯è’‚å›žå½’æ¨¡åž‹ã€‚ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆLRè¦ç”¨sigmoidå‡½æ•°ï¼Œå› ä¸ºæˆ‘ä»¬ä»Žå¹¿ä¹‰çº¿æ€§æ¨¡åž‹å‡ºå‘ï¼ŒæŽ¨å¯¼å‡ºçš„LRæ¨¡åž‹åˆšå¥½å°±æ˜¯sigmoidå‡½æ•°å½¢å¼çš„ã€‚å¹¶ä¸”sigmoidæœ‰å¾ˆå¤šè‰¯å¥½çš„æ•°å­¦æ€§è´¨ï¼š è¿žç»­å¯å¯¼ å€¼åŸŸä¸ºï¼ˆ0,1ï¼‰,ç»™äº†æ¨¡åž‹å¯è§£é‡Šæ€§ï¼Œå³å°†è¾“å‡ºç»“æžœè§£é‡Šä¸ºå¯¹åº”äºŽè¯¥åˆ†ç±»çš„æ¦‚çŽ‡ ä¸‹ä¸€èŠ‚æˆ‘ä»¬å°†ä»ŽæŽ¨å¯¼å‡ºçš„lræ¨¡åž‹å‡ºå‘ï¼ŒåŽ»çœ‹çœ‹å®ƒçš„æŸå¤±å‡½æ•°æ˜¯æ€Žä¹ˆæ¥çš„ã€‚ 2. ä»Žæžå¤§ä¼¼ç„¶ä¼°è®¡åˆ°æŸå¤±å‡½æ•°ç»™å®šä¸€ç»„æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦ç”¨è¿™ç»„æ•°æ®åŽ»æ‰¾åˆ°æœ€å¥½çš„å‚æ•°$\theta$ã€‚æˆ‘ä»¬è®¤ä¸ºä½¿è§‚æµ‹ç»“æžœï¼ˆå³çŽ°æœ‰çš„æ•°æ®ï¼‰å‡ºçŽ°çš„æ¦‚çŽ‡æœ€å¤§çš„å‚æ•°$\theta$å°±æ˜¯æœ€ä¼˜çš„å‚æ•°ã€‚è¿™ç§æ€æƒ³å°±æ˜¯æžå¤§ä¼¼ç„¶ä¼°è®¡ã€‚å‡è®¾è¿™ç»„æ•°æ®ç‹¬ç«‹åŒåˆ†å¸ƒï¼Œå…¶è”åˆæ¦‚çŽ‡å¯ä»¥å†™æˆå„æ ·æœ¬å‡ºçŽ°æ¦‚çŽ‡çš„ä¹˜ç§¯ã€‚å³ L(\theta) = \prod_{i=1} ^ m P_i = \prod_{i=1} ^ m {P(y ^ {(i)}=1 | X ^ {(i)})}^{y ^ {(i)}}{P(y ^ {(i)}=0 | X ^ {(i)})} ^ {1-y ^ {(i)}}ä»¥ä¸Šå‡½æ•°ç§°ä¸ºä¼¼ç„¶å‡½æ•°ã€‚æˆ‘ä»¬çš„ç›®æ ‡ä¾¿æ˜¯æœ€å¤§åŒ–ä¼¼ç„¶å‡½æ•°ï¼Œå³æ‰¾åˆ°ä½¿è”åˆæ¦‚çŽ‡ï¼ˆä¹Ÿå°±æ˜¯ä¼¼ç„¶å‡½æ•°ï¼‰æœ€å¤§çš„å‚æ•°$\theta$ã€‚ä¸ºäº†æ–¹ä¾¿æ±‚è§£ï¼Œå¯¹ä¼¼ç„¶å‡½æ•°å–å¯¹æ•°ï¼Œå¾—åˆ°å¯¹æ•°ä¼¼ç„¶å‡½æ•°ï¼š log L(\theta) = \sum_{i=1} ^ m y ^ {(i)}log \frac{1}{1+e ^ {-\theta ^ TX}} + (1-y ^ {(i)})log \frac{1}{1+e ^ {\theta ^ TX}}å¯¹å¯¹æ•°ä¼¼ç„¶å‡½æ•°å–è´Ÿå·ï¼Œæ±‚å¹³å‡ï¼Œå°±å¾—åˆ°äº†LRæ¨¡åž‹çš„æŸå¤±å‡½æ•°ï¼š J(\theta) = -\frac{1}{m}\sum_{i=1}^m (y ^ {(i)}log \frac{1}{1+e ^ {-\theta^TX}} + (1-y^{(i)})log \frac{1}{1+e ^ {\theta^TX}})çŽ°åœ¨æˆ‘ä»¬çš„ç›®æ ‡å°±å°±å¾ˆæ˜Žç¡®äº†ï¼šä¼˜åŒ–$J(\theta)$ï¼Œæ‰¾å‡ºä½¿$J(\theta)$æœ€å°çš„å‚æ•°$\theta$ï¼Œå°±æ˜¯æˆ‘ä»¬è®¤ä¸ºçš„æœ€ä¼˜çš„$\theta$ã€‚ 3. æ¢¯åº¦ä¸‹é™æ³•æ¢¯åº¦ä¸‹é™æ³•æ˜¯å¸¸ç”¨çš„ä¼˜åŒ–ç®—æ³•ä¹‹ä¸€ã€‚é’ˆå¯¹LRï¼Œæ¢¯åº¦ä¸‹é™æ³•çš„è¿‡ç¨‹å¦‚ä¸‹ï¼šé¦–å…ˆï¼Œæœ‰ J(\theta) = -\frac{1}{m}\sum_{i=1}^m (y ^ {(i)}log h(x^{(i)}) + (1-y^{(i)})log (1-h(x^{(i)}))å…¶ä¸­$h(x) = \frac{1}{1+e ^ {-\theta^TX}}$æŽ¥ä¸‹æ¥æ±‚æŸå¤±å‡½æ•°$J(\theta)$å¯¹å‚æ•°$\theta$çš„æ¢¯åº¦ï¼š \frac{\partial J(\theta)}{\partial \theta} = - \frac{1}{m}\sum_{i=1}^m[\frac{y ^ {(i)}}{h(x^{(i)})}Â·\frac{\partial h(x^{(i)})}{\partial \theta} - \frac{1- y ^ {(i)}}{1 - h(x^{(i)})}Â·\frac{\partial h(x^{(i)})}{\partial \theta}] = -\frac{1}{m} \sum_{i=1}^m\frac{\partial h(x^{(i)})}{\partial \theta}Â·\frac{y^{(i)} - h(x^{(i)})}{ h(x^{(i)})(1 - h(x^{(i)}))}å°†h(x)å¸¦å…¥ä¸Šå¼ï¼š \frac{\partial J(\theta)}{\partial \theta} = \frac{1}{m}\sum_{i=1}^m( h(x^{(i)}) - y^{(i)})Â·x ^ {(i)}å¾—åˆ°è¿­ä»£å…¬å¼ï¼š \theta := \theta - \alpha\frac{1}{m}\sum_{i=1}^m( h(x^{(i)}) - y^{(i)})Â·x ^ {(i)}$\alpha$å’Œ$\frac{1}{m}$ä¸ºå¸¸æ•°ï¼Œå› æ­¤å°†å…¶åˆå¹¶ï¼Œå¾—åˆ°ï¼š \theta := \theta - \alpha\sum_{i=1}^m( h(x^{(i)}) - y^{(i)})Â·x ^ {(i)}$\alpha$ç§°ä¸ºlearning rateã€‚æ³¨æ„ï¼Œå…¬å¼ä¸­çš„å˜é‡å‡ä¸ºå‘é‡å½¢å¼ã€‚è‡³æ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°äº†å‚æ•°$\theta$çš„è¿­ä»£å…¬å¼ï¼Œä¸æ–­è¿­ä»£ç›´åˆ°æ”¶æ•›æˆ–æŸå¤±å‡½æ•°å˜åŒ–å¾ˆå°ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†æœ€ä¼˜å‚æ•°$\theta$ 4. æ­£åˆ™åŒ–4.1 å‡è®¾ç©ºé—´ä¸Žå¥¥å¡å§†å‰ƒåˆ€åŽŸç†ç»™å®šæˆ‘ä»¬ä¸€ç»„æ•°æ®ï¼Œæˆ‘ä»¬è®¤ä¸ºè¿™ç»„æ•°æ®ä¸ºè§‚æµ‹ç»“æžœã€‚ç¬¦åˆè¿™ç»„è§‚æµ‹ç»“æžœçš„å‡è®¾æœ‰å¾ˆå¤šã€‚æˆ‘ä»¬å¯ä»¥æŠŠå­¦ä¹ è¿‡ç¨‹çœ‹åšåœ¨æ‰€æœ‰å‡è®¾ç»„æˆçš„ç©ºé—´ä¸­è¿›è¡Œæœç´¢çš„è¿‡ç¨‹ã€‚åœ¨è¿™ä¸ªæœç´¢è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæ‰¾åˆ°è®¸å¤šæ»¡è¶³è¿™ç»„è§‚æµ‹æ•°æ®çš„å‡è®¾ã€‚æ¯”å¦‚ï¼Œåæ ‡ç³»ä¸‹ä¸¤ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç›´çº¿æ‹Ÿåˆï¼Œä¹Ÿå¯ä»¥ç”¨äºŒæ¬¡æ›²çº¿æ‹Ÿåˆç­‰ç­‰ã€‚å½“å‡ºçŽ°ä¸¤ä¸ªæ¨¡åž‹å‡å¾ˆå¥½åœ°ç¬¦åˆå½“å‰æ•°æ®æ—¶ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªé€‰æ‹©æ¨¡åž‹çš„æŒ‡å¯¼åŽŸåˆ™ï¼š å¥¥å¡å§†å‰ƒåˆ€åŽŸç†ï¼šè¿™æ˜¯ä¸€ç§å¸¸ç”¨çš„ã€è‡ªç„¶ç§‘å­¦ç ”ç©¶ä¸­æœ€åŸºæœ¬çš„åŽŸåˆ™ï¼Œå³â€œè‹¥æœ‰å¤šä¸ªå‡è®¾ä¸Žè§‚å¯Ÿä¸€è‡´ï¼Œåˆ™é€‰æœ€ç®€å•çš„é‚£ä¸ªâ€ å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ¨¡åž‹çš„å­¦ä¹ è¿‡ç¨‹ä¸­ï¼ŒåŠ å…¥è¿™ä¸ªæŒ‡å¯¼åŽŸåˆ™ã€‚è¿™ä¸ªè¿‡ç¨‹ï¼Œå°±å«æ­£åˆ™åŒ–ã€‚åˆå«ç»“æž„é£Žé™©æœ€å°åŒ–ã€‚ 4.2 L0/L1/L2æ­£åˆ™åŒ–ä¸€èˆ¬ï¼Œæˆ‘ä»¬è®¤ä¸ºï¼Œå‚æ•°è¶Šå°‘ï¼Œæ¨¡åž‹è¶Šç®€å•ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æŸå¤±å‡½æ•°ä¸­åŠ å…¥ï¼ˆä¸ä¸º0çš„ï¼‰å‚æ•°ä¸ªæ•°æ¥æƒ©ç½šæ¨¡åž‹å¤æ‚åº¦ã€‚å³ J(\theta) = -\frac{1}{m}\sum_{i=1}^m (y ^ {(i)}log h(x^{(i)}) + (1-y^{(i)})log (1-h(x^{(i)})) + \lambda\sum_{i=1}^V1ï¼ˆ\theta_iï¼‰å…¶ä¸­ï¼ŒVä¸ºå‚æ•°æ•°é‡ï¼Œå¹¶ä¸” \begin{equation} 1(x) = \begin{cases} 0, & \text{if x = 0}\newline 1, & \text{if x != 0} \end{cases} \end{equation}è¿™ç§æ–¹æ³•å«åšL0æ­£åˆ™åŒ–ã€‚ä½†å®žé™…ä¸­å¹¶ä¸ä¼šä½¿ç”¨L0æ­£åˆ™åŒ–ï¼Œå› ä¸ºå¾ˆéš¾æ±‚è§£ã€‚å› æ­¤å®žé™…ä¸­å¾€å¾€ä½¿ç”¨L1æˆ–L2æ­£åˆ™åŒ–æ¥æ›¿ä»£L0æ­£åˆ™åŒ–ã€‚L1æ­£åˆ™åŒ–ä¸ºï¼š \lambda||\theta||_1 = \lambda \sum _{i=1}^V|\theta|L2æ­£åˆ™åŒ–ä¸ºï¼š \lambda||\theta||_2 = \lambda \sqrt{\sum _ {i=1}^V \theta_i ^ 2}L1æ­£åˆ™åŒ–å’ŒL2æ­£åˆ™åŒ–éƒ½å¯¹å‚æ•°çš„å¤§å°è¿›è¡Œäº†æƒ©ç½šã€‚è¿™é‡Œå…ˆè¯´æ˜Žä¸€ä¸ªé—®é¢˜ï¼š ä¸ºä»€ä¹ˆè®¤ä¸ºå‚æ•°è¶Šå°æ¨¡åž‹å¤æ‚åº¦ä¹Ÿè¶Šå°å‘¢ï¼Ÿå› ä¸ºè¶Šå¤æ‚çš„æ¨¡åž‹ï¼Œè¶Šæ˜¯å°è¯•å¯¹æ‰€æœ‰æ ·æœ¬è¿›è¡Œæ‹Ÿåˆï¼ŒåŒ…æ‹¬ä¸€äº›å¼‚å¸¸ç‚¹ã€‚è¿™ä¼šå¯¼è‡´æ¨¡åž‹åœ¨è¾ƒå°çš„è¾“å…¥åŒºé—´å†…ï¼Œäº§ç”Ÿè¾ƒå¤§çš„è¾“å‡ºæ³¢åŠ¨ã€‚è¾ƒå¤§çš„æ³¢åŠ¨ä»£è¡¨ç€è¿™ä¸ªåŒºé—´å†…å¯¼æ•°å¤§ï¼Œè€Œåªæœ‰è¾ƒå¤§çš„å‚æ•°æ‰ä¼šäº§ç”Ÿè¾ƒå¤§çš„å¯¼æ•°ã€‚å› æ­¤å‚æ•°è¶Šå¤§ï¼Œæˆ‘ä»¬è®¤ä¸ºæ¨¡åž‹è¶Šå¤æ‚ã€‚ åœ¨L1å’ŒL2æ­£åˆ™åŒ–çš„é€‰æ‹©ä¸­ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ï¼šL1æ­£åˆ™åŒ–ä¼šäº§ç”Ÿæ›´åŠ ç¨€ç–çš„è§£ï¼Œå³æ±‚å¾—çš„å‚æ•°ä¸­ä¼šæœ‰æ›´å¤šçš„0ï¼›L2æ­£åˆ™åŒ–ä¼šäº§ç”Ÿæ›´å¤šéž0ä½†å€¼è¾ƒå°çš„å‚æ•°ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼ŒL1æ­£åˆ™åŒ–ä¼šè¿‡æ»¤æŽ‰ä¸€äº›æ— ç”¨ç‰¹å¾ï¼ˆå‚æ•°ä¸º0ï¼Œç‰¹å¾å°±ä¸èµ·ä½œç”¨äº†ï¼‰ï¼Œå› æ­¤L1æ­£åˆ™åŒ–ä¹Ÿæ˜¯ä¸€ç§ç‰¹å¾é€‰æ‹©æ–¹æ³•ã€‚åªä¸è¿‡ä¸Žæˆ‘ä»¬å¹³æ—¶æ‰‹åŠ¨é€‰æ‹©ç‰¹å¾ä¸åŒçš„æ˜¯ï¼ŒL1æ­£åˆ™åŒ–æ˜¯ä¸€ç§åµŒå…¥å¼åœ°ç‰¹å¾é€‰æ‹©æ–¹æ³•ï¼Œå…¶ç‰¹å¾é€‰æ‹©è¿‡ç¨‹ä¸Žæ¨¡åž‹çš„è®­ç»ƒè¿‡ç¨‹èžä¸ºä¸€ä½“ï¼ŒåŒæ—¶å®Œæˆäº†ã€‚ æ‰€ä»¥ï¼Œå½“æ‰€æœ‰ç‰¹å¾ä¸­åªæœ‰å°‘éƒ¨åˆ†èµ·ä½œç”¨ï¼Œè€Œæˆ‘ä»¬äººå·¥æ— æ³•è¾¨åˆ«æ—¶ï¼Œå¯ä»¥ç”¨L1æ­£åˆ™åŒ–ã€‚å½“å¤§éƒ¨åˆ†ç‰¹å¾éƒ½èƒ½èµ·ä½œç”¨æ—¶ï¼Œä½¿ç”¨L2æ­£åˆ™åŒ–ä¹Ÿè®¸æ›´åˆé€‚ã€‚ 5. æ€§èƒ½åº¦é‡æ¨¡åž‹è®­ç»ƒå®Œæ¯•åŽï¼Œæˆ‘ä»¬éœ€è¦æŒ‡æ ‡æ¥è¯„ä»·å…¶æ€§èƒ½ã€‚åœ¨å›žå½’ä»»åŠ¡ä¸­ï¼Œå¸¸ç”¨çš„æ€§èƒ½åº¦é‡æ˜¯â€œå‡æ–¹è¯¯å·®â€ï¼š \frac{1}{m}\sum_{i=1}^m(h(x ^ {(i)}) - y^{(i)}) ^ 2äºŒåˆ†ç±»å¸¸ç”¨çš„æ€§èƒ½åº¦é‡ä¸ºæŸ¥å‡†çŽ‡ã€æŸ¥å…¨çŽ‡ä¸ŽF1ã€‚å¯¹äºŽäºŒåˆ†ç±»é—®é¢˜ï¼Œå¯å°†æ ·æœ¬æ ¹æ®å…¶çœŸå®žç±»åˆ«ä¸Žé¢„æµ‹ç±»åˆ«çš„ç»„åˆåˆ’åˆ†ä¸ºå¦‚ä¸‹æƒ…å†µï¼š çœŸå®žæƒ…å†µ é¢„æµ‹æƒ…å†µ æ­£ä¾‹ åä¾‹ æ­£ä¾‹ TP(çœŸæ­£ä¾‹) FN(å‡åä¾‹) åä¾‹ FP(å‡æ­£ä¾‹) TN(çœŸåä¾‹) æŸ¥å‡†çŽ‡Pä¸ŽæŸ¥å…¨çŽ‡åˆ†åˆ«å®šä¹‰ä¸ºï¼š P = \frac{TP}{TP+FP}R = \frac{TP}{TP+FN}ç›´è§‚ä¸Šç†è§£ï¼ŒæŸ¥å‡†çŽ‡å°±æ˜¯æˆ‘ä»¬é¢„æµ‹çš„æ­£ä¾‹ä¸­ï¼Œæœ‰å¤šå¤§æ¯”ä¾‹é¢„æµ‹æ­£ç¡®äº†ï¼›æŸ¥å…¨çŽ‡åˆ™æ˜¯ï¼Œåœ¨åŽŸå§‹æ ·æœ¬çš„æ‰€æœ‰æ­£ä¾‹ä¸­ï¼Œæˆ‘ä»¬æœ‰å¤šå¤§æ¯”ä¾‹é¢„æµ‹æ­£ç¡®äº†ã€‚ æŸ¥å‡†çŽ‡ä¸ŽæŸ¥å…¨çŽ‡æ˜¯ä¸€å¯¹ç›¸äº’çŸ›ç›¾çš„æŒ‡æ ‡ã€‚ä¸€èˆ¬æ¥è¯´ï¼ŒæŸ¥å‡†çŽ‡é«˜æ—¶ï¼ŒæŸ¥å…¨çŽ‡å¾€å¾€åä½Žï¼›æŸ¥å…¨çŽ‡é«˜æ—¶ï¼ŒæŸ¥å‡†çŽ‡å¾€å¾€åä½Žã€‚é€šå¸¸ä¸¤ä¸ªæ¨¡åž‹çš„æŸ¥å‡†çŽ‡ä¸ŽæŸ¥å…¨çŽ‡æ— æ³•æ¯”è¾ƒå­°ä¼˜å­°åŠ£æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥ç»¼åˆè€ƒè™‘è¿™ä¸¤ä¸ªæŒ‡æ ‡ã€‚å¸¸ç”¨çš„æ˜¯F1åº¦é‡ï¼š F1 = \frac{2Â·PÂ·R}{P+R} = \frac{2Â·TP}{æ ·ä¾‹æ€»æ•°+TP-TN}åœ¨å¹³æ—¶çš„åº”ç”¨è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥æ ¹æ®å®žé™…ä»»åŠ¡å¯¹æŸ¥å‡†çŽ‡æˆ–æŸ¥å…¨çŽ‡çš„è¦æ±‚æ¥æ”¹å˜æƒé‡ï¼Œæ¥èŽ·å–æ›´ä¸€èˆ¬çš„Fåº¦é‡ã€‚ å†™åœ¨åŽé¢æœ¬æ–‡ä»Žå¹¿ä¹‰çº¿æ€§æ¨¡åž‹å‡ºå‘ï¼ŒæŽ¨å¯¼äº†LRæ¨¡åž‹çš„äº§ç”Ÿï¼ŒæŸå¤±å‡½æ•°çš„å»ºç«‹ï¼Œå¦‚ä½•åŽ»ä¼˜åŒ–æŸå¤±å‡½æ•°ï¼Œæ­£åˆ™åŒ–ä»¥åŠæ€§èƒ½åº¦é‡ã€‚å¸Œæœ›èƒ½å¤Ÿå¸®åŠ©åˆ°å¤§å®¶ã€‚ç”±äºŽæ‰€å­¦ç²—æµ…ï¼Œæ–‡ä¸­å¦‚æœ‰é”™è¯¯æˆ–ä¸è¶³ï¼Œè¿˜è¯·å„ä½è¯»è€…æ‰¹è¯„æŒ‡æ­£ï¼Œæ„Ÿæ¿€ä¸å°½ï¼æˆ‘çš„é‚®ç®±ï¼š3120104930@zju.edu.cn]]></content>
      <tags>
        <tag>ML</tag>
      </tags>
  </entry>
</search>
